/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "_content/Syncfusion.Blazor/scripts/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./bundles/stockchart.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./bundles/stockchart.js":
/*!*******************************!*\
  !*** ./bundles/stockchart.js ***!
  \*******************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_stockchart_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/stockchart.js */ "./modules/stockchart.js");
/* harmony import */ var _modules_stockchart_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_stockchart_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./modules/stockchart.js":
/*!*******************************!*\
  !*** ./modules/stockchart.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}window.sf=window.sf||{};var sfstockchart=function sfstockchart(exports){'use strict';/**
 * Specifies Chart Themes
 */ // eslint-disable-next-line @typescript-eslint/no-namespace
var Theme;(function(Theme){/** @private */Theme.axisLabelFont={size:'12px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.axisTitleFont={size:'14px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.chartTitleFont={size:'15px',fontWeight:'500',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.chartSubTitleFont={size:'11px',fontWeight:'500',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.crosshairLabelFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.tooltipLabelFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.legendLabelFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.legendTitleFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.stripLineLabelFont={size:'12px',fontWeight:'Regular',color:'#353535',fontStyle:'Normal',fontFamily:'Segoe UI'};/** @private */Theme.stockEventFont={size:'13px',fontWeight:'Normal',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};})(Theme||(Theme={}));/** @private */function getSeriesColor(theme){var palette;switch(theme){case'Fabric':palette=['#4472c4','#ed7d31','#ffc000','#70ad47','#5b9bd5','#c1c1c1','#6f6fe2','#e269ae','#9e480e','#997300'];break;case'Bootstrap4':palette=['#a16ee5','#f7ce69','#55a5c2','#7ddf1e','#ff6ea6','#7953ac','#b99b4f','#407c92','#5ea716','#b91c52'];break;case'Bootstrap':palette=['#a16ee5','#f7ce69','#55a5c2','#7ddf1e','#ff6ea6','#7953ac','#b99b4f','#407c92','#5ea716','#b91c52'];break;case'HighContrastLight':case'Highcontrast':case'HighContrast':palette=['#79ECE4','#E98272','#DFE6B6','#C6E773','#BA98FF','#FA83C3','#00C27A','#43ACEF','#D681EF','#D8BC6E'];break;case'MaterialDark':palette=['#00bdae','#404041','#357cd2','#e56590','#f8b883','#70ad47','#dd8abd','#7f84e8','#7bb4eb','#ea7a57'];break;case'FabricDark':palette=['#4472c4','#ed7d31','#ffc000','#70ad47','#5b9bd5','#c1c1c1','#6f6fe2','#e269ae','#9e480e','#997300'];break;case'BootstrapDark':palette=['#a16ee5','#f7ce69','#55a5c2','#7ddf1e','#ff6ea6','#7953ac','#b99b4f','#407c92','#5ea716','#b91c52'];break;// palette = ['#B586FF', '#71F9A3', '#FF9572', '#5BD5FF', '#F9F871',
//     '#B6F971', '#8D71F9', '#FF6F91', '#FFC75F', '#D55DB1'];
// break;
default:palette=['#00bdae','#404041','#357cd2','#e56590','#f8b883','#70ad47','#dd8abd','#7f84e8','#7bb4eb','#ea7a57'];break;}return palette;}/** @private */function getThemeColor(theme){var style;var darkBackground=theme==='MaterialDark'?'#303030':theme==='FabricDark'?'#201F1F':'1A1A1A';switch(theme){case'HighContrastLight':case'Highcontrast':case'HighContrast':style={axisLabel:'#ffffff',axisTitle:'#ffffff',axisLine:'#ffffff',majorGridLine:'#BFBFBF',minorGridLine:'#969696',majorTickLine:'#BFBFBF',minorTickLine:'#969696',chartTitle:'#ffffff',legendLabel:'#ffffff',background:'#000000',areaBorder:'#ffffff',errorBar:'#ffffff',crosshairLine:'#ffffff',crosshairFill:'#ffffff',crosshairLabel:'#000000',tooltipFill:'#ffffff',tooltipBoldLabel:'#000000',tooltipLightLabel:'#000000',tooltipHeaderLine:'#969696',markerShadow:'#BFBFBF',selectionRectFill:'rgba(255, 217, 57, 0.3)',selectionRectStroke:'#ffffff',selectionCircleStroke:'#FFD939'};break;case'MaterialDark':case'FabricDark':case'BootstrapDark':style={axisLabel:'#DADADA',axisTitle:'#ffffff',axisLine:' #6F6C6C',majorGridLine:'#414040',minorGridLine:'#514F4F',majorTickLine:'#414040',minorTickLine:' #4A4848',chartTitle:'#ffffff',legendLabel:'#DADADA',background:darkBackground,areaBorder:' #9A9A9A',errorBar:'#ffffff',crosshairLine:'#F4F4F4',crosshairFill:'#F4F4F4',crosshairLabel:'#282727',tooltipFill:'#F4F4F4',tooltipBoldLabel:'#282727',tooltipLightLabel:'#333232',tooltipHeaderLine:'#9A9A9A',markerShadow:null,selectionRectFill:'rgba(56,169,255, 0.1)',selectionRectStroke:'#38A9FF',selectionCircleStroke:'#282727'};break;case'Bootstrap4':style={axisLabel:'#212529',axisTitle:'#ffffff',axisLine:'#CED4DA',majorGridLine:'#CED4DA',minorGridLine:'#DEE2E6',majorTickLine:'#ADB5BD',minorTickLine:'#CED4DA',chartTitle:'#212529',legendLabel:'#212529',background:'#FFFFFF',areaBorder:'#DEE2E6',errorBar:'#000000',crosshairLine:'#6C757D',crosshairFill:'#495057',crosshairLabel:'#FFFFFF',tooltipFill:'rgba(0, 0, 0, 0.9)',tooltipBoldLabel:'rgba(255,255,255)',tooltipLightLabel:'rgba(255,255,255, 0.9)',tooltipHeaderLine:'rgba(255,255,255, 0.2)',markerShadow:null,selectionRectFill:'rgba(255,255,255, 0.1)',selectionRectStroke:'rgba(0, 123, 255)',selectionCircleStroke:'#495057'};break;default:style={axisLabel:'#686868',axisTitle:'#424242',axisLine:'#b5b5b5',majorGridLine:'#dbdbdb',minorGridLine:'#eaeaea',majorTickLine:'#b5b5b5',minorTickLine:'#d6d6d6',chartTitle:'#424242',legendLabel:'#353535',background:'#FFFFFF',areaBorder:'Gray',errorBar:'#000000',crosshairLine:'#4f4f4f',crosshairFill:'#4f4f4f',crosshairLabel:'#e5e5e5',tooltipFill:'rgba(0, 8, 22, 0.75)',tooltipBoldLabel:'#ffffff',tooltipLightLabel:'#dbdbdb',tooltipHeaderLine:'#ffffff',markerShadow:null,selectionRectFill:'rgba(41, 171, 226, 0.1)',selectionRectStroke:'#29abe2',selectionCircleStroke:'#29abe2'};break;}return style;}/** @private */function getScrollbarThemeColor(theme){var scrollStyle;switch(theme){case'HighContrastLight':scrollStyle={backRect:'#333',thumb:'#bfbfbf',circle:'#fff',circleHover:'#685708',arrow:'#333',grip:'#333',arrowHover:'#fff',backRectBorder:'#969696'};break;case'Bootstrap':scrollStyle={backRect:'#f5f5f5',thumb:'#e6e6e6',circle:'#fff',circleHover:'#eee',arrow:'#8c8c8c',grip:'#8c8c8c'};break;case'Fabric':scrollStyle={backRect:'#f8f8f8',thumb:'#eaeaea',circle:'#fff',circleHover:'#eaeaea',arrow:'#a6a6a6',grip:'#a6a6a6'};break;default:scrollStyle={backRect:'#f5f5f5',thumb:'#e0e0e0',circle:'#fff',circleHover:'#eee',arrow:'#9e9e9e',grip:'#9e9e9e'};break;}return scrollStyle;}var __extends$2=undefined&&undefined.__extends||function(){var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics(d,b);};return function(d,b){_extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$1=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/**
 * Defines the appearance of the connectors
 */var Connector=/** @class */function(_super){__extends$2(Connector,_super);function Connector(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property('Line')],Connector.prototype,"type",void 0);__decorate$1([sf.base.Property(null)],Connector.prototype,"color",void 0);__decorate$1([sf.base.Property(1)],Connector.prototype,"width",void 0);__decorate$1([sf.base.Property(null)],Connector.prototype,"length",void 0);__decorate$1([sf.base.Property('')],Connector.prototype,"dashArray",void 0);return Connector;}(sf.base.ChildProperty);/**
 * Configures the fonts in charts.
 */var Font=/** @class */function(_super){__extends$2(Font,_super);function Font(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property('Normal')],Font.prototype,"fontStyle",void 0);__decorate$1([sf.base.Property('16px')],Font.prototype,"size",void 0);__decorate$1([sf.base.Property('Normal')],Font.prototype,"fontWeight",void 0);__decorate$1([sf.base.Property('')],Font.prototype,"color",void 0);__decorate$1([sf.base.Property('Center')],Font.prototype,"textAlignment",void 0);__decorate$1([sf.base.Property('Segoe UI')],Font.prototype,"fontFamily",void 0);__decorate$1([sf.base.Property(1)],Font.prototype,"opacity",void 0);__decorate$1([sf.base.Property('Trim')],Font.prototype,"textOverflow",void 0);return Font;}(sf.base.ChildProperty);/**
 * Configures the borders in the chart.
 */var Border=/** @class */function(_super){__extends$2(Border,_super);function Border(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property('')],Border.prototype,"color",void 0);__decorate$1([sf.base.Property(1)],Border.prototype,"width",void 0);return Border;}(sf.base.ChildProperty);/**
 * Configures the marker position in the chart.
 */var Offset=/** @class */function(_super){__extends$2(Offset,_super);function Offset(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(0)],Offset.prototype,"x",void 0);__decorate$1([sf.base.Property(0)],Offset.prototype,"y",void 0);return Offset;}(sf.base.ChildProperty);/**
 * Configures the chart area.
 */var ChartArea=/** @class */function(_super){__extends$2(ChartArea,_super);function ChartArea(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Complex({},Border)],ChartArea.prototype,"border",void 0);__decorate$1([sf.base.Property('transparent')],ChartArea.prototype,"background",void 0);__decorate$1([sf.base.Property(1)],ChartArea.prototype,"opacity",void 0);__decorate$1([sf.base.Property(null)],ChartArea.prototype,"backgroundImage",void 0);return ChartArea;}(sf.base.ChildProperty);/**
 * Configures the chart margins.
 */var Margin=/** @class */function(_super){__extends$2(Margin,_super);function Margin(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(10)],Margin.prototype,"left",void 0);__decorate$1([sf.base.Property(10)],Margin.prototype,"right",void 0);__decorate$1([sf.base.Property(10)],Margin.prototype,"top",void 0);__decorate$1([sf.base.Property(10)],Margin.prototype,"bottom",void 0);return Margin;}(sf.base.ChildProperty);/**
 * Configures the chart Legend Container Padding.
 */var ContainerPadding=/** @class */function(_super){__extends$2(ContainerPadding,_super);function ContainerPadding(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(0)],ContainerPadding.prototype,"left",void 0);__decorate$1([sf.base.Property(0)],ContainerPadding.prototype,"right",void 0);__decorate$1([sf.base.Property(0)],ContainerPadding.prototype,"top",void 0);__decorate$1([sf.base.Property(0)],ContainerPadding.prototype,"bottom",void 0);return ContainerPadding;}(sf.base.ChildProperty);/**
 * Configures the animation behavior for chart series.
 */var Animation$1=/** @class */function(_super){__extends$2(Animation$$1,_super);function Animation$$1(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(true)],Animation$$1.prototype,"enable",void 0);__decorate$1([sf.base.Property(1000)],Animation$$1.prototype,"duration",void 0);__decorate$1([sf.base.Property(0)],Animation$$1.prototype,"delay",void 0);return Animation$$1;}(sf.base.ChildProperty);/**
 * Series and point index
 *
 * @public
 */var Indexes=/** @class */function(_super){__extends$2(Indexes,_super);function Indexes(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(0)],Indexes.prototype,"series",void 0);__decorate$1([sf.base.Property(0)],Indexes.prototype,"point",void 0);return Indexes;}(sf.base.ChildProperty);/**
 * Column series rounded corner options
 */var CornerRadius=/** @class */function(_super){__extends$2(CornerRadius,_super);function CornerRadius(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(0)],CornerRadius.prototype,"topLeft",void 0);__decorate$1([sf.base.Property(0)],CornerRadius.prototype,"topRight",void 0);__decorate$1([sf.base.Property(0)],CornerRadius.prototype,"bottomLeft",void 0);__decorate$1([sf.base.Property(0)],CornerRadius.prototype,"bottomRight",void 0);return CornerRadius;}(sf.base.ChildProperty);/**
 * @private
 */var Index=/** @class */function(){function Index(seriesIndex,pointIndex){this.series=seriesIndex;this.point=pointIndex;}return Index;}();/**
 * Configures the Empty Points of series
 */var EmptyPointSettings=/** @class */function(_super){__extends$2(EmptyPointSettings,_super);function EmptyPointSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(null)],EmptyPointSettings.prototype,"fill",void 0);__decorate$1([sf.base.Complex({color:'transparent',width:0},Border)],EmptyPointSettings.prototype,"border",void 0);__decorate$1([sf.base.Property('Gap')],EmptyPointSettings.prototype,"mode",void 0);return EmptyPointSettings;}(sf.base.ChildProperty);/**
 * Configures the drag settings of series
 */var DragSettings=/** @class */function(_super){__extends$2(DragSettings,_super);function DragSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(false)],DragSettings.prototype,"enable",void 0);__decorate$1([sf.base.Property(null)],DragSettings.prototype,"minY",void 0);__decorate$1([sf.base.Property(null)],DragSettings.prototype,"maxY",void 0);__decorate$1([sf.base.Property(null)],DragSettings.prototype,"fill",void 0);return DragSettings;}(sf.base.ChildProperty);/**
 * Configures the ToolTips in the chart.
 *
 * @public
 */var TooltipSettings=/** @class */function(_super){__extends$2(TooltipSettings,_super);function TooltipSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(false)],TooltipSettings.prototype,"enable",void 0);__decorate$1([sf.base.Property(true)],TooltipSettings.prototype,"enableMarker",void 0);__decorate$1([sf.base.Property(false)],TooltipSettings.prototype,"shared",void 0);__decorate$1([sf.base.Property(null)],TooltipSettings.prototype,"fill",void 0);__decorate$1([sf.base.Property(null)],TooltipSettings.prototype,"header",void 0);__decorate$1([sf.base.Property(0.75)],TooltipSettings.prototype,"opacity",void 0);__decorate$1([sf.base.Complex(Theme.tooltipLabelFont,Font)],TooltipSettings.prototype,"textStyle",void 0);__decorate$1([sf.base.Property(null)],TooltipSettings.prototype,"format",void 0);__decorate$1([sf.base.Property(null)],TooltipSettings.prototype,"template",void 0);__decorate$1([sf.base.Property(true)],TooltipSettings.prototype,"enableAnimation",void 0);__decorate$1([sf.base.Property(300)],TooltipSettings.prototype,"duration",void 0);__decorate$1([sf.base.Property(1000)],TooltipSettings.prototype,"fadeOutDuration",void 0);__decorate$1([sf.base.Property(false)],TooltipSettings.prototype,"enableTextWrap",void 0);__decorate$1([sf.base.Complex({color:'#cccccc',width:0.5},Border)],TooltipSettings.prototype,"border",void 0);return TooltipSettings;}(sf.base.ChildProperty);/**
 * button settings in period selector
 */var Periods=/** @class */function(_super){__extends$2(Periods,_super);function Periods(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property('Years')],Periods.prototype,"intervalType",void 0);__decorate$1([sf.base.Property(1)],Periods.prototype,"interval",void 0);__decorate$1([sf.base.Property(null)],Periods.prototype,"text",void 0);__decorate$1([sf.base.Property(false)],Periods.prototype,"selected",void 0);return Periods;}(sf.base.ChildProperty);/**
 * Period Selector Settings
 */var PeriodSelectorSettings=/** @class */function(_super){__extends$2(PeriodSelectorSettings,_super);function PeriodSelectorSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$1([sf.base.Property(43)],PeriodSelectorSettings.prototype,"height",void 0);__decorate$1([sf.base.Property('Bottom')],PeriodSelectorSettings.prototype,"position",void 0);__decorate$1([sf.base.Collection([],Periods)],PeriodSelectorSettings.prototype,"periods",void 0);return PeriodSelectorSettings;}(sf.base.ChildProperty);/* eslint-disable jsdoc/require-returns */ /**
 * Numeric Range.
 *
 * @private
 */var DoubleRange=/** @class */function(){function DoubleRange(start,end){/*
          if (!isNaN(start) && !isNaN(end)) {
           this.mIsEmpty = true;
          } else {
              this.mIsEmpty = false;
          }*/if(start<end){this.mStart=start;this.mEnd=end;}else{this.mStart=end;this.mEnd=start;}}Object.defineProperty(DoubleRange.prototype,"start",{//private mIsEmpty: boolean;
/** @private */get:function get(){return this.mStart;},enumerable:true,configurable:true});Object.defineProperty(DoubleRange.prototype,"end",{/** @private */get:function get(){return this.mEnd;},enumerable:true,configurable:true});Object.defineProperty(DoubleRange.prototype,"delta",{/*
          get isEmpty(): boolean {
             return this.mIsEmpty;
         }*/ /** @private */get:function get(){return this.mEnd-this.mStart;},enumerable:true,configurable:true});Object.defineProperty(DoubleRange.prototype,"median",{/** @private */get:function get(){return this.mStart+(this.mEnd-this.mStart)/2;},enumerable:true,configurable:true});return DoubleRange;}();/**
 * Numeric module is used to render numeric axis.
 */var Double=/** @class */function(){/**
     * Constructor for the dateTime module.
     *
     * @private
     */function Double(chart){this.isColumn=0;this.chart=chart;}/**
     * Numeric Nice Interval for the axis.
     *
     * @private
     */Double.prototype.calculateNumericNiceInterval=function(axis,delta,size){var actualDesiredIntervalsCount=getActualDesiredIntervalsCount(size,axis);var niceInterval=delta/actualDesiredIntervalsCount;if(!sf.base.isNullOrUndefined(axis.desiredIntervals)){return niceInterval;}var minInterval=Math.pow(10,Math.floor(logBase(niceInterval,10)));for(var _i=0,_a=axis.intervalDivs;_i<_a.length;_i++){var interval=_a[_i];var currentInterval=minInterval*interval;if(actualDesiredIntervalsCount<delta/currentInterval){break;}niceInterval=currentInterval;}return niceInterval;};/**
     * Actual Range for the axis.
     *
     * @private
     */Double.prototype.getActualRange=function(axis,size){this.initializeDoubleRange(axis);if(!axis.startFromZero&&this.isColumn>0){axis.actualRange.interval=axis.interval||this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size);axis.actualRange.max=axis.doubleRange.end+axis.actualRange.interval;if(axis.doubleRange.start-axis.actualRange.interval<0&&axis.doubleRange.start>0){axis.actualRange.min=0;}else{axis.actualRange.min=axis.doubleRange.start-axis.actualRange.interval;}}else{axis.actualRange.interval=axis.interval||this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size);axis.actualRange.min=axis.doubleRange.start;axis.actualRange.max=axis.doubleRange.end;}};/**
     * Range for the axis.
     *
     * @private
     */Double.prototype.initializeDoubleRange=function(axis){//Axis Min
if(axis.minimum!==null){this.min=axis.minimum;}else if(this.min===null||this.min===Number.POSITIVE_INFINITY){this.min=0;}// Axis Max
if(axis.maximum!==null){this.max=axis.maximum;}else if(this.max===null||this.max===Number.NEGATIVE_INFINITY){this.max=5;}if(this.min===this.max){this.max=axis.valueType.indexOf('Category')>-1?this.max:this.min+1;}axis.doubleRange=new DoubleRange(this.min,this.max);axis.actualRange={};};/**
     * The function to calculate the range and labels for the axis.
     *
     * @returns {void}
     * @private
     */Double.prototype.calculateRangeAndInterval=function(size,axis){this.calculateRange(axis);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis,this.chart);};/**
     * Calculate Range for the axis.
     *
     * @private
     */Double.prototype.calculateRange=function(axis){/*! Generate axis range */this.min=null;this.max=null;if(!setRange(axis)){for(var _i=0,_a=axis.series;_i<_a.length;_i++){var series=_a[_i];if(!series.visible){continue;}this.paddingInterval=0;axis.maxPointLength=series.points.length;if((series.type.indexOf('Column')>-1||series.type.indexOf('Histogram')>-1)&&axis.orientation==='Horizontal'||series.type.indexOf('Bar')>-1&&axis.orientation==='Vertical'){if((series.xAxis.valueType==='Double'||series.xAxis.valueType==='DateTime')&&series.xAxis.rangePadding==='Auto'){this.paddingInterval=getMinPointsDelta(series.xAxis,axis.series)*0.5;}}//For xRange
if(axis.orientation==='Horizontal'){if(this.chart.requireInvertedAxis){this.yAxisRange(axis,series);}else{this.findMinMax(series.xMin-this.paddingInterval,series.xMax+this.paddingInterval);}}// For yRange
if(axis.orientation==='Vertical'){this.isColumn+=series.type==='Column'||series.type==='Bar'||series.drawType==='Column'?1:0;if(this.chart.requireInvertedAxis){this.findMinMax(series.xMin-this.paddingInterval,series.xMax+this.paddingInterval);}else{this.yAxisRange(axis,series);}}}}};Double.prototype.yAxisRange=function(axis,series){if(series.dragSettings.enable&&this.chart.dragY){if(this.chart.dragY>=axis.visibleRange.max){series.yMax=this.chart.dragY+axis.visibleRange.interval;}if(this.chart.dragY<=axis.visibleRange.min){series.yMin=this.chart.dragY-axis.visibleRange.interval;}}this.findMinMax(series.yMin,series.yMax);};Double.prototype.findMinMax=function(min,max){if(this.min===null||this.min>min){this.min=min;}if(this.max===null||this.max<max){this.max=max;}if(this.max===this.min&&this.max<0&&this.min<0){// max == min
this.max=0;}};/**
     * Apply padding for the range.
     *
     * @private
     */Double.prototype.applyRangePadding=function(axis,size){var start=axis.actualRange.min;var end=axis.actualRange.max;if(!setRange(axis)){var interval=axis.actualRange.interval;var padding=axis.getRangePadding(this.chart);if(padding==='Additional'||padding==='Round'){this.findAdditional(axis,start,end,interval);}else if(padding==='Normal'){this.findNormal(axis,start,end,interval,size);}else{this.updateActualRange(axis,start,end,interval);}}axis.actualRange.delta=axis.actualRange.max-axis.actualRange.min;this.calculateVisibleRange(size,axis);};Double.prototype.updateActualRange=function(axis,minimum,maximum,interval){axis.actualRange={min:axis.minimum!=null?axis.minimum:minimum,max:axis.maximum!=null?axis.maximum:maximum,interval:axis.interval!=null?axis.interval:interval,delta:axis.actualRange.delta};};Double.prototype.findAdditional=function(axis,start,end,interval){var minimum;var maximum;minimum=Math.floor(start/interval)*interval;maximum=Math.ceil(end/interval)*interval;if(axis.rangePadding==='Additional'){minimum-=interval;maximum+=interval;}this.updateActualRange(axis,minimum,maximum,interval);};Double.prototype.findNormal=function(axis,start,end,interval,size){var remaining;var minimum;var maximum;var startValue=start;if(start<0){startValue=0;minimum=start+start*0.05;remaining=interval+minimum%interval;if(0.365*interval>=remaining){minimum-=interval;}if(minimum%interval<0){minimum=minimum-interval-minimum%interval;}}else{minimum=start<5.0/6.0*end?0:start-(end-start)*0.5;if(minimum%interval>0){minimum-=minimum%interval;}}maximum=end>0?end+(end-startValue)*0.05:end-(end-startValue)*0.05;remaining=interval-maximum%interval;if(0.365*interval>=remaining){maximum+=interval;}if(maximum%interval>0){maximum=maximum+interval-maximum%interval;}axis.doubleRange=new DoubleRange(minimum,maximum);if(minimum===0){interval=this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size);maximum=Math.ceil(maximum/interval)*interval;}this.updateActualRange(axis,minimum,maximum,interval);};/**
     * Calculate visible range for axis.
     *
     * @private
     */Double.prototype.calculateVisibleRange=function(size,axis){axis.visibleRange={max:axis.actualRange.max,min:axis.actualRange.min,delta:axis.actualRange.delta,interval:axis.actualRange.interval};if(this.chart.chartAreaType==='Cartesian'){var isLazyLoad=sf.base.isNullOrUndefined(axis.zoomingScrollBar)?false:axis.zoomingScrollBar.isLazyLoad;if((axis.zoomFactor<1||axis.zoomPosition>0)&&!isLazyLoad){axis.calculateVisibleRangeOnZooming(this.chart);axis.calculateAxisRange(size,this.chart);axis.visibleRange.interval=axis.enableAutoIntervalOnZooming&&axis.valueType!=='Category'?this.calculateNumericNiceInterval(axis,axis.doubleRange.delta,size):axis.visibleRange.interval;}}axis.triggerRangeRender(this.chart,axis.visibleRange.min,axis.visibleRange.max,axis.visibleRange.interval);};/**
     * Calculate label for the axis.
     *
     * @private
     */Double.prototype.calculateVisibleLabels=function(axis,chart){/*! Generate axis labels */axis.visibleLabels=[];var tempInterval=axis.visibleRange.min;var labelStyle;var controlName=chart.getModuleName();var isPolarRadar=controlName==='chart'&&chart.chartAreaType==='PolarRadar';if(!isPolarRadar&&(axis.zoomFactor<1||axis.zoomPosition>0||this.paddingInterval)){tempInterval=axis.visibleRange.min-axis.visibleRange.min%axis.visibleRange.interval;}var format=this.getFormat(axis);var isCustom=format.match('{value}')!==null;var intervalDigits=0;var formatDigits=0;if(axis.labelFormat&&axis.labelFormat.indexOf('n')>-1){formatDigits=parseInt(axis.labelFormat.substring(1,axis.labelFormat.length),10);}axis.format=chart.intl.getNumberFormat({format:isCustom?'':format,useGrouping:chart.useGroupingSeparator});axis.startLabel=axis.format(axis.visibleRange.min);axis.endLabel=axis.format(axis.visibleRange.max);if(axis.visibleRange.interval&&(axis.visibleRange.interval+'').indexOf('.')>=0){intervalDigits=(axis.visibleRange.interval+'').split('.')[1].length;}var duplicateTempInterval;for(;tempInterval<=axis.visibleRange.max&&duplicateTempInterval!==tempInterval;tempInterval+=axis.visibleRange.interval){duplicateTempInterval=tempInterval;labelStyle=sf.base.extend({},sf.base.getValue('properties',axis.labelStyle),null,true);if(withIn(tempInterval,axis.visibleRange)){triggerLabelRender(chart,tempInterval,this.formatValue(axis,isCustom,format,tempInterval),labelStyle,axis);}}if(tempInterval&&(tempInterval+'').indexOf('.')>=0&&(tempInterval+'').split('.')[1].length>10){tempInterval=(tempInterval+'').split('.')[1].length>(formatDigits||intervalDigits)?+tempInterval.toFixed(formatDigits||intervalDigits):tempInterval;if(tempInterval<=axis.visibleRange.max){triggerLabelRender(chart,tempInterval,this.formatValue(axis,isCustom,format,tempInterval),labelStyle,axis);}}if(axis.getMaxLabelWidth){axis.getMaxLabelWidth(this.chart);}};/**
     * Format of the axis label.
     *
     * @private
     */Double.prototype.getFormat=function(axis){if(axis.labelFormat){if(axis.labelFormat.indexOf('p')===0&&axis.labelFormat.indexOf('{value}')===-1&&axis.isStack100){return'{value}%';}return axis.labelFormat;}return axis.isStack100?'{value}%':'';};/**
     * Formatted the axis label.
     *
     * @private
     */Double.prototype.formatValue=function(axis,isCustom,format,tempInterval){return isCustom?format.replace('{value}',axis.format(tempInterval)):axis.format(tempInterval);};return Double;}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Specifies the chart constant value
 */ /** @private */ /** @private */var legendClick='legendClick';/** @private */var load='load';/** @private */ /** @private */var legendRender='legendRender';/** @private */var textRender='textRender';/** @private */var pointRender='pointRender';/** @private */var sharedTooltipRender='sharedTooltipRender';/** @private */var seriesRender='seriesRender';/** @private */var axisLabelRender='axisLabelRender';/** @private */var axisLabelClick='axisLabelClick';/** @private */var axisRangeCalculated='axisRangeCalculated';/** @private */var axisMultiLabelRender='axisMultiLabelRender';/** @private */var tooltipRender='tooltipRender';/** @private */var chartMouseMove='chartMouseMove';/** @private */var chartMouseClick='chartMouseClick';/** @private */var pointClick='pointClick';/** @private */var pointDoubleClick='pointDoubleClick';/** @private */var pointMove='pointMove';/** @private */var chartMouseLeave='chartMouseLeave';/** @private */var chartMouseDown='chartMouseDown';/** @private */var chartMouseUp='chartMouseUp';/** @private */var zoomComplete='zoomComplete';/** @private */var dragComplete='dragComplete';/** @private */var selectionComplete='selectionComplete';/** @private */var resized='resized';/** @private */var beforeResize='beforeResize';/** @private */var beforePrint='beforePrint';/** @private */var annotationRender='annotationRender';/** @private */var scrollStart='scrollStart';/** @private */var scrollEnd='scrollEnd';/** @private */var scrollChanged='scrollChanged';/** @private */var stockEventRender='stockEventRender';/** @private */var multiLevelLabelClick='multiLevelLabelClick';/** @private */var dragStart='dragStart';/** @private */var drag='drag';/** @private */var dragEnd='dragEnd';/*** @private*/var regSub=/~\d+~/g;/*** @private*/var regSup=/\^\d+\^/g;/** @private */var beforeExport='beforeExport';/** @private */var afterExport='afterExport';/** @private */ /** @private */var _onZooming='onZooming';var __extends$4=undefined&&undefined.__extends||function(){var _extendStatics2=function extendStatics(d,b){_extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics2(d,b);};return function(d,b){_extendStatics2(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$3=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable @typescript-eslint/ban-types */ /**
 * Configures the Annotation for chart.
 */var ChartAnnotationSettings=/** @class */function(_super){__extends$4(ChartAnnotationSettings,_super);function ChartAnnotationSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property('0')],ChartAnnotationSettings.prototype,"x",void 0);__decorate$3([sf.base.Property('0')],ChartAnnotationSettings.prototype,"y",void 0);__decorate$3([sf.base.Property(null)],ChartAnnotationSettings.prototype,"content",void 0);__decorate$3([sf.base.Property('Center')],ChartAnnotationSettings.prototype,"horizontalAlignment",void 0);__decorate$3([sf.base.Property('Pixel')],ChartAnnotationSettings.prototype,"coordinateUnits",void 0);__decorate$3([sf.base.Property('Chart')],ChartAnnotationSettings.prototype,"region",void 0);__decorate$3([sf.base.Property('Middle')],ChartAnnotationSettings.prototype,"verticalAlignment",void 0);__decorate$3([sf.base.Property(null)],ChartAnnotationSettings.prototype,"xAxisName",void 0);__decorate$3([sf.base.Property(null)],ChartAnnotationSettings.prototype,"yAxisName",void 0);__decorate$3([sf.base.Property(null)],ChartAnnotationSettings.prototype,"description",void 0);return ChartAnnotationSettings;}(sf.base.ChildProperty);/**
 * label border properties.
 */var LabelBorder=/** @class */function(_super){__extends$4(LabelBorder,_super);function LabelBorder(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property('')],LabelBorder.prototype,"color",void 0);__decorate$3([sf.base.Property(1)],LabelBorder.prototype,"width",void 0);__decorate$3([sf.base.Property('Rectangle')],LabelBorder.prototype,"type",void 0);return LabelBorder;}(sf.base.ChildProperty);/**
 * categories for multi level labels
 */var MultiLevelCategories=/** @class */function(_super){__extends$4(MultiLevelCategories,_super);function MultiLevelCategories(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property(null)],MultiLevelCategories.prototype,"start",void 0);__decorate$3([sf.base.Property(null)],MultiLevelCategories.prototype,"end",void 0);__decorate$3([sf.base.Property('')],MultiLevelCategories.prototype,"text",void 0);__decorate$3([sf.base.Property(null)],MultiLevelCategories.prototype,"maximumTextWidth",void 0);__decorate$3([sf.base.Property(null)],MultiLevelCategories.prototype,"customAttributes",void 0);__decorate$3([sf.base.Property('')],MultiLevelCategories.prototype,"type",void 0);return MultiLevelCategories;}(sf.base.ChildProperty);/**
 * Strip line properties
 */var StripLineSettings=/** @class */function(_super){__extends$4(StripLineSettings,_super);function StripLineSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property(true)],StripLineSettings.prototype,"visible",void 0);__decorate$3([sf.base.Property(false)],StripLineSettings.prototype,"startFromAxis",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"start",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"end",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"size",void 0);__decorate$3([sf.base.Property('#808080')],StripLineSettings.prototype,"color",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"dashArray",void 0);__decorate$3([sf.base.Property('Auto')],StripLineSettings.prototype,"sizeType",void 0);__decorate$3([sf.base.Property(false)],StripLineSettings.prototype,"isRepeat",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"repeatEvery",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"repeatUntil",void 0);__decorate$3([sf.base.Property(false)],StripLineSettings.prototype,"isSegmented",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"segmentStart",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"segmentEnd",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"segmentAxisName",void 0);__decorate$3([sf.base.Complex({color:'transparent',width:1},Border)],StripLineSettings.prototype,"border",void 0);__decorate$3([sf.base.Property('')],StripLineSettings.prototype,"text",void 0);__decorate$3([sf.base.Property(null)],StripLineSettings.prototype,"rotation",void 0);__decorate$3([sf.base.Property('Middle')],StripLineSettings.prototype,"horizontalAlignment",void 0);__decorate$3([sf.base.Property('Middle')],StripLineSettings.prototype,"verticalAlignment",void 0);__decorate$3([sf.base.Complex(Theme.stripLineLabelFont,Font)],StripLineSettings.prototype,"textStyle",void 0);__decorate$3([sf.base.Property('Behind')],StripLineSettings.prototype,"zIndex",void 0);__decorate$3([sf.base.Property(1)],StripLineSettings.prototype,"opacity",void 0);return StripLineSettings;}(sf.base.ChildProperty);/**
 * MultiLevelLabels properties
 */var MultiLevelLabels=/** @class */function(_super){__extends$4(MultiLevelLabels,_super);function MultiLevelLabels(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property('Center')],MultiLevelLabels.prototype,"alignment",void 0);__decorate$3([sf.base.Property('Wrap')],MultiLevelLabels.prototype,"overflow",void 0);__decorate$3([sf.base.Complex(Theme.axisLabelFont,Font)],MultiLevelLabels.prototype,"textStyle",void 0);__decorate$3([sf.base.Complex({color:null,width:1,type:'Rectangle'},LabelBorder)],MultiLevelLabels.prototype,"border",void 0);__decorate$3([sf.base.Collection([],MultiLevelCategories)],MultiLevelLabels.prototype,"categories",void 0);return MultiLevelLabels;}(sf.base.ChildProperty);/**
 * Specifies range for scrollbarSettings property
 *
 * @public
 */var ScrollbarSettingsRange=/** @class */function(_super){__extends$4(ScrollbarSettingsRange,_super);function ScrollbarSettingsRange(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property(null)],ScrollbarSettingsRange.prototype,"minimum",void 0);__decorate$3([sf.base.Property(null)],ScrollbarSettingsRange.prototype,"maximum",void 0);return ScrollbarSettingsRange;}(sf.base.ChildProperty);/**
 * Scrollbar Settings Properties for Lazy Loading
 */var ScrollbarSettings=/** @class */function(_super){__extends$4(ScrollbarSettings,_super);function ScrollbarSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$3([sf.base.Property(false)],ScrollbarSettings.prototype,"enable",void 0);__decorate$3([sf.base.Property(null)],ScrollbarSettings.prototype,"pointsLength",void 0);__decorate$3([sf.base.Complex({},ScrollbarSettingsRange)],ScrollbarSettings.prototype,"range",void 0);return ScrollbarSettings;}(sf.base.ChildProperty);var __extends$3=undefined&&undefined.__extends||function(){var _extendStatics3=function extendStatics(d,b){_extendStatics3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics3(d,b);};return function(d,b){_extendStatics3(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$2=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable @typescript-eslint/no-explicit-any */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Configures the `rows` of the chart.
 */var Row=/** @class */function(_super){__extends$3(Row,_super);function Row(){/**
         * The height of the row as a string accept input both as '100px' and '100%'.
         * If specified as '100%, row renders to the full height of its chart.
         *
         * @default '100%'
         */var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.axes=[];/** @private */_this.nearSizes=[];/** @private */_this.farSizes=[];return _this;}/**
     * Measure the row size
     *
     * @returns {void}
     * @private
     */Row.prototype.computeSize=function(axis,scrollBarHeight){var width=0;var innerPadding=5;if(axis.visible&&axis.internalVisibility){width+=axis.findTickSize(axis.crossInAxis)+scrollBarHeight+axis.findLabelSize(axis.crossInAxis,innerPadding)+axis.lineStyle.width*0.5;}if(axis.opposedPosition){this.farSizes.push(width);}else{this.nearSizes.push(width);}};__decorate$2([sf.base.Property('100%')],Row.prototype,"height",void 0);__decorate$2([sf.base.Complex({},Border)],Row.prototype,"border",void 0);return Row;}(sf.base.ChildProperty);/**
 * Configures the `columns` of the chart.
 */var Column=/** @class */function(_super){__extends$3(Column,_super);function Column(){/**
         * The width of the column as a string accepts input both as like '100px' or '100%'.
         * If specified as '100%, column renders to the full width of its chart.
         *
         * @default '100%'
         */var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.axes=[];/** @private */_this.nearSizes=[];/** @private */_this.farSizes=[];/** @private */_this.padding=0;return _this;}/**
     * Measure the column size
     *
     * @returns {void}
     * @private
     */Column.prototype.computeSize=function(axis,scrollBarHeight){var height=0;var innerPadding=5;if(axis.visible&&axis.internalVisibility){height+=axis.findTickSize(axis.crossInAxis)+scrollBarHeight+axis.findLabelSize(axis.crossInAxis,innerPadding)+axis.lineStyle.width*0.5;}if(axis.opposedPosition){this.farSizes.push(height);}else{this.nearSizes.push(height);}};__decorate$2([sf.base.Property('100%')],Column.prototype,"width",void 0);__decorate$2([sf.base.Complex({},Border)],Column.prototype,"border",void 0);return Column;}(sf.base.ChildProperty);/**
 * Configures the major grid lines in the `axis`.
 */var MajorGridLines=/** @class */function(_super){__extends$3(MajorGridLines,_super);function MajorGridLines(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$2([sf.base.Property(1)],MajorGridLines.prototype,"width",void 0);__decorate$2([sf.base.Property('')],MajorGridLines.prototype,"dashArray",void 0);__decorate$2([sf.base.Property(null)],MajorGridLines.prototype,"color",void 0);return MajorGridLines;}(sf.base.ChildProperty);/**
 * Configures the minor grid lines in the `axis`.
 */var MinorGridLines=/** @class */function(_super){__extends$3(MinorGridLines,_super);function MinorGridLines(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$2([sf.base.Property(0.7)],MinorGridLines.prototype,"width",void 0);__decorate$2([sf.base.Property('')],MinorGridLines.prototype,"dashArray",void 0);__decorate$2([sf.base.Property(null)],MinorGridLines.prototype,"color",void 0);return MinorGridLines;}(sf.base.ChildProperty);/**
 * Configures the axis line of a chart.
 */var AxisLine=/** @class */function(_super){__extends$3(AxisLine,_super);function AxisLine(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$2([sf.base.Property(1)],AxisLine.prototype,"width",void 0);__decorate$2([sf.base.Property('')],AxisLine.prototype,"dashArray",void 0);__decorate$2([sf.base.Property(null)],AxisLine.prototype,"color",void 0);return AxisLine;}(sf.base.ChildProperty);/**
 * Configures the major tick lines.
 */var MajorTickLines=/** @class */function(_super){__extends$3(MajorTickLines,_super);function MajorTickLines(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$2([sf.base.Property(1)],MajorTickLines.prototype,"width",void 0);__decorate$2([sf.base.Property(5)],MajorTickLines.prototype,"height",void 0);__decorate$2([sf.base.Property(null)],MajorTickLines.prototype,"color",void 0);return MajorTickLines;}(sf.base.ChildProperty);/**
 * Configures the minor tick lines.
 */var MinorTickLines=/** @class */function(_super){__extends$3(MinorTickLines,_super);function MinorTickLines(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$2([sf.base.Property(0.7)],MinorTickLines.prototype,"width",void 0);__decorate$2([sf.base.Property(5)],MinorTickLines.prototype,"height",void 0);__decorate$2([sf.base.Property(null)],MinorTickLines.prototype,"color",void 0);return MinorTickLines;}(sf.base.ChildProperty);/**
 * Configures the crosshair ToolTip.
 */var CrosshairTooltip=/** @class */function(_super){__extends$3(CrosshairTooltip,_super);function CrosshairTooltip(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$2([sf.base.Property(false)],CrosshairTooltip.prototype,"enable",void 0);__decorate$2([sf.base.Property(null)],CrosshairTooltip.prototype,"fill",void 0);__decorate$2([sf.base.Complex(Theme.crosshairLabelFont,Font)],CrosshairTooltip.prototype,"textStyle",void 0);return CrosshairTooltip;}(sf.base.ChildProperty);/**
 * Configures the axes in the chart.
 *
 * @public
 */var Axis=/** @class */function(_super){__extends$3(Axis,_super);// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function Axis(parent,propName,defaultValue,isArray){var _this=_super.call(this,parent,propName,defaultValue,isArray)||this;/** @private */_this.visibleLabels=[];/** @private */_this.series=[];/** @private */_this.rect=new sf.svgbase.Rect(undefined,undefined,0,0);/** @private */_this.axisBottomLine=null;/** @private */_this.intervalDivs=[10,5,2,1];/** @private */_this.isStack100=false;/** @private */_this.crossAt=null;/** @private */_this.updatedRect=null;/** @private */_this.multiLevelLabelHeight=0;/** @private */_this.isChart=true;/** @private */_this.isIntervalInDecimal=true;/** @private */_this.titleCollection=[];/** @private */_this.titleSize=new sf.svgbase.Size(0,0);/**
         * Task: BLAZ-2044
         * This property used to hide the axis when series hide from legend click
         *
         * @private
         */_this.internalVisibility=true;_this.angle=_this.labelRotation;return _this;}/**
     * The function used to find tick size.
     *
     * @returns {number} tick line size
     * @private
     */Axis.prototype.findTickSize=function(crossAxis){if(this.tickPosition==='Inside'){return 0;}if(crossAxis&&(!crossAxis.visibleRange||this.isInside(crossAxis.visibleRange))){return 0;}return this.majorTickLines.height;};/**
     * The function used to find axis position.
     *
     * @returns {number}
     * @private
     */Axis.prototype.isInside=function(range){return inside(this.crossAt,range)||!this.opposedPosition&&this.crossAt>=range.max||this.opposedPosition&&this.crossAt<=range.min;};/**
     * The function used to find label Size.
     *
     * @returns {number} labelSize
     * @private
     */Axis.prototype.findLabelSize=function(crossAxis,innerPadding){var titleSize=0;var isHorizontal=this.orientation==='Horizontal';if(this.title){this.titleSize=sf.svgbase.measureText(this.title,this.titleStyle);titleSize=this.titleSize.height+innerPadding;if(this.rect.width||this.rect.height){var length_1=isHorizontal?this.rect.width:this.rect.height;this.titleCollection=getTitle(this.title,this.titleStyle,length_1);titleSize=titleSize*this.titleCollection.length;}}if(this.labelPosition==='Inside'){return titleSize+innerPadding;}var diff;var value;var labelSize=titleSize+innerPadding+this.titlePadding+this.labelPadding+(this.orientation==='Vertical'?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(crossAxis&&this.placeNextToAxisLine){var range=crossAxis.visibleRange;var size=crossAxis.orientation==='Horizontal'?crossAxis.rect.width:crossAxis.rect.height;if(!range||!size){return 0;}else if(this.isInside(range)){value=this.findDifference(crossAxis);diff=value*(size/range.delta);diff=value*((size-(diff<labelSize?labelSize-diff:0))/range.delta);labelSize=diff<labelSize?labelSize-diff:0;}}return labelSize;};/**
     * The function used to find axis position.
     *
     * @returns {void}
     * @private
     */Axis.prototype.updateCrossValue=function(){var value=this.crossAt;if(value===null||!this.isInside(this.crossInAxis.visibleRange)){this.updatedRect=this.rect;return null;}var range=this.crossInAxis.visibleRange;if(!this.opposedPosition){if(this.crossAt>range.max){value=range.max;}}else{if(this.crossAt<range.min){value=range.min;}}this.updatedRect=sf.base.extend({},this.rect,null,true);if(this.orientation==='Horizontal'){value=this.crossInAxis.rect.height-valueToCoefficient(value,this.crossInAxis)*this.crossInAxis.rect.height;this.updatedRect.y=this.crossInAxis.rect.y+value;}else{value=valueToCoefficient(value,this.crossInAxis)*this.crossInAxis.rect.width;this.updatedRect.x=this.crossInAxis.rect.x+value;}};Axis.prototype.findDifference=function(crossAxis){var value=0;if(this.opposedPosition){value=crossAxis.isInversed?crossAxis.visibleRange.min:crossAxis.visibleRange.max;}else{value=crossAxis.isInversed?crossAxis.visibleRange.max:crossAxis.visibleRange.min;}return Math.abs(this.crossAt-value);};/**
     * Calculate visible range for axis.
     *
     * @returns {void}
     * @private
     */Axis.prototype.calculateVisibleRangeOnZooming=function(chart){if(isZoomSet(this)){var baseRange=this.actualRange;var start=void 0;var end=void 0;if(!this.isInversed||chart.zoomModule){start=this.actualRange.min+this.zoomPosition*this.actualRange.delta;end=start+this.zoomFactor*this.actualRange.delta;}else{start=this.actualRange.max-this.zoomPosition*this.actualRange.delta;end=start-this.zoomFactor*this.actualRange.delta;}if(start<baseRange.min){end=end+(baseRange.min-start);start=baseRange.min;}if(end>baseRange.max){start=start-(end-baseRange.max);end=baseRange.max;}this.doubleRange=new DoubleRange(start,end);this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval};}};/**
     * Calculate range for x and y axis after zoom.
     *
     * @returns {void}
     * @private
     */Axis.prototype.calculateAxisRange=function(size,chart){if(chart.enableAutoIntervalOnBothAxis){if(this.orientation==='Horizontal'&&chart.zoomSettings.mode==='X'){for(var i=0;i<this.series.length;i++){var yValue=[];for(var _i=0,_a=this.series[i].visiblePoints;_i<_a.length;_i++){var points=_a[_i];if(points.xValue>this.visibleRange.min&&points.xValue<this.visibleRange.max){yValue.push(points.yValue);}}for(var _b=0,_c=chart.axisCollections;_b<_c.length;_b++){var axis=_c[_b];if(axis.orientation==='Vertical'&&!sf.base.isNullOrUndefined(axis.series[i])){axis.series[i].yMin=Math.min.apply(Math,yValue);axis.series[i].yMax=Math.max.apply(Math,yValue);axis.baseModule.calculateRangeAndInterval(size,axis);}}}}if(this.orientation==='Vertical'&&chart.zoomSettings.mode==='Y'){for(var i=0;i<this.series.length;i++){var xValue=[];for(var _d=0,_e=this.series[i].visiblePoints;_d<_e.length;_d++){var points=_e[_d];if(points.yValue>this.visibleRange.min&&points.yValue<this.visibleRange.max){xValue.push(points.xValue);}}for(var _f=0,_g=chart.axisCollections;_f<_g.length;_f++){var axis=_g[_f];if(axis.orientation==='Horizontal'&&!sf.base.isNullOrUndefined(axis.series[i])){axis.series[i].xMin=Math.min.apply(Math,xValue);axis.series[i].xMax=Math.max.apply(Math,xValue);axis.baseModule.calculateRangeAndInterval(size,axis);}}}}}};/**
     * Triggers the event.
     *
     * @returns {void}
     * @private
     */Axis.prototype.triggerRangeRender=function(chart,minimum,maximum,interval){var argsData={cancel:false,name:axisRangeCalculated,axis:this,minimum:minimum,maximum:maximum,interval:interval};chart.trigger(axisRangeCalculated,argsData);if(!argsData.cancel){this.visibleRange={min:argsData.minimum,max:argsData.maximum,interval:argsData.interval,delta:argsData.maximum-argsData.minimum};}};/**
     * Calculate padding for the axis.
     *
     * @returns {string}
     * @private
     */Axis.prototype.getRangePadding=function(chart){var padding=this.rangePadding;if(padding!=='Auto'){return padding;}switch(this.orientation){case'Horizontal':if(chart.requireInvertedAxis){padding=this.isStack100||this.baseModule.chart.stockChart?'Round':'Normal';}else{padding='None';}break;case'Vertical':if(!chart.requireInvertedAxis){padding=this.isStack100||this.baseModule.chart.stockChart?'Round':'Normal';}else{padding='None';}break;}return padding;};/**
     * Calculate maximum label width for the axis.
     *
     * @returns {void}
     * @private
     */Axis.prototype.getMaxLabelWidth=function(chart){var pointX;var previousEnd=0;var isIntersect=false;var isAxisLabelBreak;this.angle=this.labelRotation;this.maxLabelSize=new sf.svgbase.Size(0,0);var action=this.labelIntersectAction;var label;for(var i=0,len=this.visibleLabels.length;i<len;i++){label=this.visibleLabels[i];isAxisLabelBreak=isBreakLabel(label.originalText);if(isAxisLabelBreak){label.size=sf.svgbase.measureText(label.originalText.replace(/<br>/g,' '),this.labelStyle);label.breakLabelSize=sf.svgbase.measureText(this.enableTrim?label.text.join('<br>'):label.originalText,this.labelStyle);}else{label.size=sf.svgbase.measureText(label.text,this.labelStyle);}var width=isAxisLabelBreak?label.breakLabelSize.width:label.size.width;if(width>this.maxLabelSize.width){this.maxLabelSize.width=width;this.rotatedLabel=label.text;}var height=isAxisLabelBreak?label.breakLabelSize.height:label.size.height;if(height>this.maxLabelSize.height){this.maxLabelSize.height=height;}if(isAxisLabelBreak){label.text=this.enableTrim?label.text:label.originalText.split('<br>');}if(action==='None'||action==='Hide'||action==='Trim'){continue;}if((action!=='None'||this.angle%360===0)&&this.orientation==='Horizontal'&&this.rect.width>0&&!isIntersect){var width1=isAxisLabelBreak?label.breakLabelSize.width:label.size.width;pointX=valueToCoefficient(label.value,this)*this.rect.width+this.rect.x;pointX-=width1/2;if(this.edgeLabelPlacement==='Shift'){if(i===0&&pointX<this.rect.x){pointX=this.rect.x;}if(i===this.visibleLabels.length-1&&pointX+width1>this.rect.x+this.rect.width){pointX=this.rect.x+this.rect.width-width1;}}switch(action){case'MultipleRows':if(i>0){this.findMultiRows(i,pointX,label,isAxisLabelBreak);}break;case'Rotate45':case'Rotate90':if(i>0&&(!this.isInversed?pointX<=previousEnd:pointX+width1>=previousEnd)){this.angle=action==='Rotate45'?45:90;isIntersect=true;}break;default:if(isAxisLabelBreak){var result=void 0;var result1=[];var str=void 0;for(var index=0;index<label.text.length;index++){result=textWrap(label.text[index],this.rect.width/this.visibleLabels.length,this.labelStyle);if(result.length>1){for(var j=0;j<result.length;j++){str=result[j];result1.push(str);}}else{result1.push(result[0]);}}label.text=result1;}else{label.text=textWrap(label.text,this.rect.width/this.visibleLabels.length,this.labelStyle);}// eslint-disable-next-line no-case-declarations
var height_1=label.size.height*label.text.length;if(height_1>this.maxLabelSize.height){this.maxLabelSize.height=height_1;}break;}previousEnd=this.isInversed?pointX:pointX+width1;}}if(this.angle!==0&&this.orientation==='Horizontal'){//I264474: Fix for datasource bind im mounted console error ocurred
this.rotatedLabel=sf.base.isNullOrUndefined(this.rotatedLabel)?'':this.rotatedLabel;var isHorizontalAngle=this.angle===-360||this.angle===0||this.angle===-180||this.angle===180||this.angle===360;// To avoid overlap axis label with chart title or chart legend when it is outside.
if(this.labelPosition==='Outside'&&!isHorizontalAngle&&isBreakLabel(this.rotatedLabel)){this.maxLabelSize=new sf.svgbase.Size(this.maxLabelSize.height,this.maxLabelSize.width);}else{this.maxLabelSize=rotateTextSize(this.labelStyle,this.rotatedLabel,this.angle,chart);}}if(chart.multiLevelLabelModule&&this.multiLevelLabels.length>0){chart.multiLevelLabelModule.getMultilevelLabelsHeight(this);}};/**
     * Finds the multiple rows for axis.
     *
     * @returns {void}
     */Axis.prototype.findMultiRows=function(length,currentX,currentLabel,isBreakLabels){var label;var pointX;var width2;var store=[];var isMultiRows;for(var i=length-1;i>=0;i--){label=this.visibleLabels[i];width2=isBreakLabels?label.breakLabelSize.width:label.size.width;pointX=valueToCoefficient(label.value,this)*this.rect.width+this.rect.x;isMultiRows=!this.isInversed?currentX<pointX+width2*0.5:currentX+currentLabel.size.width>pointX-width2*0.5;if(isMultiRows){store.push(label.index);currentLabel.index=currentLabel.index>label.index?currentLabel.index:label.index+1;}else{currentLabel.index=store.indexOf(label.index)>-1?currentLabel.index:label.index;}}var height=(isBreakLabels?currentLabel.breakLabelSize.height:currentLabel.size.height)*currentLabel.index+5*(currentLabel.index-1);if(height>this.maxLabelSize.height){this.maxLabelSize.height=height;}};/**
     * Finds the default module for axis.
     *
     * @returns {void}
     * @private
     */Axis.prototype.getModule=function(chart){if(this.valueType==='Double'){this.baseModule=new Double(chart);}else{this.baseModule=chart[firstToLowerCase(this.valueType)+'Module'];}};__decorate$2([sf.base.Complex(Theme.axisLabelFont,Font)],Axis.prototype,"labelStyle",void 0);__decorate$2([sf.base.Complex({},CrosshairTooltip)],Axis.prototype,"crosshairTooltip",void 0);__decorate$2([sf.base.Property('')],Axis.prototype,"title",void 0);__decorate$2([sf.base.Complex(Theme.axisTitleFont,Font)],Axis.prototype,"titleStyle",void 0);__decorate$2([sf.base.Property('')],Axis.prototype,"labelFormat",void 0);__decorate$2([sf.base.Property('')],Axis.prototype,"skeleton",void 0);__decorate$2([sf.base.Property('DateTime')],Axis.prototype,"skeletonType",void 0);__decorate$2([sf.base.Property('Center')],Axis.prototype,"lineBreakAlignment",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"plotOffset",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"plotOffsetLeft",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"plotOffsetTop",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"plotOffsetRight",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"plotOffsetBottom",void 0);__decorate$2([sf.base.Property(false)],Axis.prototype,"isIndexed",void 0);__decorate$2([sf.base.Property(10)],Axis.prototype,"logBase",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"columnIndex",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"rowIndex",void 0);__decorate$2([sf.base.Property(1)],Axis.prototype,"span",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"desiredIntervals",void 0);__decorate$2([sf.base.Property(3)],Axis.prototype,"maximumLabels",void 0);__decorate$2([sf.base.Property(1)],Axis.prototype,"zoomFactor",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"zoomPosition",void 0);__decorate$2([sf.base.Property(true)],Axis.prototype,"enableScrollbarOnZooming",void 0);__decorate$2([sf.base.Property(false)],Axis.prototype,"opposedPosition",void 0);__decorate$2([sf.base.Property(true)],Axis.prototype,"enableAutoIntervalOnZooming",void 0);__decorate$2([sf.base.Property('Auto')],Axis.prototype,"rangePadding",void 0);__decorate$2([sf.base.Property('Double')],Axis.prototype,"valueType",void 0);__decorate$2([sf.base.Property('None')],Axis.prototype,"edgeLabelPlacement",void 0);__decorate$2([sf.base.Property('Auto')],Axis.prototype,"intervalType",void 0);__decorate$2([sf.base.Property('BetweenTicks')],Axis.prototype,"labelPlacement",void 0);__decorate$2([sf.base.Property('Outside')],Axis.prototype,"tickPosition",void 0);__decorate$2([sf.base.Property('Outside')],Axis.prototype,"labelPosition",void 0);__decorate$2([sf.base.Property('')],Axis.prototype,"name",void 0);__decorate$2([sf.base.Property(true)],Axis.prototype,"visible",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"minorTicksPerInterval",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"labelRotation",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"crossesAt",void 0);__decorate$2([sf.base.Property(true)],Axis.prototype,"placeNextToAxisLine",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"crossesInAxis",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"minimum",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"maximum",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"interval",void 0);__decorate$2([sf.base.Property(34)],Axis.prototype,"maximumLabelWidth",void 0);__decorate$2([sf.base.Property(false)],Axis.prototype,"enableTrim",void 0);__decorate$2([sf.base.Property(5)],Axis.prototype,"labelPadding",void 0);__decorate$2([sf.base.Property(5)],Axis.prototype,"titlePadding",void 0);__decorate$2([sf.base.Complex({},MajorTickLines)],Axis.prototype,"majorTickLines",void 0);__decorate$2([sf.base.Complex({},MinorTickLines)],Axis.prototype,"minorTickLines",void 0);__decorate$2([sf.base.Complex({},MajorGridLines)],Axis.prototype,"majorGridLines",void 0);__decorate$2([sf.base.Complex({},MinorGridLines)],Axis.prototype,"minorGridLines",void 0);__decorate$2([sf.base.Complex({},AxisLine)],Axis.prototype,"lineStyle",void 0);__decorate$2([sf.base.Property('Trim')],Axis.prototype,"labelIntersectAction",void 0);__decorate$2([sf.base.Property(false)],Axis.prototype,"isInversed",void 0);__decorate$2([sf.base.Property(100)],Axis.prototype,"coefficient",void 0);__decorate$2([sf.base.Property(0)],Axis.prototype,"startAngle",void 0);__decorate$2([sf.base.Property(true)],Axis.prototype,"startFromZero",void 0);__decorate$2([sf.base.Property(null)],Axis.prototype,"description",void 0);__decorate$2([sf.base.Property(2)],Axis.prototype,"tabIndex",void 0);__decorate$2([sf.base.Collection([],StripLineSettings)],Axis.prototype,"stripLines",void 0);__decorate$2([sf.base.Collection([],MultiLevelLabels)],Axis.prototype,"multiLevelLabels",void 0);__decorate$2([sf.base.Complex({color:null,width:0,type:'Rectangle'},LabelBorder)],Axis.prototype,"border",void 0);__decorate$2([sf.base.Complex({},ScrollbarSettings)],Axis.prototype,"scrollbarSettings",void 0);return Axis;}(sf.base.ChildProperty);/** @private */var VisibleLabels=/** @class */function(){function VisibleLabels(text,value,labelStyle,originalText,size,breakLabelSize,index){if(size===void 0){size=new sf.svgbase.Size(0,0);}if(breakLabelSize===void 0){breakLabelSize=new sf.svgbase.Size(0,0);}if(index===void 0){index=1;}this.text=text;this.originalText=originalText;this.value=value;this.labelStyle=labelStyle;this.size=size;this.breakLabelSize=breakLabelSize;this.index=index;}return VisibleLabels;}();var __extends$1=undefined&&undefined.__extends||function(){var _extendStatics4=function extendStatics(d,b){_extendStatics4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics4(d,b);};return function(d,b){_extendStatics4(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /**
 * Function to sort the dataSource, by default it sort the data in ascending order.
 *
 * @param  {Object} data chart data
 * @param  {string} fields date fields
 * @param  {boolean} isDescending boolean values of descending
 * @returns {Object[]} It returns chart data which be sorted.
 */function sort(data,fields,isDescending){var sortData=sf.base.extend([],data,null);sortData.sort(function(a,b){var first=0;var second=0;for(var i=0;i<fields.length;i++){first+=a[fields[i]];second+=b[fields[i]];}if(!isDescending&&first<second||isDescending&&first>second){return-1;}else if(first===second){return 0;}return 1;});return sortData;}/** @private */function isBreakLabel(label){return label.indexOf('<br>')!==-1;}/** @private */function getVisiblePoints(series){var points=sf.base.extend([],series.points,null,true);var tempPoints=[];var tempPoint;var pointIndex=0;for(var i=0;i<points.length;i++){tempPoint=points[i];if(sf.base.isNullOrUndefined(tempPoint.x)||tempPoint.x===''){continue;}else{tempPoint.index=pointIndex++;tempPoints.push(tempPoint);}}return tempPoints;}/** @private */function rotateTextSize(font,text,angle,chart){var renderer=new sf.svgbase.SvgRenderer(chart.element.id);var labelText;var textCollection=[];var height;var dy;var label;var tspanElement;var options={id:'rotate_text',x:chart.initialClipRect.x,y:chart.initialClipRect.y,'font-size':font.size,'font-style':font.fontStyle,'font-family':font.fontFamily,'font-weight':font.fontWeight,'transform':'rotate('+angle+', 0, 0)','text-anchor':'middle'};if(isBreakLabel(text)){textCollection=text.split('<br>');labelText=textCollection[0];}else{labelText=text;}var htmlObject=renderer.createText(options,labelText);if(!chart.delayRedraw&&!chart.redraw){chart.element.appendChild(chart.svgObject);}// for line break label
if(typeof textCollection!=='string'&&textCollection.length>1){for(var i=1,len=textCollection.length;i<len;i++){height=sf.svgbase.measureText(textCollection[i],font).height;dy=options.y+i*height;label=textCollection[i];tspanElement=renderer.createTSpan({'x':options.x,'id':options.id,'y':dy},label);htmlObject.appendChild(tspanElement);}}chart.svgObject.appendChild(htmlObject);var box=htmlObject.getBoundingClientRect();sf.base.remove(htmlObject);if(!chart.delayRedraw&&!chart.redraw){sf.base.remove(chart.svgObject);}return new sf.svgbase.Size(box.right-box.left,box.bottom-box.top);}/** @private */function removeElement(id){if(!id){return null;}var element=typeof id==='string'?getElement$1(id):id;if(element){sf.base.remove(element);}}/** @private */function logBase(value,base){return Math.log(value)/Math.log(base);}/** @private */function showTooltip(text,x,y,areaWidth,id,element,isTouch,isTitleOrLegendEnabled){//let id1: string = 'EJ2_legend_tooltip';
var tooltip=document.getElementById(id);var size=sf.svgbase.measureText(text,{fontFamily:'Segoe UI',size:'12px',fontStyle:'Normal',fontWeight:'Regular'});var width=size.width+5;x=x+width>areaWidth?x-(width+15):x;y=isTitleOrLegendEnabled?y-size.height/2:y+15;if(!tooltip){tooltip=sf.base.createElement('div',{innerHTML:text,id:id,styles:'top:'+y.toString()+'px;left:'+(x+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; '+'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;'+'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'});element.appendChild(tooltip);var left=parseInt(tooltip.style.left.replace('px',''),10);if(left<0){tooltip.style.left='0px';}}else{tooltip.innerHTML=text;tooltip.style.top=y.toString()+'px';tooltip.style.left=(x+15).toString()+'px';}if(isTouch){setTimeout(function(){removeElement(id);},1500);}}/** @private */function inside(value,range){return value<range.max&&value>range.min;}/** @private */function withIn(value,range){return value<=range.max&&value>=range.min;}/** @private */function logWithIn(value,axis){return axis.valueType==='Logarithmic'?logBase(value,axis.logBase):value;}/** @private */function withInRange(previousPoint,currentPoint,nextPoint,series){var mX2=logWithIn(currentPoint.xValue,series.xAxis);var mX1=previousPoint?logWithIn(previousPoint.xValue,series.xAxis):mX2;var mX3=nextPoint?logWithIn(nextPoint.xValue,series.xAxis):mX2;var xStart=Math.floor(series.xAxis.visibleRange.min);var xEnd=Math.ceil(series.xAxis.visibleRange.max);return mX1>=xStart&&mX1<=xEnd||mX2>=xStart&&mX2<=xEnd||mX3>=xStart&&mX3<=xEnd||xStart>=mX1&&xStart<=mX3;}/** @private */function sum(values){var sum=0;for(var _i=0,values_1=values;_i<values_1.length;_i++){var value=values_1[_i];sum+=value;}return sum;}/** @private */function subArraySum(values,first,last,index,series){var sum=0;if(index!==null){for(var i=first+1;i<last;i++){if(index.indexOf(i)===-1){sum+=values[i][series.yName];}}}else{for(var i=first+1;i<last;i++){if(!sf.base.isNullOrUndefined(values[i][series.yName])){sum+=values[i][series.yName];}}}return sum;}/** @private */function subtractThickness(rect,thickness){rect.x+=thickness.left;rect.y+=thickness.top;rect.width-=thickness.left+thickness.right;rect.height-=thickness.top+thickness.bottom;return rect;}/** @private */function subtractRect(rect,thickness){rect.x+=thickness.x;rect.y+=thickness.y;rect.width-=thickness.x+thickness.width;rect.height-=thickness.y+thickness.height;return rect;}/** @private */function degreeToLocation(degree,radius,center){var radian=degree*Math.PI/180;return new ChartLocation(Math.cos(radian)*radius+center.x,Math.sin(radian)*radius+center.y);}/** @private */function degreeToRadian(degree){return degree*(Math.PI/180);}/** @private */function getRotatedRectangleCoordinates(actualPoints,centerX,centerY,angle){var coordinatesAfterRotation=[];for(var i=0;i<4;i++){var point=actualPoints[i];// translate point to origin
var tempX=point.x-centerX;var tempY=point.y-centerY;// now apply rotation
var rotatedX=tempX*Math.cos(degreeToRadian(angle))-tempY*Math.sin(degreeToRadian(angle));var rotatedY=tempX*Math.sin(degreeToRadian(angle))+tempY*Math.cos(degreeToRadian(angle));// translate back
point.x=rotatedX+centerX;point.y=rotatedY+centerY;coordinatesAfterRotation.push(new ChartLocation(point.x,point.y));}return coordinatesAfterRotation;}/**
 * Helper function to determine whether there is an intersection between the two polygons described
 * by the lists of vertices. Uses the Separating Axis Theorem
 *
 * @param {ChartLocation[]} a an array of connected points [{x:, y:}, {x:, y:},...] that form a closed polygon
 * @param {ChartLocation[]} b an array of connected points [{x:, y:}, {x:, y:},...] that form a closed polygon
 * @returns {boolean} if there is any intersection between the 2 polygons, false otherwise
 */function isRotatedRectIntersect(a,b){var polygons=[a,b];var minA;var maxA;var projected;var i;var i1;var j;var minB;var maxB;for(i=0;i<polygons.length;i++){// for each polygon, look at each edge of the polygon, and determine if it separates
// the two shapes
var polygon=polygons[i];for(i1=0;i1<polygon.length;i1++){// grab 2 vertices to create an edge
var i2=(i1+1)%polygon.length;var p1=polygon[i1];var p2=polygon[i2];// find the line perpendicular to this edge
var normal=new ChartLocation(p2.y-p1.y,p1.x-p2.x);minA=maxA=undefined;// for each vertex in the first shape, project it onto the line perpendicular to the edge
// and keep track of the min and max of these values
for(j=0;j<a.length;j++){projected=normal.x*a[j].x+normal.y*a[j].y;if(sf.base.isNullOrUndefined(minA)||projected<minA){minA=projected;}if(sf.base.isNullOrUndefined(maxA)||projected>maxA){maxA=projected;}}// for each vertex in the second shape, project it onto the line perpendicular to the edge
// and keep track of the min and max of these values
minB=maxB=undefined;for(j=0;j<b.length;j++){projected=normal.x*b[j].x+normal.y*b[j].y;if(sf.base.isNullOrUndefined(minB)||projected<minB){minB=projected;}if(sf.base.isNullOrUndefined(maxB)||projected>maxB){maxB=projected;}}// if there is no overlap between the projects, the edge we are looking at separates the two
// polygons, and we know there is no overlap
if(maxA<minB||maxB<minA){return false;}}}return true;}/** @private */function getAccumulationLegend(locX,locY,r,height,width,mode){var cartesianlarge=degreeToLocation(270,r,new ChartLocation(locX,locY));var cartesiansmall=degreeToLocation(270,r,new ChartLocation(locX+width/10,locY));return'M'+' '+locX+' '+locY+' '+'L'+' '+(locX+r)+' '+locY+' '+'A'+' '+r+' '+r+' '+0+' '+1+' '+1+' '+cartesianlarge.x+' '+cartesianlarge.y+' '+'Z'+' '+'M'+' '+(locX+width/10)+' '+(locY-height/10)+' '+'L'+(locX+r)+' '+(locY-height/10)+' '+'A'+' '+r+' '+r+' '+0+' '+0+' '+0+' '+cartesiansmall.x+' '+cartesiansmall.y+' '+'Z';}/** @private */function getAngle(center,point){var angle=Math.atan2(point.y-center.y,point.x-center.x);angle=angle<0?6.283+angle:angle;return angle*(180/Math.PI);}/** @private */function subArray(values,index){var subArray=[];for(var i=0;i<=index-1;i++){subArray.push(values[i]);}return subArray;}/** @private */function valueToCoefficient(value,axis){var range=axis.visibleRange;var result=(value-range.min)/range.delta;return axis.isInversed?1-result:result;}/** @private */function TransformToVisible(x,y,xAxis,yAxis,isInverted,series){x=xAxis.valueType==='Logarithmic'?logBase(x>1?x:1,xAxis.logBase):x;y=yAxis.valueType==='Logarithmic'?logBase(y>1?y:1,yAxis.logBase):y;x+=xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'&&series.type!=='Radar'?0.5:0;var radius=series.chart.radius*valueToCoefficient(y,yAxis);var point=CoefficientToVector(valueToPolarCoefficient(x,xAxis),series.chart.primaryXAxis.startAngle);return{x:series.clipRect.width/2+series.clipRect.x+radius*point.x,y:series.clipRect.height/2+series.clipRect.y+radius*point.y};}/**
 * method to find series, point index by element id
 *
 * @private
 */function indexFinder(id,isPoint){if(isPoint===void 0){isPoint=false;}var ids=['NaN','NaN'];if(id.indexOf('_Point_')>-1){ids=id.split('_Series_')[1].split('_Point_');}else if(id.indexOf('_shape_')>-1&&(!isPoint||isPoint&&id.indexOf('_legend_')===-1)){ids=id.split('_shape_');ids[0]='0';}else if(id.indexOf('_text_')>-1&&(!isPoint||isPoint&&id.indexOf('_legend_')===-1)){ids=id.split('_text_');ids[0]='0';}return new Index(parseInt(ids[0],10),parseInt(ids[1],10));}/** @private */function CoefficientToVector(coefficient,startAngle){startAngle=startAngle<0?startAngle+360:startAngle;var angle=Math.PI*(1.5-2*coefficient);angle=angle+startAngle*Math.PI/180;return{x:Math.cos(angle),y:Math.sin(angle)};}/** @private */function valueToPolarCoefficient(value,axis){var range=axis.visibleRange;var delta;var length;if(axis.valueType!=='Category'){delta=range.max-(axis.valueType==='DateTime'?axis.dateTimeInterval:range.interval)-range.min;length=axis.visibleLabels.length-1;delta=delta===0?1:delta;}else{// To split an interval equally based on visible labels count
delta=axis.visibleLabels.length===1?1:axis.visibleLabels[axis.visibleLabels.length-1].value-axis.visibleLabels[0].value;length=axis.visibleLabels.length;}return axis.isInversed?(value-range.min)/delta*(1-1/length):1-(value-range.min)/delta*(1-1/length);}/** @private */var Mean=/** @class */function(){function Mean(verticalStandardMean,verticalSquareRoot,horizontalStandardMean,horizontalSquareRoot,verticalMean,horizontalMean){this.verticalStandardMean=verticalStandardMean;this.horizontalStandardMean=horizontalStandardMean;this.verticalSquareRoot=verticalSquareRoot;this.horizontalSquareRoot=horizontalSquareRoot;this.verticalMean=verticalMean;this.horizontalMean=horizontalMean;}return Mean;}();/** @private */var PolarArc=/** @class */function(){function PolarArc(startAngle,endAngle,innerRadius,radius,currentXPosition){this.startAngle=startAngle;this.endAngle=endAngle;this.innerRadius=innerRadius;this.radius=radius;this.currentXPosition=currentXPosition;}return PolarArc;}();/** @private */function createTooltip(id,text,top,left,fontSize){var tooltip=getElement$1(id);var style='top:'+top.toString()+'px;'+'left:'+left.toString()+'px;'+'color:black !important; '+'background:#FFFFFF !important; '+'position:absolute;border:1px solid #707070;font-size:'+fontSize+';border-radius:2px; z-index:1';if(!tooltip){tooltip=sf.base.createElement('div',{id:id,innerHTML:'&nbsp;'+text+'&nbsp;',styles:style});document.body.appendChild(tooltip);}else{tooltip.setAttribute('innerHTML','&nbsp;'+text+'&nbsp;');tooltip.setAttribute('styles',style);}}/** @private */function createZoomingLabels(chart,axis,parent,index,isVertical,rect){var margin=5;var opposedPosition=axis.opposedPosition;var anchor=isVertical?'start':'auto';var size;var chartRect=chart.availableSize.width;var x;var y;var rx=3;var arrowLocation;var direction;var scrollBarHeight=axis.scrollbarSettings.enable||axis.zoomingScrollBar&&axis.zoomingScrollBar.svgObject?axis.scrollBarHeight:0;for(var i=0;i<2;i++){size=sf.svgbase.measureText(i?axis.endLabel:axis.startLabel,axis.labelStyle);if(isVertical){arrowLocation=i?new ChartLocation(rect.x-scrollBarHeight,rect.y+rx):new ChartLocation(axis.rect.x-scrollBarHeight,rect.y+rect.height-rx);x=rect.x+(opposedPosition?rect.width+margin+scrollBarHeight:-(size.width+margin+margin+scrollBarHeight));y=rect.y+(i?0:rect.height-size.height-margin);x+=x<0||chartRect<x+size.width+margin?opposedPosition?-(size.width/2):size.width/2:0;direction=sf.svgbase.findDirection(rx,rx,new sf.svgbase.Rect(x,y,size.width+margin,size.height+margin),arrowLocation,margin,false,false,!opposedPosition,arrowLocation.x,arrowLocation.y+(i?-rx:rx));}else{arrowLocation=i?new ChartLocation(rect.x+rect.width-rx,rect.y+rect.height+scrollBarHeight):new ChartLocation(rect.x+rx,rect.y+rect.height+scrollBarHeight);x=rect.x+(i?rect.width-size.width-margin:0);y=opposedPosition?rect.y-size.height-10-scrollBarHeight:rect.y+rect.height+margin+scrollBarHeight;direction=sf.svgbase.findDirection(rx,rx,new sf.svgbase.Rect(x,y,size.width+margin,size.height+margin),arrowLocation,margin,opposedPosition,!opposedPosition,false,arrowLocation.x+(i?rx:-rx),arrowLocation.y);}x=x+margin/2;y=y+3*(size.height/4)+margin/2;parent.appendChild(chart.renderer.drawPath(new sf.svgbase.PathOption(chart.element.id+'_Zoom_'+index+'_AxisLabel_Shape_'+i,chart.themeStyle.crosshairFill,2,chart.themeStyle.crosshairFill,1,null,direction)));textElement(chart.renderer,new sf.svgbase.TextOption(chart.element.id+'_Zoom_'+index+'_AxisLabel_'+i,x,y,anchor,i?axis.endLabel:axis.startLabel),{color:chart.themeStyle.crosshairLabel,fontFamily:'Segoe UI',fontWeight:'Regular',size:'11px'},chart.themeStyle.crosshairLabel,parent);}return parent;}//Within bounds
/** @private */function withInBounds(x,y,bounds,width,height){if(width===void 0){width=0;}if(height===void 0){height=0;}return x>=bounds.x-width&&x<=bounds.x+bounds.width+width&&y>=bounds.y-height&&y<=bounds.y+bounds.height+height;}/** @private */function getValueXByPoint(value,size,axis){var actualValue=!axis.isInversed?value/size:1-value/size;return actualValue*axis.visibleRange.delta+axis.visibleRange.min;}/** @private */function getValueYByPoint(value,size,axis){var actualValue=axis.isInversed?value/size:1-value/size;return actualValue*axis.visibleRange.delta+axis.visibleRange.min;}/** @private */function findClipRect(series){var rect=series.clipRect;if(series.chart.requireInvertedAxis){rect.x=series.yAxis.rect.x;rect.y=series.xAxis.rect.y;rect.width=series.yAxis.rect.width;rect.height=series.xAxis.rect.height;}else{rect.x=series.xAxis.rect.x;rect.y=series.yAxis.rect.y;rect.width=series.xAxis.rect.width;rect.height=series.yAxis.rect.height;}}/** @private */function firstToLowerCase(str){return str.substr(0,1).toLowerCase()+str.substr(1);}/** @private */function getTransform(xAxis,yAxis,invertedAxis){var x;var y;var width;var height;if(invertedAxis){x=yAxis.rect.x;y=xAxis.rect.y;width=yAxis.rect.width;height=xAxis.rect.height;}else{x=xAxis.rect.x;y=yAxis.rect.y;width=xAxis.rect.width;height=yAxis.rect.height;}return new sf.svgbase.Rect(x,y,width,height);}/** @private */function getMinPointsDelta(axis,seriesCollection){var minDelta=Number.MAX_VALUE;var xValues;var minVal;var seriesMin;for(var index=0;index<seriesCollection.length;index++){var series=seriesCollection[index];xValues=[];if(series.visible&&(axis.name===series.xAxisName||axis.name==='primaryXAxis'&&series.xAxisName===null||axis.name===series.chart.primaryXAxis.name&&!series.xAxisName)){xValues=series.points.map(function(point){return point.xValue;});xValues.sort(function(first,second){return first-second;});if(xValues.length===1){seriesMin=axis.valueType==='DateTime'&&series.xMin===series.xMax?series.xMin-2592000000:series.xMin;minVal=xValues[0]-(!sf.base.isNullOrUndefined(seriesMin)?seriesMin:axis.visibleRange.min);if(minVal!==0){minDelta=Math.min(minDelta,minVal);}}else{for(var index_1=0;index_1<xValues.length;index_1++){var value=xValues[index_1];if(index_1>0&&value){minVal=value-xValues[index_1-1];if(minVal!==0){minDelta=Math.min(minDelta,minVal);}}}}}}if(minDelta===Number.MAX_VALUE){minDelta=1;}return minDelta;}/** @private */function getAnimationFunction(effect){var functionName;switch(effect){case'Linear':functionName=linear;break;}return functionName;}/**
 * Animation Effect Calculation Started Here
 *
 * @param {number} currentTime currentTime
 * @param {number} startValue startValue of the animation
 * @param {number} endValue endValue of the animation
 * @param {number} duration duration of the animation
 * @private
 */function linear(currentTime,startValue,endValue,duration){return-endValue*Math.cos(currentTime/duration*(Math.PI/2))+endValue+startValue;}/**
 * Animation Effect Calculation End
 *
 * @private
 */function markerAnimate(element,delay,duration,series,pointIndex,point,isLabel){var centerX=point.x;var centerY=point.y;var height=0;element.style.visibility='hidden';new sf.base.Animation({}).animate(element,{duration:duration,delay:delay,progress:function progress(args){if(args.timeStamp>args.delay){args.element.style.visibility='visible';height=(args.timeStamp-args.delay)/args.duration;element.setAttribute('transform','translate('+centerX+' '+centerY+') scale('+height+') translate('+-centerX+' '+-centerY+')');}},end:function end(){element.style.visibility='';if((series.type==='Scatter'||series.type==='Bubble')&&!isLabel&&pointIndex===series.points.length-1){series.chart.trigger('animationComplete',{series:series.chart.isBlazor?{}:series});}}});}/**
 * Animate the rect element
 */function animateRectElement(element,delay,duration,currentRect,previousRect){var setStyle=function setStyle(rect){element.setAttribute('x',rect.x+'');element.setAttribute('y',rect.y+'');element.setAttribute('width',rect.width+'');element.setAttribute('height',rect.height+'');};new sf.base.Animation({}).animate(sf.base.createElement('div'),{duration:duration,delay:delay,//name: name,
progress:function progress(args){setStyle(new sf.svgbase.Rect(linear(args.timeStamp,previousRect.x,currentRect.x-previousRect.x,args.duration),linear(args.timeStamp,previousRect.y,currentRect.y-previousRect.y,args.duration),linear(args.timeStamp,previousRect.width,currentRect.width-previousRect.width,args.duration),linear(args.timeStamp,previousRect.height,currentRect.height-previousRect.height,args.duration)));},end:function end(){setStyle(currentRect);}});}/**
 * Animation after legend click a path
 *
 * @param {Element} element element to be animated
 * @param {string} direction current direction of the path
 * @param {boolean} redraw chart redraw
 * @param {string} previousDirection previous direction of the path
 * @param {number} animateDuration animateDuration of the path
 */function pathAnimation(element,direction,redraw,previousDirection,animateDuration){if(!redraw||!previousDirection&&!element){return null;}var duration=300;if(animateDuration){duration=animateDuration;}var startDirections=previousDirection||element.getAttribute('d');var splitDirections=startDirections.split(/(?=[LMCZAQ])/);var endDirections=direction.split(/(?=[LMCZAQ])/);var currentDireciton;var startPath=[];var endPath=[];var c;var end;element.setAttribute('d',startDirections);new sf.base.Animation({}).animate(sf.base.createElement('div'),{duration:duration,progress:function progress(args){currentDireciton='';splitDirections.map(function(directions,index){startPath=directions.split(' ');endPath=endDirections[index]?endDirections[index].split(' '):startPath;if(startPath[0]==='Z'){currentDireciton+='Z'+' ';}else{currentDireciton+=startPath[0]+' '+linear(args.timeStamp,+startPath[1],+endPath[1]-+startPath[1],args.duration)+' '+linear(args.timeStamp,+startPath[2],+endPath[2]-+startPath[2],args.duration)+' ';}if(startPath[0]==='C'||startPath[0]==='Q'){c=3;end=startPath[0]==='Q'?4:6;while(c<end){currentDireciton+=linear(args.timeStamp,+startPath[c],+endPath[c]-+startPath[c],args.duration)+' '+linear(args.timeStamp,+startPath[++c],+endPath[c]-+startPath[c],args.duration)+' ';++c;}}if(startPath[0]==='A'){currentDireciton+=0+' '+0+' '+1+' '+linear(args.timeStamp,+startPath[6],+endPath[6]-+startPath[6],args.duration)+' '+linear(args.timeStamp,+startPath[7],+endPath[7]-+startPath[7],args.duration)+' ';}});element.setAttribute('d',currentDireciton);},end:function end(){element.setAttribute('d',direction);}});}/**
 * To append the clip rect element
 *
 * @param {boolean} redraw chart redraw value
 * @param {BaseAttibutes} options element options
 * @param {SvgRenderer} renderer svg renderer values
 * @param {string} clipPath clipPath of the element
 */function appendClipElement(redraw,options,renderer,clipPath){if(clipPath===void 0){clipPath='drawClipPath';}var clipElement=redrawElement(redraw,options.id,options,renderer);if(clipElement){var def=renderer.createDefs();def.appendChild(clipElement);return def;}else{return renderer[clipPath](options);}}/**
 * Triggers the event.
 *
 * @returns {void}
 * @private
 */function triggerLabelRender(chart,tempInterval,text,labelStyle,axis){var argsData={cancel:false,name:axisLabelRender,axis:axis,text:text,value:tempInterval,labelStyle:labelStyle};chart.trigger(axisLabelRender,argsData);if(!argsData.cancel){var isLineBreakLabels=argsData.text.indexOf('<br>')!==-1;var text_1=axis.enableTrim?isLineBreakLabels?lineBreakLabelTrim(axis.maximumLabelWidth,argsData.text,axis.labelStyle):textTrim(axis.maximumLabelWidth,argsData.text,axis.labelStyle):argsData.text;axis.visibleLabels.push(new VisibleLabels(text_1,argsData.value,argsData.labelStyle,argsData.text));}}/**
 * The function used to find whether the range is set.
 *
 * @returns {boolean} It returns true if the axis range is set otherwise false.
 * @private
 */function setRange(axis){return axis.minimum!=null&&axis.maximum!=null;}/**
 * To check whether the axis is zoomed or not.
 *
 * @param {Axis} axis axis model
 */function isZoomSet(axis){return axis.zoomFactor<1&&axis.zoomPosition>=0;}/**
 * Calculate desired interval for the axis.
 *
 * @returns {void} It returns desired interval count.
 * @private
 */function getActualDesiredIntervalsCount(availableSize,axis){var size=axis.orientation==='Horizontal'?availableSize.width:availableSize.height;if(sf.base.isNullOrUndefined(axis.desiredIntervals)){var desiredIntervalsCount=(axis.orientation==='Horizontal'?0.533:1)*axis.maximumLabels;desiredIntervalsCount=Math.max(size*(desiredIntervalsCount/100),1);return desiredIntervalsCount;}else{return axis.desiredIntervals;}}/**
 * Animation for template
 *
 * @private
 */function templateAnimate(element,delay,duration,name,isRemove){new sf.base.Animation({}).animate(element,{duration:duration,delay:delay,name:name,progress:function progress(args){args.element.style.visibility='visible';},end:function end(args){if(isRemove){sf.base.remove(args.element);}else{args.element.style.visibility='visible';}}});}/** @private */function drawSymbol(location,shape,size,url,options,label,renderer,clipRect,isChartControl,control){var chartRenderer=renderer?renderer:new sf.svgbase.SvgRenderer('');var shapeOption=calculateShapes(location,size,shape,options,url,isChartControl,control);var drawElement=chartRenderer['draw'+shapeOption.functionName](shapeOption.renderOption,clipRect?new Int32Array([clipRect.x,clipRect.y]):null);//drawElement.setAttribute('aria-label', label);
return drawElement;}/** @private */function calculateShapes(location,size,shape,options,url,isChart,control){var dir;var functionName='Path';var isBulletChart=isChart;var width=isBulletChart&&shape==='Circle'?size.width-2:size.width;var height=isBulletChart&&shape==='Circle'?size.height-2:size.height;var sizeBullet=isBulletChart?control.targetWidth:0;var lx=location.x;var ly=location.y;var y=location.y+-height/2;var x=location.x+-width/2;var eq=72;var xVal;var yVal;switch(shape){case'Bubble':case'Circle':functionName='Ellipse';sf.base.merge(options,{'rx':width/2,'ry':height/2,'cx':lx,'cy':ly});break;case'Cross':dir='M'+' '+x+' '+ly+' '+'L'+' '+(lx+width/2)+' '+ly+' '+'M'+' '+lx+' '+(ly+height/2)+' '+'L'+' '+lx+' '+(ly+-height/2);sf.base.merge(options,{'d':dir,stroke:options.fill});break;case'Multiply':dir='M '+(lx-sizeBullet)+' '+(ly-sizeBullet)+' L '+(lx+sizeBullet)+' '+(ly+sizeBullet)+' M '+(lx-sizeBullet)+' '+(ly+sizeBullet)+' L '+(lx+sizeBullet)+' '+(ly-sizeBullet);sf.base.merge(options,{'d':dir,stroke:options.fill});break;case'HorizontalLine':dir='M'+' '+x+' '+ly+' '+'L'+' '+(lx+width/2)+' '+ly;sf.base.merge(options,{'d':dir});break;case'VerticalLine':dir='M'+' '+lx+' '+(ly+height/2)+' '+'L'+' '+lx+' '+(ly+-height/2);sf.base.merge(options,{'d':dir});break;case'Diamond':dir='M'+' '+x+' '+ly+' '+'L'+' '+lx+' '+(ly+-height/2)+' '+'L'+' '+(lx+width/2)+' '+ly+' '+'L'+' '+lx+' '+(ly+height/2)+' '+'L'+' '+x+' '+ly+' z';sf.base.merge(options,{'d':dir});break;case'ActualRect':dir='M'+' '+x+' '+(ly+-height/8)+' '+'L'+' '+(lx+sizeBullet)+' '+(ly+-height/8)+' '+'L'+' '+(lx+sizeBullet)+' '+(ly+height/8)+' '+'L'+' '+x+' '+(ly+height/8)+' '+'L'+' '+x+' '+(ly+-height/8)+' z';sf.base.merge(options,{'d':dir});break;case'TargetRect':dir='M'+' '+(x+sizeBullet)+' '+(ly+-height/2)+' '+'L'+' '+(lx+sizeBullet/2)+' '+(ly+-height/2)+' '+'L'+' '+(lx+sizeBullet/2)+' '+(ly+height/2)+' '+'L'+' '+(x+sizeBullet)+' '+(ly+height/2)+' '+'L'+' '+(x+sizeBullet)+' '+(ly+-height/2)+' z';sf.base.merge(options,{'d':dir});break;case'Rectangle':case'Hilo':case'HiloOpenClose':case'Candle':case'Waterfall':case'BoxAndWhisker':case'StepArea':case'StackingStepArea':case'Square':case'Flag':dir='M'+' '+x+' '+(ly+-height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly+-height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly+height/2)+' '+'L'+' '+x+' '+(ly+height/2)+' '+'L'+' '+x+' '+(ly+-height/2)+' z';sf.base.merge(options,{'d':dir});break;case'Pyramid':case'Triangle':dir='M'+' '+x+' '+(ly+height/2)+' '+'L'+' '+lx+' '+(ly+-height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly+height/2)+' '+'L'+' '+x+' '+(ly+height/2)+' z';sf.base.merge(options,{'d':dir});break;case'Funnel':case'InvertedTriangle':dir='M'+' '+(lx+width/2)+' '+(ly-height/2)+' '+'L'+' '+lx+' '+(ly+height/2)+' '+'L'+' '+(lx-width/2)+' '+(ly-height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly-height/2)+' z';sf.base.merge(options,{'d':dir});break;case'Pentagon':for(var i=0;i<=5;i++){xVal=width/2*Math.cos(Math.PI/180*(i*eq));yVal=height/2*Math.sin(Math.PI/180*(i*eq));if(i===0){dir='M'+' '+(lx+xVal)+' '+(ly+yVal)+' ';}else{dir=dir.concat('L'+' '+(lx+xVal)+' '+(ly+yVal)+' ');}}dir=dir.concat('Z');sf.base.merge(options,{'d':dir});break;case'Image':functionName='Image';sf.base.merge(options,{'href':url,'height':height,'width':width,x:x,y:y});break;}options=calculateLegendShapes(location,new sf.svgbase.Size(width,height),shape,options).renderOption;return{renderOption:options,functionName:functionName};}/** @private */function getRectLocation(startLocation,endLocation,outerRect){var x=endLocation.x<outerRect.x?outerRect.x:endLocation.x>outerRect.x+outerRect.width?outerRect.x+outerRect.width:endLocation.x;var y=endLocation.y<outerRect.y?outerRect.y:endLocation.y>outerRect.y+outerRect.height?outerRect.y+outerRect.height:endLocation.y;return new sf.svgbase.Rect(x>startLocation.x?startLocation.x:x,y>startLocation.y?startLocation.y:y,Math.abs(x-startLocation.x),Math.abs(y-startLocation.y));}/** @private */function minMax(value,min,max){return value>max?max:value<min?min:value;}/** @private */function getElement$1(id){return document.getElementById(id);}/** @private */function getTemplateFunction(template){var templateFn=null;try{if(document.querySelectorAll(template).length){templateFn=sf.base.compile(document.querySelector(template).innerHTML.trim());}}catch(e){templateFn=sf.base.compile(template);}return templateFn;}/** @private */function accReactTemplate(childElement,chart,isTemplate,points,argsData,point,datalabelGroup,id,dataLabel,redraw){var clientRect=childElement.getBoundingClientRect();chart.accumulationDataLabelModule.calculateLabelSize(isTemplate,childElement,point,points,argsData,datalabelGroup,id,dataLabel,redraw,clientRect,true);}/** @private */function chartReactTemplate(childElement,chart,point,series,labelIndex,redraw){var parentElement=document.getElementById(chart.element.id+'_Series_'+(series.index===undefined?series.category:series.index)+'_DataLabelCollections');if(parentElement){chart.dataLabelModule.calculateTemplateLabelSize(parentElement,childElement,point,series,series.marker.dataLabel,labelIndex,series.clipRect,redraw,true);}}/** @private */function createTemplate(childElement,pointIndex,content,chart,point,series,dataLabelId,labelIndex,argsData,isTemplate,points,datalabelGroup,id,dataLabel,redraw){var templateFn=getTemplateFunction(content);var templateElement;try{var blazor='Blazor';var tempObject=window[blazor]?dataLabelId?point:{point:point}:{chart:chart,series:series,point:point};var templateId=dataLabelId?dataLabelId+'_template':'template';var elementData=templateFn?templateFn(tempObject,chart,templateId,dataLabelId||childElement.id.replace(/[^a-zA-Z0-9]/g,'')):[];if(elementData.length){templateElement=Array.prototype.slice.call(elementData);var len=templateElement.length;for(var i=0;i<len;i++){childElement.appendChild(templateElement[i]);}}var reactCallback=void 0;if(chart.getModuleName()==='accumulationchart'){reactCallback=accReactTemplate.bind(this,childElement,chart,isTemplate,points,argsData,points[pointIndex],datalabelGroup,id,dataLabel,redraw);// tslint:disable-next-line:no-any
if(chart.isReact){chart.renderReactTemplates(reactCallback);}}else if(chart.getModuleName()==='chart'){reactCallback=chartReactTemplate.bind(this,childElement,chart,point,series,labelIndex,redraw);// tslint:disable-next-line:no-any
if(chart.isReact){chart.renderReactTemplates(reactCallback);}}}catch(e){return childElement;}return childElement;}/** @private */function getFontStyle(font){var style='';style='font-size:'+font.size+'; font-style:'+font.fontStyle+'; font-weight:'+font.fontWeight+'; font-family:'+font.fontFamily+';opacity:'+font.opacity+'; color:'+font.color+';';return style;}/** @private */function measureElementRect(element,redraw){if(redraw===void 0){redraw=false;}document.body.appendChild(element);var bounds=element.getBoundingClientRect();if(redraw){sf.base.remove(element);}else{removeElement(element.id);}return bounds;}/** @private */function findlElement(elements,id){var element;for(var i=0,length_1=elements.length;i<length_1;i++){if(elements[i].id.indexOf(id)>-1){element=elements[i];continue;}}return element;}/** @private */function getPoint(x,y,xAxis,yAxis,isInverted){x=xAxis.valueType==='Logarithmic'?logBase(x>0?x:1,xAxis.logBase):x;y=yAxis.valueType==='Logarithmic'?logBase(y>0?y:1,yAxis.logBase):y;x=valueToCoefficient(x,xAxis);y=valueToCoefficient(y,yAxis);var xLength=isInverted?xAxis.rect.height:xAxis.rect.width;var yLength=isInverted?yAxis.rect.width:yAxis.rect.height;var locationX=isInverted?y*yLength:x*xLength;var locationY=isInverted?(1-x)*xLength:(1-y)*yLength;return new ChartLocation(locationX,locationY);}/** @private */function appendElement(child,parent,redraw,animate,x,y){if(redraw===void 0){redraw=false;}if(animate===void 0){animate=false;}if(x===void 0){x='x';}if(y===void 0){y='y';}if(child&&child.hasChildNodes()&&parent){appendChildElement(false,parent,child,redraw,animate,x,y);}else{return null;}}/**
 * Method to append child element
 *
 * @param {boolean} isCanvas canvas mode value
 * @param {Element} parent parent element
 * @param {Element} childElement childElement element
 * @param {boolean} redraw chart redraw value
 * @param {boolean} isAnimate animation value
 * @param {string} x x position
 * @param {string} y y position
 * @param {ChartLocation} start start location value
 * @param {string} direction direction of the element
 * @param {boolean} forceAnimate forceAnimate
 * @param {boolean} isRect isRect
 * @param {Rect} previousRect previousRect
 * @param {number} animateDuration duration of the animation
 */function appendChildElement(isCanvas,parent,childElement,redraw,isAnimate,x,y,start,direction,forceAnimate,isRect,previousRect,animateDuration){if(isAnimate===void 0){isAnimate=false;}if(x===void 0){x='x';}if(y===void 0){y='y';}if(forceAnimate===void 0){forceAnimate=false;}if(isRect===void 0){isRect=false;}if(previousRect===void 0){previousRect=null;}if(isCanvas){return null;}var existChild=parent.querySelector('#'+childElement.id);var element=existChild||getElement$1(childElement.id);var child=childElement;var duration=animateDuration?animateDuration:300;if(redraw&&isAnimate&&element){start=start||(element.tagName==='DIV'?new ChartLocation(+element.style[x].split('px')[0],+element.style[y].split('px')[0]):new ChartLocation(+element.getAttribute(x),+element.getAttribute(y)));if(direction&&direction!=='undefined'){pathAnimation(childElement,childElement.getAttribute('d'),redraw,direction,duration);}else if(isRect&&previousRect){animateRectElement(child,0,duration,new sf.svgbase.Rect(+element.getAttribute('x'),+element.getAttribute('y'),+element.getAttribute('width'),+element.getAttribute('height')),previousRect);}else{var end=child.tagName==='DIV'?new ChartLocation(+child.style[x].split('px')[0],+child.style[y].split('px')[0]):new ChartLocation(+child.getAttribute(x),+child.getAttribute(y));animateRedrawElement(child,duration,start,end,x,y);}}else if(redraw&&isAnimate&&!element&&forceAnimate){templateAnimate(child,0,600,'FadeIn');}if(existChild){parent.replaceChild(child,element);}else{parent.appendChild(child);}}/** @private */function getDraggedRectLocation(x1,y1,x2,y2,outerRect){var width=Math.abs(x1-x2);var height=Math.abs(y1-y2);var x=Math.max(checkBounds(Math.min(x1,x2),width,outerRect.x,outerRect.width),outerRect.x);var y=Math.max(checkBounds(Math.min(y1,y2),height,outerRect.y,outerRect.height),outerRect.y);return new sf.svgbase.Rect(x,y,Math.min(width,outerRect.width),Math.min(height,outerRect.height));}/** @private */function checkBounds(start,size,min,max){if(start<min){start=min;}else if(start+size>max+min){start=max+min-size;}return start;}/** @private */function getLabelText(currentPoint,series,chart){var labelFormat=series.yAxis.labelFormat;var text=[];var customLabelFormat=labelFormat.match('{value}')!==null;switch(series.seriesType){case'XY':/**
             * I255790
             * For Polar radar series, the dataLabel appears out of range when axis range is given for yaxis
             * Cause: Since symbol location for the points which did not lies in within range, lies outside of seriesRect.
             * Fix: DataLabel rendered after checking WithIn for the points
             */if(series.chart.chartAreaType==='PolarRadar'){if(series.drawType.indexOf('Stacking')!==-1){if(series.yAxis.valueType==='Logarithmic'&&logWithIn(series.stackedValues.endValues[currentPoint.index],series.yAxis)||withIn(series.stackedValues.endValues[currentPoint.index],series.yAxis.visibleRange)){text.push(currentPoint.text||currentPoint.yValue.toString());}}else{if(series.yAxis.valueType==='Logarithmic'&&logWithIn(currentPoint.yValue,series.yAxis)||withIn(currentPoint.yValue,series.yAxis.visibleRange)){text.push(currentPoint.text||currentPoint.yValue.toString());}}}else{text.push(currentPoint.text||currentPoint.yValue.toString());}break;case'HighLow':text.push(currentPoint.text||Math.max(currentPoint.high,currentPoint.low).toString());text.push(currentPoint.text||Math.min(currentPoint.high,currentPoint.low).toString());break;case'HighLowOpenClose':text.push(currentPoint.text||Math.max(currentPoint.high,currentPoint.low).toString());text.push(currentPoint.text||Math.min(currentPoint.high,currentPoint.low).toString());text.push(currentPoint.text||Math.max(currentPoint.open,currentPoint.close).toString());text.push(currentPoint.text||Math.min(currentPoint.open,currentPoint.close).toString());break;case'BoxPlot':text.push(currentPoint.text||currentPoint.median.toString());text.push(currentPoint.text||currentPoint.maximum.toString());text.push(currentPoint.text||currentPoint.minimum.toString());text.push(currentPoint.text||currentPoint.upperQuartile.toString());text.push(currentPoint.text||currentPoint.lowerQuartile.toString());for(var _i=0,_a=currentPoint.outliers;_i<_a.length;_i++){var liers=_a[_i];text.push(currentPoint.text||liers.toString());}break;}if(labelFormat&&!currentPoint.text){series.yAxis.format=chart.intl.getNumberFormat({format:customLabelFormat?'':labelFormat,useGrouping:chart.useGroupingSeparator});for(var i=0;i<text.length;i++){text[i]=customLabelFormat?labelFormat.replace('{value}',series.yAxis.format(parseFloat(text[i]))):series.yAxis.format(parseFloat(text[i]));}}return text;}/** @private */function stopTimer(timer){window.clearInterval(timer);}/** @private */function isCollide(rect,collections,clipRect){var currentRect=new sf.svgbase.Rect(rect.x+clipRect.x,rect.y+clipRect.y,rect.width,rect.height);var isCollide=collections.some(function(rect){return currentRect.x<rect.x+rect.width&&currentRect.x+currentRect.width>rect.x&&currentRect.y<rect.y+rect.height&&currentRect.height+currentRect.y>rect.y;});return isCollide;}/** @private */function isOverlap(currentRect,rect){return currentRect.x<rect.x+rect.width&&currentRect.x+currentRect.width>rect.x&&currentRect.y<rect.y+rect.height&&currentRect.height+currentRect.y>rect.y;}/** @private */function containsRect(currentRect,rect){return currentRect.x<=rect.x&&currentRect.x+currentRect.width>=rect.x+rect.width&&currentRect.y<=rect.y&&currentRect.height+currentRect.y>=rect.y+rect.height;}/** @private */function calculateRect(location,textSize,margin){return new sf.svgbase.Rect(location.x-textSize.width/2-margin.left,location.y-textSize.height/2-margin.top,textSize.width+margin.left+margin.right,textSize.height+margin.top+margin.bottom);}/** @private */function convertToHexCode(value){return'#'+componentToHex(value.r)+componentToHex(value.g)+componentToHex(value.b);}/** @private */function componentToHex(value){var hex=value.toString(16);return hex.length===1?'0'+hex:hex;}/** @private */function convertHexToColor(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?new ColorValue(parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)):new ColorValue(255,255,255);}/** @private */function colorNameToHex(color){color=color==='transparent'?'white':color;document.body.appendChild(sf.base.createElement('text',{id:'chartmeasuretext'}));var element=document.getElementById('chartmeasuretext');element.style.color=color;color=window.getComputedStyle(element).color;sf.base.remove(element);var exp=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/;var isRGBValue=exp.exec(color);return convertToHexCode(new ColorValue(parseInt(isRGBValue[3],10),parseInt(isRGBValue[4],10),parseInt(isRGBValue[5],10)));}/** @private */function getSaturationColor(color,factor){color=colorNameToHex(color);color=color.replace(/[^0-9a-f]/gi,'');if(color.length<6){color=color[0]+color[0]+color[1]+color[1]+color[2]+color[2];}factor=factor||0;// convert to decimal and change luminosity
var rgb='#';var colorCode;for(var i=0;i<3;i++){colorCode=parseInt(color.substr(i*2,2),16);colorCode=Math.round(Math.min(Math.max(0,colorCode+colorCode*factor),255));rgb+=('00'+colorCode.toString(16)).substr(colorCode.toString(16).length);}return rgb;}/** @private */function getMedian(values){var half=Math.floor(values.length/2);return values.length%2?values[half]:(values[half-1]+values[half])/2.0;}/** @private */function calculateLegendShapes(location,size,shape,options){var padding=10;var dir='';var space=2;var height=size.height;var width=size.width;var lx=location.x;var ly=location.y;switch(shape){case'MultiColoredLine':case'Line':case'StackingLine':case'StackingLine100':dir='M'+' '+(lx+-width/2)+' '+ly+' '+'L'+' '+(lx+width/2)+' '+ly;sf.base.merge(options,{'d':dir});break;case'StepLine':options.fill='transparent';dir='M'+' '+(lx+-width/2-padding/4)+' '+(ly+height/2)+' '+'L'+' '+(lx+-width/2+width/10)+' '+(ly+height/2)+' '+'L'+' '+(lx+-width/2+width/10)+' '+ly+' '+'L'+' '+(lx+-width/10)+' '+ly+' '+'L'+' '+(lx+-width/10)+' '+(ly+height/2)+' '+'L'+' '+(lx+width/5)+' '+(ly+height/2)+' '+'L'+' '+(lx+width/5)+' '+(ly+-height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly+-height/2)+'L'+' '+(lx+width/2)+' '+(ly+height/2)+' '+'L'+''+(lx+width/2+padding/4)+' '+(ly+height/2);sf.base.merge(options,{'d':dir});break;case'UpArrow':options.fill=options.stroke;options.stroke='transparent';dir='M'+' '+(lx+-width/2)+' '+(ly+height/2)+' '+'L'+' '+lx+' '+(ly-height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly+height/2)+'L'+' '+(lx+width/2-space)+' '+(ly+height/2)+' '+'L'+' '+lx+' '+(ly-height/2+2*space)+'L'+(lx-width/2+space)+' '+(ly+height/2)+' Z';sf.base.merge(options,{'d':dir});break;case'DownArrow':dir='M'+' '+(lx-width/2)+' '+(ly-height/2)+' '+'L'+' '+lx+' '+(ly+height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly-height/2)+'L'+' '+(lx+width/2-space)+' '+(ly-height/2)+' '+'L'+' '+lx+' '+(ly+height/2-2*space)+'L'+(lx-width/2+space)+' '+(ly-height/2)+' Z';sf.base.merge(options,{'d':dir});break;case'RightArrow':dir='M'+' '+(lx+-width/2)+' '+(ly-height/2)+' '+'L'+' '+(lx+width/2)+' '+ly+' '+'L'+' '+(lx+-width/2)+' '+(ly+height/2)+' L'+' '+(lx+-width/2)+' '+(ly+height/2-space)+' '+'L'+' '+(lx+width/2-2*space)+' '+ly+' L'+(lx+-width/2)+' '+(ly-height/2+space)+' Z';sf.base.merge(options,{'d':dir});break;case'LeftArrow':options.fill=options.stroke;options.stroke='transparent';dir='M'+' '+(lx+width/2)+' '+(ly-height/2)+' '+'L'+' '+(lx+-width/2)+' '+ly+' '+'L'+' '+(lx+width/2)+' '+(ly+height/2)+' '+'L'+' '+(lx+width/2)+' '+(ly+height/2-space)+' L'+' '+(lx+-width/2+2*space)+' '+ly+' L'+(lx+width/2)+' '+(ly-height/2+space)+' Z';sf.base.merge(options,{'d':dir});break;case'Column':case'Pareto':case'StackingColumn':case'StackingColumn100':case'RangeColumn':case'Histogram':dir='M'+' '+(lx-3*(width/5))+' '+(ly-height/5)+' '+'L'+' '+(lx+3*(-width/10))+' '+(ly-height/5)+' '+'L'+' '+(lx+3*(-width/10))+' '+(ly+height/2)+' '+'L'+' '+(lx-3*(width/5))+' '+(ly+height/2)+' '+'Z'+' '+'M'+' '+(lx+-width/10-width/20)+' '+(ly-height/4-padding/2)+' '+'L'+' '+(lx+width/10+width/20)+' '+(ly-height/4-padding/2)+' '+'L'+' '+(lx+width/10+width/20)+' '+(ly+height/2)+' '+'L'+' '+(lx+-width/10-width/20)+' '+(ly+height/2)+' '+'Z'+' '+'M'+' '+(lx+3*(width/10))+' '+ly+' '+'L'+' '+(lx+3*(width/5))+' '+ly+' '+'L'+' '+(lx+3*(width/5))+' '+(ly+height/2)+' '+'L'+' '+(lx+3*(width/10))+' '+(ly+height/2)+' '+'Z';sf.base.merge(options,{'d':dir});break;case'Bar':case'StackingBar':case'StackingBar100':dir='M'+' '+(lx+-width/2+-padding/4)+' '+(ly-3*(height/5))+' '+'L'+' '+(lx+3*(width/10))+' '+(ly-3*(height/5))+' '+'L'+' '+(lx+3*(width/10))+' '+(ly-3*(height/10))+' '+'L'+' '+(lx-width/2+-padding/4)+' '+(ly-3*(height/10))+' '+'Z'+' '+'M'+' '+(lx+-width/2+-padding/4)+' '+(ly-height/5+padding/20)+' '+'L'+' '+(lx+width/2+padding/4)+' '+(ly-height/5+padding/20)+' '+'L'+' '+(lx+width/2+padding/4)+' '+(ly+height/10+padding/20)+' '+'L'+' '+(lx-width/2+-padding/4)+' '+(ly+height/10+padding/20)+' '+'Z'+' '+'M'+' '+(lx-width/2+-padding/4)+' '+(ly+height/5+padding/10)+' '+'L'+' '+(lx+-width/4)+' '+(ly+height/5+padding/10)+' '+'L'+' '+(lx+-width/4)+' '+(ly+height/2+padding/10)+' '+'L'+' '+(lx-width/2+-padding/4)+' '+(ly+height/2+padding/10)+' '+'Z';sf.base.merge(options,{'d':dir});break;case'Spline':options.fill='transparent';dir='M'+' '+(lx-width/2)+' '+(ly+height/5)+' '+'Q'+' '+lx+' '+(ly-height)+' '+lx+' '+(ly+height/5)+' '+'M'+' '+lx+' '+(ly+height/5)+' '+'Q'+' '+(lx+width/2)+' '+(ly+height/2)+' '+(lx+width/2)+' '+(ly-height/2);sf.base.merge(options,{'d':dir});break;case'Area':case'MultiColoredArea':case'RangeArea':case'StackingArea':case'StackingArea100':dir='M'+' '+(lx-width/2-padding/4)+' '+(ly+height/2)+' '+'L'+' '+(lx+-width/4+-padding/8)+' '+(ly-height/2)+' '+'L'+' '+lx+' '+(ly+height/4)+' '+'L'+' '+(lx+width/4+padding/8)+' '+(ly+-height/2+height/4)+' '+'L'+' '+(lx+height/2+padding/4)+' '+(ly+height/2)+' '+'Z';sf.base.merge(options,{'d':dir});break;case'SplineArea':dir='M'+' '+(lx-width/2)+' '+(ly+height/5)+' '+'Q'+' '+lx+' '+(ly-height)+' '+lx+' '+(ly+height/5)+' '+'Z'+' '+'M'+' '+lx+' '+(ly+height/5)+' '+'Q'+' '+(lx+width/2)+' '+(ly+height/2)+' '+(lx+width/2)+' '+(ly-height/2)+' '+' Z';sf.base.merge(options,{'d':dir});break;case'Pie':case'Doughnut':options.stroke='transparent';// eslint-disable-next-line no-case-declarations
var r=Math.min(height,width)/2;dir=getAccumulationLegend(lx,ly,r,height,width,shape);sf.base.merge(options,{'d':dir});break;}return{renderOption:options};}/** @private */function textTrim(maxWidth,text,font){var label=text;var size=sf.svgbase.measureText(text,font).width;if(size>maxWidth){var textLength=text.length;for(var i=textLength-1;i>=0;--i){label=text.substring(0,i)+'...';size=sf.svgbase.measureText(label,font).width;if(size<=maxWidth){return label;}}}return label;}/** @private */function lineBreakLabelTrim(maxWidth,text,font){var labelCollection=[];var breakLabels=text.split('<br>');for(var i=0;i<breakLabels.length;i++){text=breakLabels[i];var size=sf.svgbase.measureText(text,font).width;if(size>maxWidth){var textLength=text.length;for(var i_1=textLength-1;i_1>=0;--i_1){text=text.substring(0,i_1)+'...';size=sf.svgbase.measureText(text,font).width;if(size<=maxWidth){labelCollection.push(text);break;}}}else{labelCollection.push(text);}}return labelCollection;}/** @private */function stringToNumber(value,containerSize){if(value!==null&&value!==undefined){return value.indexOf('%')!==-1?containerSize/100*parseInt(value,10):parseInt(value,10);}return null;}/** @private */function redrawElement(redraw,id,options,renderer){if(!redraw){return null;}var element=getElement$1(id);if(element&&options){renderer.setElementAttributes(options,element.tagName==='clipPath'?element.childNodes[0]:element);}return element;}/** @private */function animateRedrawElement(element,duration,start,_end,x,y){if(x===void 0){x='x';}if(y===void 0){y='y';}var isDiv=element.tagName==='DIV';var setStyle=function setStyle(xValue,yValue){if(isDiv){element.style[x]=xValue+'px';element.style[y]=yValue+'px';}else{element.setAttribute(x,xValue+'');element.setAttribute(y,yValue+'');}};setStyle(start.x,start.y);new sf.base.Animation({}).animate(sf.base.createElement('div'),{duration:duration,progress:function progress(args){setStyle(linear(args.timeStamp,start.x,_end.x-start.x,args.duration),linear(args.timeStamp,start.y,_end.y-start.y,args.duration));},end:function end(){setStyle(_end.x,_end.y);}});}/** @private */function textElement(renderer,option,font,color,parent,isMinus,redraw,isAnimate,forceAnimate,animateDuration,seriesClipRect,labelSize,isRotatedLabelIntersect,isCanvas){if(isMinus===void 0){isMinus=false;}if(forceAnimate===void 0){forceAnimate=false;}var renderOptions={};var tspanElement;//let renderer: SvgRenderer = new SvgRenderer('');
var height;var dy;var label;renderOptions={'id':option.id,'x':option.x,'y':option.y,'fill':color?color:'black','font-size':font.size,'font-style':font.fontStyle,'font-family':font.fontFamily,'font-weight':font.fontWeight,'text-anchor':option.anchor,'labelRotation':option.labelRotation,'transform':option.transform,'opacity':font.opacity,'dominant-baseline':option.baseLine};var text=typeof option.text==='string'?option.text:isMinus?option.text[option.text.length-1]:option.text[0];var transX=seriesClipRect?seriesClipRect.x:0;var transY=seriesClipRect?seriesClipRect.y:0;var htmlObject=renderer.createText(renderOptions,text,transX,transY);htmlObject.style.fontFamily=font.fontFamily;htmlObject.style.fontStyle=font.fontStyle;htmlObject.style.fontSize=font.size;htmlObject.style.fontWeight=font.fontWeight;htmlObject.style.color=font.color;htmlObject.style.textAnchor=option.anchor;if(typeof option.text!=='string'&&option.text.length>1){for(var i=1,len=option.text.length;i<len;i++){height=sf.svgbase.measureText(option.text[i],font).height;dy=option.y+(isMinus?-(i*height):i*height);label=isMinus?option.text[option.text.length-(i+1)]:option.text[i];if(isCanvas){tspanElement=renderer.createText(renderOptions,label,null,null,dy,true);}else{tspanElement=renderer.createTSpan({'x':option.x,'id':option.id,'y':dy},label);htmlObject.appendChild(tspanElement);}}}if(!isRotatedLabelIntersect){appendChildElement(renderer instanceof sf.svgbase.CanvasRenderer,parent,htmlObject,redraw,isAnimate,'x','y',null,null,forceAnimate,false,null,animateDuration);}return htmlObject;}/**
 * Method to calculate the width and height of the chart
 */function calculateSize(chart){// fix for Chart rendered with default width in IE issue
var containerWidth=chart.element.clientWidth||chart.element.offsetWidth;var containerHeight=chart.element.clientHeight;if(chart.stockChart){containerWidth=chart.stockChart.element.clientWidth;}var height=450;var marginHeight;if(chart.getModuleName()==='rangeNavigator'){var range=chart;var tooltipSpace=range.tooltip.enable?35:0;var periodHeight=range.periodSelectorSettings.periods.length?range.periodSelectorSettings.height:0;marginHeight=range.margin.top+range.margin.bottom+tooltipSpace;var labelSize=sf.svgbase.measureText('tempString',range.labelStyle).height;var labelPadding=15;height=(chart.series.length?sf.base.Browser.isDevice?80:120:(range.enableGrouping?40+labelPadding+labelSize:40)+marginHeight)+periodHeight;if(range.disableRangeSelector){height=periodHeight;}}chart.availableSize=new sf.svgbase.Size(stringToNumber(chart.width,containerWidth)||containerWidth||600,stringToNumber(chart.height,containerHeight||height)||containerHeight||height);}/**
 * To create svg element.
 *
 * @param {Chart} chart chart instance
 */function createSvg(chart){chart.canvasRender=new sf.svgbase.CanvasRenderer(chart.element.id);chart.renderer=chart.enableCanvas?chart.canvasRender:new sf.svgbase.SvgRenderer(chart.element.id);calculateSize(chart);if(chart.stockChart&&chart.getModuleName()==='chart'){chart.svgObject=chart.stockChart.chartObject;}else if(chart.stockChart&&chart.getModuleName()==='rangeNavigator'){chart.svgObject=chart.stockChart.selectorObject;}else{if(chart.enableCanvas){chart.svgObject=chart.renderer.createCanvas({id:chart.element.id+'_canvas',width:chart.availableSize.width,height:chart.availableSize.height});}else{chart.svgObject=chart.renderer.createSvg({id:chart.element.id+'_svg',width:chart.availableSize.width,height:chart.availableSize.height});}}}/**
 * To calculate chart title and height
 *
 * @param {string} title text of the title
 * @param {FontModel} style style of the title
 * @param {number} width width of the title
 */function getTitle(title,style,width){var titleCollection=[];switch(style.textOverflow){case'Wrap':titleCollection=textWrap(title,width,style);break;case'Trim':titleCollection.push(textTrim(width,title,style));break;default:titleCollection.push(title);break;}return titleCollection;}/**
 * Method to calculate x position of title
 */function titlePositionX(rect,titleStyle){var positionX;if(titleStyle.textAlignment==='Near'){positionX=rect.x;}else if(titleStyle.textAlignment==='Center'){positionX=rect.x+rect.width/2;}else{positionX=rect.x+rect.width;}return positionX;}/**
 * Method to find new text and element size based on textOverflow
 */function textWrap(currentLabel,maximumWidth,font){var textCollection=currentLabel.split(' ');var label='';var labelCollection=[];var text;for(var i=0,len=textCollection.length;i<len;i++){text=textCollection[i];if(sf.svgbase.measureText(label.concat(text),font).width<maximumWidth){label=label.concat((label===''?'':' ')+text);}else{if(label!==''){labelCollection.push(textTrim(maximumWidth,label,font));label=text;}else{labelCollection.push(textTrim(maximumWidth,text,font));text='';}}if(label&&i===len-1){labelCollection.push(textTrim(maximumWidth,label,font));}}return labelCollection;}/**
 * Method to support the subscript and superscript value to text
 */function getUnicodeText(text,regexp){var title=text.replace(regexp,' ');var digit=text.match(regexp);var digitSpecific=' ';var convertedText=' ';var k=0;var unicodeSub={'0':"\u2080",'1':"\u2081",'2':"\u2082",'3':"\u2083",'4':"\u2084",'5':"\u2085",'6':"\u2086",'7':"\u2087",'8':"\u2088",'9':"\u2089"};var unicodeSup={'0':"\u2070",'1':"\xB9",'2':"\xB2",'3':"\xB3",'4':"\u2074",'5':"\u2075",'6':"\u2076",'7':"\u2077",'8':"\u2078",'9':"\u2079"};for(var i=0;i<=title.length-1;i++){if(title[i]===' '){digitSpecific=regexp===regSub?digit[k].replace(/~/g,''):digit[k].replace(/\^/g,'');for(var j=0;j<digitSpecific.length;j++){convertedText+=regexp===regSub?unicodeSub[digitSpecific[j]]:unicodeSup[digitSpecific[j]];}k++;}else{convertedText+=title[i];}}return convertedText.trim();}/**
 * Method to reset the blazor templates
 */function blazorTemplatesReset(control){for(var i=0;i<control.annotations.length;i++){sf.base.resetBlazorTemplate((control.element.id+'_Annotation_'+i).replace(/[^a-zA-Z0-9]/g,''),'ContentTemplate');}//This reset the tooltip templates
sf.base.resetBlazorTemplate(control.element.id+'_tooltipparent_template'+'_blazorTemplate','Template');//Datalabel templates reset
sf.base.resetBlazorTemplate(control.element.id+'_DataLabel');}/** @private */var CustomizeOption=/** @class */function(){function CustomizeOption(id){this.id=id;}return CustomizeOption;}();/** @private */var StackValues=/** @class */function(){function StackValues(startValue,endValue){this.startValues=startValue;this.endValues=endValue;}return StackValues;}();/** @private */var RectOption=/** @class */function(_super){__extends$1(RectOption,_super);function RectOption(id,fill,border,opacity,rect,rx,ry,transform,dashArray){var _this=_super.call(this,id,fill,border.width,border.color,opacity,dashArray)||this;_this.y=rect.y;_this.x=rect.x;_this.height=rect.height;_this.width=rect.width;_this.rx=rx?rx:0;_this.ry=ry?ry:0;_this.transform=transform?transform:'';_this.stroke=border.width!==0&&_this.stroke!==''?border.color:'transparent';return _this;}return RectOption;}(sf.svgbase.PathOption);/** @private */var ImageOption=/** @class */function(){function ImageOption(height,width,href,x,y,id,visibility,preserveAspectRatio){this.height=height;this.width=width;this.href=href;this.x=x;this.y=y;this.id=id;this.visibility=visibility;this.preserveAspectRatio=preserveAspectRatio;}return ImageOption;}();/** @private */var CircleOption=/** @class */function(_super){__extends$1(CircleOption,_super);function CircleOption(id,fill,border,opacity,cx,cy,r){var _this=_super.call(this,id,fill,border.width,border.color,opacity)||this;_this.cy=cy;_this.cx=cx;_this.r=r;return _this;}return CircleOption;}(sf.svgbase.PathOption);/** @private */var PolygonOption=/** @class */function(){function PolygonOption(id,points,fill){this.id=id;this.points=points;this.fill=fill;}return PolygonOption;}();/** @private */var ChartLocation=/** @class */function(){function ChartLocation(x,y){this.x=x;this.y=y;}return ChartLocation;}();/** @private */var LabelLocation=/** @class */function(){function LabelLocation(x,y){this.x=0;this.y=0;this.x=x;this.y=y;}return LabelLocation;}();/** @private */var Thickness=/** @class */function(){function Thickness(left,right,top,bottom){this.left=left;this.right=right;this.top=top;this.bottom=bottom;}return Thickness;}();/** @private */var ColorValue=/** @class */function(){function ColorValue(r,g,b){this.r=r;this.g=g;this.b=b;}return ColorValue;}();/** @private */var PointData=/** @class */function(){function PointData(point,series,index){if(index===void 0){index=0;}this.point=point;this.series=series;this.lierIndex=index;}return PointData;}();/** @private */var AccPointData=/** @class */function(){function AccPointData(point,series,index){if(index===void 0){index=0;}this.point=point;this.series=series;this.index=index;}return AccPointData;}();/** @private */var ControlPoints=/** @class */function(){function ControlPoints(controlPoint1,controlPoint2){this.controlPoint1=controlPoint1;this.controlPoint2=controlPoint2;}return ControlPoints;}();/** @private */function getColorByValue(colorMap,value){var color='';var rbgColorValue;if(Number(value)===colorMap.start){color=colorMap.colors[0];}else if(Number(value)===colorMap.end){color=colorMap.colors[colorMap.colors.length-1];}else{rbgColorValue=getGradientColor(Number(value),colorMap);color=convertToHexCode(rbgColorValue);}return color;}/** @private */function getGradientColor(value,colorMap){var previousOffset=colorMap.start;var nextOffset=colorMap.end;var percent=0;var full=nextOffset-previousOffset;var midColor;percent=(value-previousOffset)/full;var previousColor;var nextColor;if(colorMap.colors.length<=2){previousColor=colorMap.colors[0].charAt(0)==='#'?colorMap.colors[0]:colorNameToHex(colorMap.colors[0]);nextColor=colorMap.colors[colorMap.colors.length-1].charAt(0)==='#'?colorMap.colors[colorMap.colors.length-1]:colorNameToHex(colorMap.colors[colorMap.colors.length-1]);}else{previousColor=colorMap.colors[0].charAt(0)==='#'?colorMap.colors[0]:colorNameToHex(colorMap.colors[0]);nextColor=colorMap.colors[colorMap.colors.length-1].charAt(0)==='#'?colorMap.colors[colorMap.colors.length-1]:colorNameToHex(colorMap.colors[colorMap.colors.length-1]);var a=full/(colorMap.colors.length-1);var b=void 0;var c=void 0;var length_2=colorMap.colors.length-1;var splitColorValueOffset=[];var splitColor={};for(var j=1;j<length_2;j++){c=j*a;b=previousOffset+c;splitColor={b:b,color:colorMap.colors[j]};splitColorValueOffset.push(splitColor);}for(var i=0;i<splitColorValueOffset.length;i++){if(previousOffset<=value&&value<=splitColorValueOffset[i]['b']&&i===0){midColor=splitColorValueOffset[i]['color'].charAt(0)==='#'?splitColorValueOffset[i]['color']:colorNameToHex(splitColorValueOffset[i]['color']);nextColor=midColor;percent=value<=splitColorValueOffset[i]['b']?1-Math.abs((value-splitColorValueOffset[i]['b'])/a):(value-splitColorValueOffset[i]['b'])/a;}else if(splitColorValueOffset[i]['b']<=value&&value<=nextOffset&&i===splitColorValueOffset.length-1){midColor=splitColorValueOffset[i]['color'].charAt(0)==='#'?splitColorValueOffset[i]['color']:colorNameToHex(splitColorValueOffset[i]['color']);previousColor=midColor;percent=value<splitColorValueOffset[i]['b']?1-Math.abs((value-splitColorValueOffset[i]['b'])/a):(value-splitColorValueOffset[i]['b'])/a;}if(i!==splitColorValueOffset.length-1&&i<splitColorValueOffset.length){if(splitColorValueOffset[i]['b']<=value&&value<=splitColorValueOffset[i+1]['b']){midColor=splitColorValueOffset[i]['color'].charAt(0)==='#'?splitColorValueOffset[i]['color']:colorNameToHex(splitColorValueOffset[i]['color']);previousColor=midColor;nextColor=splitColorValueOffset[i+1]['color'].charAt(0)==='#'?splitColorValueOffset[i+1]['color']:colorNameToHex(splitColorValueOffset[i+1]['color']);percent=Math.abs(value-splitColorValueOffset[i+1]['b'])/a;}}}}return getPercentageColor(percent,previousColor,nextColor);}/** @private */function getPercentageColor(percent,previous,next){var nextColor=next.split('#')[1];var prevColor=previous.split('#')[1];var r=getPercentage(percent,parseInt(prevColor.substr(0,2),16),parseInt(nextColor.substr(0,2),16));var g=getPercentage(percent,parseInt(prevColor.substr(2,2),16),parseInt(nextColor.substr(2,2),16));var b=getPercentage(percent,parseInt(prevColor.substr(4,2),16),parseInt(nextColor.substr(4,2),16));return new ColorValue(r,g,b);}/** @private */function getPercentage(percent,previous,next){var full=next-previous;return Math.round(previous+full*percent);}/**
 * Methods for calculating coefficient.
 */ /** @private */ /** @private */ /** @private */function getRangeValueXByPoint(value,size,range,inversed){var actualValue=!inversed?value/size:1-value/size;return actualValue*range.delta+range.min;}/** @private */ /** @private */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Period selector class
 */var PeriodSelector=/** @class */function(){//constructor for period selector
function PeriodSelector(control){this.control={};this.rootControl=control;}/**
     * To set the control values
     *
     * @param control
     * @returns {void}
     */PeriodSelector.prototype.setControlValues=function(control){if(control.getModuleName()==='rangeNavigator'){this.control.periods=this.rootControl.periodSelectorSettings.periods;this.control.seriesXMax=control.chartSeries.xMax;this.control.seriesXMin=control.chartSeries.xMin;this.control.rangeSlider=control.rangeSlider;this.control.rangeNavigatorControl=control;this.control.endValue=control.endValue;this.control.startValue=control.startValue;}else{this.control.periods=this.rootControl.periods;this.control.endValue=this.control.seriesXMax=control.seriesXMax;this.control.startValue=this.control.seriesXMin=control.seriesXMin;this.control.rangeNavigatorControl=this.rootControl.rangeNavigator;if(this.control.rangeNavigatorControl){this.control.rangeSlider=this.rootControl.rangeNavigator.rangeSlider;}}this.control.element=control.element;this.control.disableRangeSelector=control.disableRangeSelector;};/**
     * To initialize the period selector properties
     *
     * @param options
     * @param x
     * @param options
     * @param x
     */PeriodSelector.prototype.appendSelector=function(options,x){if(x===void 0){x=0;}this.renderSelectorElement(null,options,x);this.renderSelector();};/**
     * renderSelector div
     *
     * @param control
     * @param options
     * @param x
     * @param options
     * @param x
     */PeriodSelector.prototype.renderSelectorElement=function(control,options,x){//render border
this.periodSelectorSize=control?this.periodSelectorSize:new sf.svgbase.Rect(x,this.rootControl.titleSize.height,options.width,options.height);var thumbSize;var element;if(control){thumbSize=control.themeStyle.thumbWidth;element=control.element;}else{thumbSize=options.thumbSize;element=options.element;}if(getElement$1(element.id+'_Secondary_Element')){sf.base.remove(getElement$1(element.id+'_Secondary_Element'));}this.periodSelectorDiv=sf.base.createElement('div',{id:element.id+'_Secondary_Element',styles:'width: '+(this.periodSelectorSize.width-thumbSize)+'px;height: '+this.periodSelectorSize.height+'px;top:'+this.periodSelectorSize.y+'px;left:'+(this.periodSelectorSize.x+thumbSize/2)+'px; position: absolute'});element.appendChild(this.periodSelectorDiv);};/**
     * renderSelector elements
     *
     * @returns {void}
     */PeriodSelector.prototype.renderSelector=function(){var _this=this;this.setControlValues(this.rootControl);var enableCustom=true;var controlId=this.control.element.id;var selectorElement=sf.base.createElement('div',{id:controlId+'_selector'});var buttons=this.control.periods;var selector=this.updateCustomElement();var buttonStyles='text-transform: none; text-overflow: unset';var isStringTemplate='isStringTemplate';var dateRangeId=controlId+'customRange';this.periodSelectorDiv.appendChild(selectorElement);for(var i=0;i<buttons.length;i++){selector.push({align:'Left',text:buttons[i].text});}if(this.rootControl.getModuleName()==='stockChart'){enableCustom=this.rootControl.enableCustomRange;}if(enableCustom){this.calendarId=controlId+'_calendar';selector.push({template:'<button id='+this.calendarId+'></button>',align:'Right'});}var selctorArgs={selector:selector,name:'RangeSelector',cancel:false,enableCustomFormat:true,content:'Date Range'};if(this.rootControl.getModuleName()==='stockChart'){selector.push({template:sf.base.createElement('button',{id:controlId+'_reset',innerHTML:'Reset',styles:buttonStyles,className:'e-dropdown-btn e-btn'}),align:'Right'});if(this.rootControl.exportType.indexOf('Print')>-1){selector.push({template:sf.base.createElement('button',{id:controlId+'_print',innerHTML:'Print',styles:buttonStyles,className:'e-dropdown-btn e-btn'}),align:'Right'});}if(this.rootControl.exportType.length){selector.push({template:sf.base.createElement('button',{id:controlId+'_export',innerHTML:'Export',styles:buttonStyles,className:'e-dropdown-btn e-btn'}),align:'Right'});}}this.rootControl.trigger('selectorRender',selctorArgs);this.toolbar=new sf.navigations.Toolbar({items:selctorArgs.selector,height:this.periodSelectorSize.height,clicked:function clicked(args){_this.buttonClick(args,_this.control);},created:function created(){_this.nodes=_this.toolbar.element.querySelectorAll('.e-toolbar-left')[0];if(sf.base.isNullOrUndefined(_this.selectedIndex)){buttons.map(function(period,index){if(period.selected){_this.control.startValue=_this.changedRange(period.intervalType,_this.control.endValue,period.interval).getTime();_this.selectedIndex=_this.nodes.childNodes.length-buttons.length+index;}});}_this.setSelectedStyle(_this.selectedIndex);}});this.toolbar[isStringTemplate]=true;this.toolbar.appendTo(selectorElement);this.triggerChange=true;if(enableCustom){this.datePicker=new sf.calendars.DateRangePicker({min:new Date(this.control.seriesXMin),max:new Date(this.control.seriesXMax),// eslint-disable-next-line no-useless-escape
format:'dd\'\/\'MM\'\/\'yyyy',placeholder:'Select a range',showClearButton:false,startDate:new Date(this.control.startValue),endDate:new Date(this.control.endValue),created:function created(){if(selctorArgs.enableCustomFormat){var datePicker=document.getElementsByClassName('e-date-range-wrapper');var datePickerElement=void 0;for(var i=0;i<datePicker.length;i++){if(datePicker[i].children[0].id.indexOf(controlId)!==-1){datePickerElement=datePicker[i];}}datePickerElement.style.display='none';datePickerElement.insertAdjacentElement('afterend',sf.base.createElement('div',{id:dateRangeId,innerHTML:selctorArgs.content,className:'e-btn e-dropdown-btn',styles:'font-family: "Segoe UI"; font-size: 14px; font-weight: 500; text-transform: none '}));getElement$1(dateRangeId).insertAdjacentElement('afterbegin',sf.base.createElement('span',{id:controlId+'dateIcon',className:'e-input-group-icon e-range-icon e-btn-icon e-icons',styles:'font-size: 16px; min-height: 0px; margin: -3px 0 0 0; outline: none; min-width: 30px'// fix for date range icon alignment issue.
}));document.getElementById(dateRangeId).onclick=function(){_this.datePicker.show(getElement$1(dateRangeId));};}},change:function change(args){if(_this.triggerChange){if(_this.control.rangeSlider&&args.event){_this.control.rangeSlider.performAnimation(args.startDate.getTime(),args.endDate.getTime(),_this.control.rangeNavigatorControl);}else if(args.event){_this.rootControl.rangeChanged(args.startDate.getTime(),args.endDate.getTime());}_this.nodes=_this.toolbar.element.querySelectorAll('.e-toolbar-left')[0];if(!_this.rootControl.resizeTo&&_this.control.rangeSlider&&_this.control.rangeSlider.isDrag){/**
                             * Issue: While disabling range navigator console error throws
                             * Fix:Check with rangeSlider present or not. Then checked with isDrag.
                             */for(var i=0,length_1=_this.nodes.childNodes.length;i<length_1;i++){_this.nodes.childNodes[i].childNodes[0].classList.remove('e-active');_this.nodes.childNodes[i].childNodes[0].classList.remove('e-active');}}}}});this.datePicker.appendTo('#'+this.calendarId);}};PeriodSelector.prototype.updateCustomElement=function(){var selector=[];var controlId=this.rootControl.element.id;var buttonStyles='text-transform: none; text-overflow: unset';if(this.rootControl.getModuleName()==='stockChart'){if(this.rootControl.seriesType.length){selector.push({template:sf.base.createElement('button',{id:controlId+'_seriesType',innerHTML:'Series',styles:buttonStyles}),align:'Left'});}if(this.rootControl.indicatorType.length){selector.push({template:sf.base.createElement('button',{id:controlId+'_indicatorType',innerHTML:'Indicators',styles:buttonStyles}),align:'Left'});}if(this.rootControl.trendlineType.length){selector.push({template:sf.base.createElement('button',{id:controlId+'_trendType',innerHTML:'Trendline',styles:buttonStyles}),align:'Left'});}}return selector;};/**
     * To set and deselect the acrive style
     *
     * @param buttons
     * @param selectedIndex
     * @returns {void}
     */PeriodSelector.prototype.setSelectedStyle=function(selectedIndex){if(this.control.disableRangeSelector||this.rootControl.getModuleName()==='stockChart'){for(var i=0,length_2=this.nodes.childNodes.length;i<length_2;i++){this.nodes.childNodes[i].childNodes[0].classList.remove('e-active');this.nodes.childNodes[i].childNodes[0].classList.remove('e-active');}this.nodes.childNodes[selectedIndex].childNodes[0].classList.add('e-flat');this.nodes.childNodes[selectedIndex].childNodes[0].classList.add('e-active');}};/**
     * Button click handling
     *
     * @param args
     * @param control
     * @param args
     * @param control
     */PeriodSelector.prototype.buttonClick=function(args,control){var _this=this;var clickedEle=args.item;var slider=this.control.rangeSlider;var buttons=this.control.periods;var button=buttons.filter(function(btn){return btn.text===clickedEle.text;});var updatedStart;var updatedEnd;buttons.map(function(period,index){if(period.text===args.item.text){_this.selectedIndex=_this.nodes.childNodes.length-buttons.length+index;}});if(args.item.text!==''){this.setSelectedStyle(this.selectedIndex);}if(clickedEle.text.toLowerCase()==='all'){updatedStart=control.seriesXMin;updatedEnd=control.seriesXMax;if(slider){slider.performAnimation(updatedStart,updatedEnd,this.control.rangeNavigatorControl);}else{this.rootControl.rangeChanged(updatedStart,updatedEnd);}}else if(clickedEle.text.toLowerCase()==='ytd'){if(slider){updatedStart=new Date(new Date(slider.currentEnd).getFullYear().toString()).getTime();updatedEnd=slider.currentEnd;slider.performAnimation(updatedStart,updatedEnd,this.control.rangeNavigatorControl);}else{updatedStart=new Date(new Date(this.rootControl.currentEnd).getFullYear().toString()).getTime();updatedEnd=this.rootControl.currentEnd;this.rootControl.rangeChanged(updatedStart,updatedEnd);}}else if(clickedEle.text.toLowerCase()!==''){if(slider){updatedStart=this.changedRange(button[0].intervalType,slider.currentEnd,button[0].interval).getTime();updatedEnd=slider.currentEnd;slider.performAnimation(updatedStart,updatedEnd,this.control.rangeNavigatorControl);}else{updatedStart=this.changedRange(button[0].intervalType,this.rootControl.currentEnd,button[0].interval).getTime();updatedEnd=this.rootControl.currentEnd;this.rootControl.rangeChanged(updatedStart,updatedEnd);}}if(this.rootControl.getModuleName()==='stockChart'){this.rootControl.zoomChange=false;}if(getElement$1(this.calendarId+'_popup')&&!sf.base.Browser.isDevice){var element=getElement$1(this.calendarId+'_popup');element.querySelectorAll('.e-range-header')[0].style.display='none';}};/**
     *
     * @param type updatedRange for selector
     * @param end
     * @param interval
     */PeriodSelector.prototype.changedRange=function(type,end,interval){var result=new Date(end);switch(type){case'Quarter':result.setMonth(result.getMonth()-3*interval);break;case'Months':result.setMonth(result.getMonth()-interval);break;case'Weeks':result.setDate(result.getDate()-interval*7);break;case'Days':result.setDate(result.getDate()-interval);break;case'Hours':result.setHours(result.getHours()-interval);break;case'Minutes':result.setMinutes(result.getMinutes()-interval);break;case'Seconds':result.setSeconds(result.getSeconds()-interval);break;default:result.setFullYear(result.getFullYear()-interval);break;}return result;};/**
     * Get module name
     *
     * @returns {string}
     */PeriodSelector.prototype.getModuleName=function(){return'PeriodSelector';};/**
     * To destroy the period selector.
     *
     * @returns {void}
     * @private
     */PeriodSelector.prototype.destroy=function(){/**
         * destroy method
         */};return PeriodSelector;}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /**
 * Cartesian chart renderer for financial chart
 */ /** @private */var CartesianChart=/** @class */function(){function CartesianChart(chart){this.stockChart=chart;}CartesianChart.prototype.initializeChart=function(chartArgsData){var _this=this;var stockChart=this.stockChart;var isProtect='isProtectedOnChange';stockChart[isProtect]=true;if(!stockChart.chartObject){stockChart.chartObject=stockChart.renderer.createGroup({id:stockChart.element.id+'_stockChart_chart'});stockChart.mainObject.appendChild(stockChart.chartObject);}else{var chartElement=document.getElementById(stockChart.chartObject.id);while(chartElement.firstChild){chartElement.removeChild(chartElement.firstChild);}if(getElement$1(stockChart.chartObject+'_tooltip')){sf.base.remove(getElement$1(stockChart.chartObject+'_tooltip'));}}this.cartesianChartSize=this.calculateChartSize();stockChart.chart=new sf.charts.Chart({chartArea:stockChart.chartArea,margin:this.findMargin(stockChart),primaryXAxis:this.copyObject(stockChart.primaryXAxis),primaryYAxis:this.copyObject(stockChart.primaryYAxis),rows:stockChart.rows,indicators:stockChart.indicators,axes:stockChart.axes,tooltipRender:function tooltipRender(args){_this.stockChart.trigger('tooltipRender',args);},axisLabelRender:function axisLabelRender(args){_this.stockChart.trigger('axisLabelRender',args);},seriesRender:function seriesRender(args){if(args.data&&_this.stockChart.startValue&&_this.stockChart.endValue){args.data=args.data.filter(function(data){return new Date(Date.parse(data[args.series.xName])).getTime()>=_this.stockChart.startValue&&new Date(Date.parse(data[args.series.xName])).getTime()<=_this.stockChart.endValue;});}args.data=chartArgsData?chartArgsData:args.data;//args.data = this.stockChart.findCurrentData(args.data ,args.series.xName);
_this.stockChart.trigger('seriesRender',args);},onZooming:function onZooming(args){_this.stockChart.trigger(_onZooming,args);},pointClick:function pointClick(args){_this.stockChart.trigger('pointClick',args);},pointMove:function pointMove(args){_this.stockChart.trigger('pointMove',args);},dataSource:stockChart.dataSource,series:this.findSeriesCollection(stockChart.series),zoomSettings:this.copyObject(stockChart.zoomSettings),tooltip:stockChart.tooltip,crosshair:stockChart.crosshair,height:this.cartesianChartSize.height.toString(),selectedDataIndexes:stockChart.selectedDataIndexes,selectionMode:stockChart.selectionMode,isMultiSelect:stockChart.isMultiSelect,annotations:stockChart.annotations,theme:stockChart.theme,legendSettings:{visible:false},zoomComplete:function zoomComplete(args){if(args.axis.valueType==='DateTime'&&stockChart.rangeNavigator){_this.stockChart.zoomChange=true;var newRange=_this.calculateUpdatedRange(args.currentZoomFactor,args.currentZoomPosition,args.axis);stockChart.rangeSelector.sliderChange(newRange.start,newRange.end);}}});if(stockChart.indicators.length!==0){if(stockChart.isSelect){for(var i=0;i<stockChart.indicators.length;i++){stockChart.chart.indicators[i].animation.enable=false;stockChart.chart.indicators[i].dataSource=sf.base.extend([],stockChart.chart.series[0].dataSource,null,true);}}stockChart.isSelect=true;}stockChart.chart.stockChart=stockChart;stockChart.chart.appendTo(stockChart.chartObject);stockChart[isProtect]=false;};CartesianChart.prototype.findMargin=function(stockChart){var margin={};margin.top=stockChart.margin.top*2;margin.left=stockChart.margin.left;margin.right=stockChart.margin.right;margin.bottom=stockChart.margin.bottom;return margin;};CartesianChart.prototype.findSeriesCollection=function(series){var chartSeries=[];for(var i=0,len=series.length;i<len;i++){chartSeries.push(series[i]);chartSeries[i].high=series[i].high;chartSeries[i].low=series[i].low;chartSeries[i].open=series[i].open;chartSeries[i].close=series[i].close;chartSeries[i].xName=series[i].xName;chartSeries[i].volume=series[i].volume;chartSeries[i].animation=series[i].animation;if(series[i].localData){chartSeries[i].dataSource=series[i].localData;}if(chartSeries[i].type!=='HiloOpenClose'&&chartSeries[i].type!=='Candle'&&chartSeries[i].yName==='volume'){chartSeries[i].enableTooltip=false;}}return chartSeries;};CartesianChart.prototype.calculateChartSize=function(){var stockChart=this.stockChart;return new sf.svgbase.Size(stockChart.availableSize.width,stockChart.enablePeriodSelector&&stockChart.enableSelector?stockChart.availableSize.height-stockChart.toolbarHeight-80:stockChart.enableSelector&&!stockChart.enablePeriodSelector?stockChart.availableSize.height-80:stockChart.enablePeriodSelector&&!stockChart.enableSelector?stockChart.availableSize.height-stockChart.toolbarHeight:stockChart.availableSize.height);};CartesianChart.prototype.calculateUpdatedRange=function(zoomFactor,zoomPosition,axis){var start;var end;//if (zoomFactor < 1 || zoomPosition > 0) {
var chartRange=axis.actualRange;var inversed=false;if(!inversed){start=chartRange.min+zoomPosition*chartRange.delta;end=start+zoomFactor*chartRange.delta;}else{start=chartRange.max-zoomPosition*chartRange.delta;end=start-zoomFactor*chartRange.delta;}//}
var result={start:start,end:end};return result;};/**
     * Cartesian chart refreshes based on start and end value
     *
     * @param {StockChart} stockChart stock chart instance
     * @param {Object[]} data stock chart data
     * @returns {void}
     */CartesianChart.prototype.cartesianChartRefresh=function(stockChart,data){stockChart.cartesianChart.initializeChart(data);};CartesianChart.prototype.copyObject=function(originalObject){return sf.base.extend({},originalObject,{},true);};return CartesianChart;}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Render range navigator for financial chart
 */ /** @private */var RangeSelector=/** @class */function(){function RangeSelector(stockChart){this.stockChart=stockChart;}RangeSelector.prototype.initializeRangeNavigator=function(){var _this=this;var stockChart=this.stockChart;if(!stockChart.selectorObject){stockChart.selectorObject=stockChart.renderer.createGroup({id:stockChart.element.id+'_stockChart_rangeSelector',transform:'translate('+0+','+stockChart.cartesianChart.cartesianChartSize.height+')'});stockChart.mainObject.appendChild(stockChart.selectorObject);}else{var chartElement=document.getElementById(stockChart.selectorObject.id);while(chartElement.firstChild){chartElement.removeChild(chartElement.firstChild);}if(getElement$1(stockChart.selectorObject.id+'_leftTooltip')){sf.base.remove(getElement$1(stockChart.selectorObject.id+'_leftTooltip'));}if(getElement$1(stockChart.selectorObject.id+'_rightTooltip')){sf.base.remove(getElement$1(stockChart.selectorObject.id+'_rightTooltip'));}}stockChart.rangeNavigator=new sf.charts.RangeNavigator({locale:'en',valueType:stockChart.primaryXAxis.valueType,theme:this.stockChart.theme,series:this.findSeriesCollection(stockChart.series),height:this.calculateChartSize().height.toString(),value:[new Date(stockChart.startValue),new Date(stockChart.endValue)],margin:this.findMargin(),tooltip:{enable:stockChart.tooltip.enable,displayMode:'Always'},dataSource:stockChart.dataSource,changed:function changed(args){var arg={name:'rangeChange',end:args.end,selectedData:args.selectedData,start:args.start,zoomFactor:args.zoomFactor,zoomPosition:args.zoomPosition,data:undefined};_this.stockChart.trigger('rangeChange',arg);_this.stockChart.startValue=args.start;_this.stockChart.endValue=args.end;if(!_this.stockChart.zoomChange){_this.stockChart.cartesianChart.cartesianChartRefresh(_this.stockChart,arg.data);}if(stockChart.periodSelector&&stockChart.periodSelector.datePicker){stockChart.periodSelector.datePicker.startDate=new Date(args.start);stockChart.periodSelector.datePicker.endDate=new Date(args.end);stockChart.periodSelector.datePicker.dataBind();}}});stockChart.rangeNavigator.stockChart=stockChart;stockChart.rangeNavigator.appendTo(stockChart.selectorObject);};RangeSelector.prototype.findMargin=function(){var margin={};margin.top=5;margin.left=0;margin.right=0;margin.bottom=0;return margin;};RangeSelector.prototype.findSeriesCollection=function(series){var chartSeries=[];for(var i=0,len=series.length;i<len;i++){chartSeries.push(series[i]);chartSeries[i].xName=series[i].xName;chartSeries[i].yName=series[i].yName===''?series[i].close:series[i].yName;}return chartSeries;};RangeSelector.prototype.calculateChartSize=function(){var stockChart=this.stockChart;return new sf.svgbase.Size(stockChart.availableSize.width,stockChart.enableSelector?80:0);};/**
     * Performs slider change
     *
     * @param {number} start slider start value
     * @param {number} end slider end value
     * @returns {void}
     */RangeSelector.prototype.sliderChange=function(start,end){this.stockChart.rangeNavigator.rangeSlider.performAnimation(start,end,this.stockChart.rangeNavigator,0);};return RangeSelector;}();/**
 * Period selector for range navigator
 */ /** @private */var ToolBarSelector=/** @class */function(){function ToolBarSelector(chart){this.selectedSeries='';this.selectedIndicator='';this.selectedTrendLine='';this.indicators=[];this.secondayIndicators=[];this.stockChart=chart;this.selectedSeries=this.stockChart.series[0].type;}ToolBarSelector.prototype.initializePeriodSelector=function(){var periods=this.stockChart.tempPeriods;this.stockChart.periods=periods;this.stockChart.periodSelector.rootControl=this.stockChart;var rect=this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect;var htmlElement=getElement$1(this.stockChart.element.id+'_Secondary_Element');var height=this.stockChart.toolbarHeight;this.stockChart.periodSelector.appendSelector({thumbSize:0,element:htmlElement,width:rect.width,height:height},rect.x);this.initializeSeriesSelector();this.initializeIndicatorSelector();this.initializeTrendlineSelector();this.exportButton();this.printButton();this.resetButton();};/**
     * This method returns itemModel for dropdown button
     */ToolBarSelector.prototype.getDropDownItems=function(type){var result=[];if(type===this.stockChart.seriesType){for(var i=0;i<type.length;i++){result.push({text:'&nbsp;&nbsp;&nbsp;'+type[i].toString()});}for(var i=0;i<this.stockChart.series.length;i++){for(var j=0;j<result.length;j++){var text=result[j].text.replace('&nbsp;&nbsp;&nbsp;','');text=text==='OHLC'?'HiloOpenClose':text;if(text===this.stockChart.series[i].type){result[j].text=result[j].text.replace('&nbsp;&nbsp;&nbsp;','&#10004&nbsp;');}}}}else if(type===this.stockChart.exportType){for(var i=0;i<type.length;i++){result.push({text:type[i].toString()});}}else{for(var i=0;i<type.length;i++){if(type[i].toString()!=='Print'){result.push({text:'&nbsp;&nbsp;&nbsp;'+type[i].toString()});}}}return result;};/**
     * This method changes the type of series while selectind series in dropdown button
     */ToolBarSelector.prototype.addedSeries=function(seriesType){var series=this.stockChart.series;for(var i=0;i<series.length;i++){if(series[i].yName==='volume'){continue;}series[i].type=seriesType.indexOf('Candle')>-1?'Candle':seriesType.indexOf('OHLC')>-1?'HiloOpenClose':seriesType;series[i].enableSolidCandles=seriesType==='Candle';for(var index=0;index<series[i].trendlines.length;index++){var trendLine=series[i].trendlines[index];trendLine.animation.enable=false;trendLine.enableTooltip=false;}}};ToolBarSelector.prototype.initializeSeriesSelector=function(){var _this=this;var seriesType=new sf.splitbuttons.DropDownButton({items:this.getDropDownItems(this.stockChart.seriesType),select:function select(args){_this.selectedSeries=args.item.text;var text=_this.tickMark(args);_this.addedSeries(text);_this.stockChart.cartesianChart.initializeChart();}});seriesType.appendTo('#'+this.stockChart.element.id+'_seriesType');};ToolBarSelector.prototype.resetButton=function(){var _this=this;var isProtect='isProtectedOnChange';this.stockChart[isProtect]=true;var reset=new sf.buttons.Button();reset.appendTo('#'+this.stockChart.element.id+'_reset');document.getElementById(this.stockChart.element.id+'_reset').onclick=function(){var indicatorlength=_this.indicators.length;while(indicatorlength){_this.stockChart.indicators.pop();indicatorlength--;}_this.indicators=[];_this.secondayIndicators=[];if(!_this.stockChart.isSingleAxis){if(_this.stockChart.rows.length>2){_this.stockChart.rows.splice(2,_this.stockChart.rows.length-1);}if(_this.stockChart.axes.length>2){_this.stockChart.axes.splice(1,_this.stockChart.axes.length-1);_this.stockChart.axes[0].rowIndex=1;}}else{_this.stockChart.rows=[{}];}for(var i=0;i<_this.stockChart.series.length;i++){if(_this.stockChart.series[i].yName==='volume'){continue;}_this.stockChart.series[i].type=_this.stockChart.tempSeriesType[i];if(_this.stockChart.series[i].trendlines.length!==0){_this.stockChart.series[i].trendlines[0].width=0;}}_this.stockChart.indicatorElements=null;_this.stockChart.resizeTo=null;_this.stockChart.zoomChange=false;_this.stockChart.refresh();_this.stockChart[isProtect]=true;};};ToolBarSelector.prototype.initializeTrendlineSelector=function(){var _this=this;this.trendlineDropDown=new sf.splitbuttons.DropDownButton({items:this.stockChart.resizeTo?this.trendlineDropDown.items:this.getDropDownItems(this.stockChart.trendlineType),select:function select(args){var text=_this.tickMark(args);text=text.split(' ')[0].toLocaleLowerCase()+(text.split(' ')[1]?text.split(' ')[1]:'');text=text.substr(0,1).toUpperCase()+text.substr(1);var type=text;_this.selectedTrendLine=_this.selectedTrendLine===''?type:_this.selectedTrendLine+','+type;if(_this.trendline!==type){_this.trendline=type;for(var i=0;i<_this.stockChart.series.length;i++){if(_this.stockChart.series[i].yName==='volume'){continue;}if(_this.stockChart.series[0].trendlines.length===0){var trendlines=void 0;if(_this.stockChart.trendlinetriggered){trendlines=[{type:type,width:1,enableTooltip:false}];_this.stockChart.trendlinetriggered=false;}_this.stockChart.series[0].trendlines=trendlines;}else{_this.stockChart.series[0].trendlines[0].width=1;_this.stockChart.series[0].trendlines[0].type=type;_this.stockChart.series[0].trendlines[0].animation.enable=_this.stockChart.trendlinetriggered?true:false;}}_this.stockChart.cartesianChart.initializeChart();}else{args.item.text='&nbsp;&nbsp;&nbsp;'+args.item.text.replace('&#10004&nbsp;','');_this.stockChart.series[0].trendlines[0].width=0;_this.trendline=null;_this.stockChart.cartesianChart.initializeChart();}}});this.trendlineDropDown.appendTo('#'+this.stockChart.element.id+'_trendType');};ToolBarSelector.prototype.initializeIndicatorSelector=function(){var _this=this;this.indicatorDropDown=new sf.splitbuttons.DropDownButton({items:this.stockChart.resizeTo?this.indicatorDropDown.items:this.getDropDownItems(this.stockChart.indicatorType),select:function select(args){for(var l=0;l<_this.stockChart.series.length;l++){if(_this.stockChart.series[l].trendlines.length!==0){_this.stockChart.series[l].trendlines[0].animation.enable=false;}}args.item.text=args.item.text.indexOf('&#10004&nbsp;')>=0?args.item.text.substr(args.item.text.indexOf(';')+1):args.item.text;var text=args.item.text.replace('&nbsp;&nbsp;&nbsp;','');text=text.split(' ')[0].toLocaleLowerCase()+(text.split(' ')[1]?text.split(' ')[1]:'');text=text.substr(0,1).toUpperCase()+text.substr(1);var type=text;_this.selectedIndicator=_this.selectedIndicator.indexOf(type)===-1?_this.selectedIndicator+' '+type:_this.selectedIndicator.replace(type,'');if(type==='Tma'||type==='BollingerBands'||type==='Sma'||type==='Ema'){if(_this.indicators.indexOf(type)===-1){args.item.text='&#10004&nbsp;'+args.item.text.replace('&nbsp;&nbsp;&nbsp;','');var indicator=_this.getIndicator(type,_this.stockChart.series[0].yAxisName);_this.indicators.push(type);_this.stockChart.indicators=_this.stockChart.indicators.concat(indicator);_this.stockChart.cartesianChart.initializeChart();}else{args.item.text='&nbsp;&nbsp;&nbsp;'+args.item.text;for(var z=0;z<_this.stockChart.indicators.length;z++){if(_this.stockChart.indicators[z].type===type){_this.stockChart.indicators.splice(z,1);}}_this.indicators.splice(_this.indicators.indexOf(type),1);_this.stockChart.cartesianChart.initializeChart();}}else{_this.createIndicatorAxes(type,args);}}});this.indicatorDropDown.appendTo('#'+this.stockChart.element.id+'_indicatorType');};ToolBarSelector.prototype.getIndicator=function(type,yAxisName){var currentSeries=this.stockChart.series[0];var indicator=[{type:type,period:3,yAxisName:yAxisName,dataSource:currentSeries.localData,xName:currentSeries.xName,open:currentSeries.open,close:currentSeries.close,high:currentSeries.high,low:currentSeries.low,volume:currentSeries.volume,fill:type==='Sma'?'#32CD32':'#6063ff',animation:{enable:false},upperLine:{color:'#FFE200',width:1},periodLine:{width:2},lowerLine:{color:'#FAA512',width:1},fastPeriod:8,slowPeriod:5,macdType:'Both',width:1,macdPositiveColor:'#6EC992',macdNegativeColor:'#FF817F',bandColor:'rgba(245, 203, 35, 0.12)'}];return indicator;};ToolBarSelector.prototype.createIndicatorAxes=function(type,args){if(this.indicators.indexOf(type)===-1){args.item.text='&#10004&nbsp;'+args.item.text.replace('&nbsp;&nbsp;&nbsp;','');this.indicators.push(type);var len=this.stockChart.rows.length;this.stockChart.rows[this.stockChart.rows.length-1].height='15%';var row=[{height:''+(100-len*15)+'px'}];if(this.stockChart.rows.length===1){this.stockChart.isSingleAxis=true;}this.stockChart.rows=this.stockChart.rows.concat(row);if(!this.stockChart.isSingleAxis){this.stockChart.axes[0].rowIndex+=1;}else{for(var i=0;i<this.stockChart.axes.length;i++){this.stockChart.axes[i].rowIndex+=1;}}var axis=[{plotOffset:10,opposedPosition:true,rowIndex:!this.stockChart.isSingleAxis?this.stockChart.axes.length:0,desiredIntervals:1,labelFormat:'n2',majorGridLines:this.stockChart.primaryYAxis.majorGridLines,lineStyle:this.stockChart.primaryYAxis.lineStyle,labelPosition:this.stockChart.primaryYAxis.labelPosition,majorTickLines:this.stockChart.primaryYAxis.majorTickLines,rangePadding:'None',name:type.toString()}];this.stockChart.axes=this.stockChart.axes.concat(axis);this.stockChart.primaryYAxis.rowIndex=!this.stockChart.isSingleAxis?0:len+1;var indicator=this.getIndicator(type,type.toString());this.stockChart.indicators=this.stockChart.indicators.concat(indicator);this.stockChart.cartesianChart.initializeChart();}else{args.item.text='&nbsp;&nbsp;&nbsp;'+args.item.text;for(var i=0;i<this.stockChart.indicators.length;i++){if(this.stockChart.indicators[i].type===type){this.stockChart.indicators.splice(i,1);}}this.indicators.splice(this.indicators.indexOf(type),1);var removedIndex=0;for(var z=0;z<this.stockChart.axes.length;z++){if(this.stockChart.axes[z].name===type){removedIndex=this.stockChart.axes[z].rowIndex;this.stockChart.rows.splice(z,1);this.stockChart.axes.splice(z,1);}}for(var z=0;z<this.stockChart.axes.length;z++){if(this.stockChart.axes[z].rowIndex!==0&&this.stockChart.axes[z].rowIndex>removedIndex){this.stockChart.axes[z].rowIndex=this.stockChart.axes[z].rowIndex-1;}}this.stockChart.cartesianChart.initializeChart();}};ToolBarSelector.prototype.tickMark=function(args){var text;var items=args.item['parentObj'].items;for(var i=0;i<items.length;i++){items[i].text=items[i].text.indexOf('&#10004&nbsp;')>=0?items[i].text.substr(items[i].text.indexOf(';')+1):items[i].text;if(!(items[i].text.indexOf('&nbsp;&nbsp;&nbsp;')>=0)){items[i].text='&nbsp;&nbsp;&nbsp;'+items[i].text;}}if(args.item.text.indexOf('&nbsp;&nbsp;&nbsp;')>=0){text=args.item.text.replace('&nbsp;&nbsp;&nbsp;','');args.item.text=args.item.text.replace('&nbsp;&nbsp;&nbsp;','&#10004&nbsp;');}else{text=args.item.text.replace('&#10004&nbsp;','');}return text;};ToolBarSelector.prototype.printButton=function(){var _this=this;if(this.stockChart.exportType.indexOf('Print')>-1){var print_1=new sf.buttons.Button();print_1.appendTo('#'+this.stockChart.element.id+'_print');document.getElementById(this.stockChart.element.id+'_print').onclick=function(){_this.stockChart.chart.print(_this.stockChart.element.id);};}};ToolBarSelector.prototype.exportButton=function(){var _this=this;var exportChart=new sf.splitbuttons.DropDownButton({items:this.getDropDownItems(this.stockChart.exportType),select:function select(args){var type=args.item.text;var stockChart=_this.stockChart;var stockID=stockChart.element.id+'_stockChart_';var additionalRect;var svgHeight=stockChart.svgObject.getBoundingClientRect();if(stockChart.chart.exportModule){_this.stockChart.svgObject.insertAdjacentElement('afterbegin',_this.addExportSettings());additionalRect=stockChart.svgObject.firstElementChild.getBoundingClientRect();_this.stockChart.svgObject.setAttribute('height',(svgHeight.height+additionalRect.height).toString());getElement$1(stockID+'chart').style.transform='translateY('+additionalRect.height+'px)';if(stockChart.enableSelector){getElement$1(stockID+'rangeSelector').setAttribute('transform',// eslint-disable-next-line @typescript-eslint/indent
'translate('+0+','+(stockChart.cartesianChart.cartesianChartSize.height+additionalRect.height)+')');}stockChart.chart.exportModule["export"](type,'StockChart',null,[stockChart],null,stockChart.svgObject.clientHeight);sf.base.remove(getElement$1(_this.stockChart.element.id+'_additionalExport'));getElement$1(stockID+'chart').style.transform='translateY(0px)';if(stockChart.enableSelector){getElement$1(stockID+'rangeSelector').setAttribute('transform',// eslint-disable-next-line @typescript-eslint/indent
'translate('+0+','+stockChart.cartesianChart.cartesianChartSize.height+')');}_this.stockChart.svgObject.setAttribute('height',svgHeight.height.toString());}}});exportChart.appendTo('#'+this.stockChart.element.id+'_export');};ToolBarSelector.prototype.calculateAutoPeriods=function(){var defaultPeriods=[];defaultPeriods=this.findRange(this.stockChart.seriesXMin,this.stockChart.seriesXMax);defaultPeriods.push({text:'YTD',selected:true},{text:'All'});return defaultPeriods;};ToolBarSelector.prototype.findRange=function(min,max){var defaultPeriods=[];if((max-min)/3.154e+10>=1){defaultPeriods.push({text:'1M',interval:1,intervalType:'Months'},{text:'3M',interval:3,intervalType:'Months'},{text:'6M',interval:6,intervalType:'Months'},{text:'1Y',interval:1,intervalType:'Years'});}else if((max-min)/1.577e+10>=1){defaultPeriods.push({text:'1M',interval:1,intervalType:'Months'},{text:'3M',interval:3,intervalType:'Months'},{text:'6M',interval:6,intervalType:'Months'});}else if((max-min)/2.628e+9>=1){defaultPeriods.push({text:'1D',interval:1,intervalType:'Days'},{text:'3W',interval:3,intervalType:'Weeks'},{text:'1M',interval:1,intervalType:'Months'});}else if((max-min)/8.64e+7>=1){defaultPeriods.push({text:'1H',interval:1,intervalType:'Hours'},{text:'12H',interval:12,intervalType:'Hours'},{text:'1D',interval:1,intervalType:'Days'});}return defaultPeriods;};/**
     * Text elements added to while export the chart
     * It details about the seriesTypes, indicatorTypes and Trendlines selected in chart.
     */ToolBarSelector.prototype.addExportSettings=function(){var exportElement=this.stockChart.renderer.createGroup({id:this.stockChart.element.id+'_additionalExport',width:this.stockChart.availableSize.width});var titleHeight=sf.svgbase.measureText(this.stockChart.title,this.stockChart.titleStyle).height;var options=new sf.svgbase.TextOption(exportElement.id+'_Title',titlePositionX(new sf.svgbase.Rect(0,0,this.stockChart.availableSize.width,0),this.stockChart.titleStyle),0,'middle',this.stockChart.title,'','text-before-edge');textElement(this.stockChart.renderer,options,this.stockChart.titleStyle,this.stockChart.titleStyle.color,exportElement);var style={size:'15px',fontWeight:'500',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'};var x=sf.svgbase.measureText('Series: '+this.selectedSeries,style).width/2;var y=titleHeight;this.textElementSpan(new sf.svgbase.TextOption(exportElement.id+'_Series',x,y,'start',['Series : ',this.selectedSeries],'','text-before-edge'),style,'black',exportElement);x+=sf.svgbase.measureText('Series: '+this.selectedSeries+' Z',style).width;if(this.selectedIndicator!==''){this.textElementSpan(new sf.svgbase.TextOption(exportElement.id+'_Indicator',x,y,'start',['Indicator :',this.selectedIndicator],'','text-before-edge'),style,'black',exportElement);x+=sf.svgbase.measureText('Indicator: '+this.selectedIndicator+' Z',style).width;}if(this.selectedTrendLine!==''){this.textElementSpan(new sf.svgbase.TextOption(exportElement.id+'_TrendLine',x,y,'start',['Trendline :',this.selectedTrendLine],'','text-before-edge'),style,'black',exportElement);}return exportElement;};/** @private */ToolBarSelector.prototype.textElementSpan=function(options,font,color,parent,isMinus,redraw,isAnimate,forceAnimate,animateDuration){if(isMinus===void 0){isMinus=false;}if(forceAnimate===void 0){forceAnimate=false;}var renderer=new sf.svgbase.SvgRenderer('');var renderOptions={};var tspanElement;renderOptions={'id':options.id,'font-style':font.fontStyle,'font-family':font.fontFamily,'font-weight':font.fontWeight,'text-anchor':options.anchor,'x':options.x,'y':options.y,'fill':color,'font-size':font.size,'transform':options.transform,'opacity':font.opacity,'dominant-baseline':options.baseLine};var text=typeof options.text==='string'?options.text:isMinus?options.text[options.text.length-1]:options.text[0];var htmlObject=renderer.createText(renderOptions,text);if(typeof options.text!=='string'&&options.text.length>1){for(var i=1,len=options.text.length;i<len;i++){options.text[i]=' '+options.text[i];tspanElement=renderer.createTSpan({'x':options.x+sf.svgbase.measureText(text,font).width+5,'id':options.id,'y':options.y,opacity:0.5},options.text[i]);htmlObject.appendChild(tspanElement);}}appendChildElement(false,parent,htmlObject,redraw,isAnimate,'x','y',null,null,forceAnimate,false,null,animateDuration);return htmlObject;};return ToolBarSelector;}();var __extends$6=undefined&&undefined.__extends||function(){var _extendStatics5=function extendStatics(d,b){_extendStatics5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics5(d,b);};return function(d,b){_extendStatics5(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$5=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable @typescript-eslint/no-explicit-any */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /**
 * Configures the data label in the series.
 */var DataLabelSettings=/** @class */function(_super){__extends$6(DataLabelSettings,_super);function DataLabelSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$5([sf.base.Property(false)],DataLabelSettings.prototype,"visible",void 0);__decorate$5([sf.base.Property(true)],DataLabelSettings.prototype,"showZero",void 0);__decorate$5([sf.base.Property(null)],DataLabelSettings.prototype,"name",void 0);__decorate$5([sf.base.Property('transparent')],DataLabelSettings.prototype,"fill",void 0);__decorate$5([sf.base.Property(1)],DataLabelSettings.prototype,"opacity",void 0);__decorate$5([sf.base.Property(0)],DataLabelSettings.prototype,"angle",void 0);__decorate$5([sf.base.Property(false)],DataLabelSettings.prototype,"enableRotation",void 0);__decorate$5([sf.base.Property('Auto')],DataLabelSettings.prototype,"position",void 0);__decorate$5([sf.base.Property(5)],DataLabelSettings.prototype,"rx",void 0);__decorate$5([sf.base.Property(5)],DataLabelSettings.prototype,"ry",void 0);__decorate$5([sf.base.Property('Center')],DataLabelSettings.prototype,"alignment",void 0);__decorate$5([sf.base.Complex({width:null,color:null},Border)],DataLabelSettings.prototype,"border",void 0);__decorate$5([sf.base.Complex({left:5,right:5,top:5,bottom:5},Margin)],DataLabelSettings.prototype,"margin",void 0);__decorate$5([sf.base.Complex({size:'11px',color:'',fontStyle:'Normal',fontWeight:'Normal',fontFamily:'Segoe UI'},Font)],DataLabelSettings.prototype,"font",void 0);__decorate$5([sf.base.Property(null)],DataLabelSettings.prototype,"template",void 0);__decorate$5([sf.base.Property('Hide')],DataLabelSettings.prototype,"labelIntersectAction",void 0);return DataLabelSettings;}(sf.base.ChildProperty);/**
 *  Configures the marker in the series.
 */var MarkerSettings=/** @class */function(_super){__extends$6(MarkerSettings,_super);function MarkerSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$5([sf.base.Property(false)],MarkerSettings.prototype,"visible",void 0);__decorate$5([sf.base.Property('Circle')],MarkerSettings.prototype,"shape",void 0);__decorate$5([sf.base.Property('')],MarkerSettings.prototype,"imageUrl",void 0);__decorate$5([sf.base.Property(5)],MarkerSettings.prototype,"height",void 0);__decorate$5([sf.base.Property(5)],MarkerSettings.prototype,"width",void 0);__decorate$5([sf.base.Complex({width:2,color:null},Border)],MarkerSettings.prototype,"border",void 0);__decorate$5([sf.base.Complex({x:0,y:0},Offset)],MarkerSettings.prototype,"offset",void 0);__decorate$5([sf.base.Property(null)],MarkerSettings.prototype,"fill",void 0);__decorate$5([sf.base.Property(1)],MarkerSettings.prototype,"opacity",void 0);__decorate$5([sf.base.Complex({},DataLabelSettings)],MarkerSettings.prototype,"dataLabel",void 0);return MarkerSettings;}(sf.base.ChildProperty);/**
 * Points model for the series.
 *
 * @public
 */var Points=/** @class */function(){function Points(){/** point symbol location */this.symbolLocations=null;/** point region */this.regions=null;/** point percentage value */this.percentage=null;/** point region data */this.regionData=null;/** To know the point is selected */this.isSelect=false;/** point marker */this.marker={visible:false};/**
         * To identify point y value with in the range.
         *
         * @private
         */this.isPointInRange=true;}return Points;}();/**
 * Defines the behavior of the Trendlines
 */var Trendline=/** @class */function(_super){__extends$6(Trendline,_super);function Trendline(){var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.clipRect=new sf.svgbase.Rect(0,0,0,0);return _this;}/** @private */Trendline.prototype.setDataSource=function(series,chart){if(series){this.points=series.points;}chart.trendLineModule.initDataSource(this);chart.visibleSeriesCount++;};__decorate$5([sf.base.Property('')],Trendline.prototype,"name",void 0);__decorate$5([sf.base.Property('0')],Trendline.prototype,"dashArray",void 0);__decorate$5([sf.base.Property(true)],Trendline.prototype,"visible",void 0);__decorate$5([sf.base.Property('Linear')],Trendline.prototype,"type",void 0);__decorate$5([sf.base.Property(2)],Trendline.prototype,"period",void 0);__decorate$5([sf.base.Property(2)],Trendline.prototype,"polynomialOrder",void 0);__decorate$5([sf.base.Property(0)],Trendline.prototype,"backwardForecast",void 0);__decorate$5([sf.base.Property(0)],Trendline.prototype,"forwardForecast",void 0);__decorate$5([sf.base.Complex({},Animation$1)],Trendline.prototype,"animation",void 0);__decorate$5([sf.base.Complex({},MarkerSettings)],Trendline.prototype,"marker",void 0);__decorate$5([sf.base.Property(true)],Trendline.prototype,"enableTooltip",void 0);__decorate$5([sf.base.Property(null)],Trendline.prototype,"intercept",void 0);__decorate$5([sf.base.Property('')],Trendline.prototype,"fill",void 0);__decorate$5([sf.base.Property(1)],Trendline.prototype,"width",void 0);__decorate$5([sf.base.Property('SeriesType')],Trendline.prototype,"legendShape",void 0);return Trendline;}(sf.base.ChildProperty);/**
 * Configures Error bar in series.
 */var ErrorBarCapSettings=/** @class */function(_super){__extends$6(ErrorBarCapSettings,_super);function ErrorBarCapSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$5([sf.base.Property(1)],ErrorBarCapSettings.prototype,"width",void 0);__decorate$5([sf.base.Property(10)],ErrorBarCapSettings.prototype,"length",void 0);__decorate$5([sf.base.Property(null)],ErrorBarCapSettings.prototype,"color",void 0);__decorate$5([sf.base.Property(1)],ErrorBarCapSettings.prototype,"opacity",void 0);return ErrorBarCapSettings;}(sf.base.ChildProperty);var ChartSegment=/** @class */function(_super){__extends$6(ChartSegment,_super);function ChartSegment(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$5([sf.base.Property(null)],ChartSegment.prototype,"value",void 0);__decorate$5([sf.base.Property(null)],ChartSegment.prototype,"color",void 0);__decorate$5([sf.base.Property('0')],ChartSegment.prototype,"dashArray",void 0);return ChartSegment;}(sf.base.ChildProperty);/**
 * Error bar settings
 *
 * @public
 */var ErrorBarSettings=/** @class */function(_super){__extends$6(ErrorBarSettings,_super);function ErrorBarSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$5([sf.base.Property(false)],ErrorBarSettings.prototype,"visible",void 0);__decorate$5([sf.base.Property('Fixed')],ErrorBarSettings.prototype,"type",void 0);__decorate$5([sf.base.Property('Both')],ErrorBarSettings.prototype,"direction",void 0);__decorate$5([sf.base.Property('Vertical')],ErrorBarSettings.prototype,"mode",void 0);__decorate$5([sf.base.Property(null)],ErrorBarSettings.prototype,"color",void 0);__decorate$5([sf.base.Property(1)],ErrorBarSettings.prototype,"verticalError",void 0);__decorate$5([sf.base.Property(1)],ErrorBarSettings.prototype,"width",void 0);__decorate$5([sf.base.Property(1)],ErrorBarSettings.prototype,"horizontalError",void 0);__decorate$5([sf.base.Property(3)],ErrorBarSettings.prototype,"verticalPositiveError",void 0);__decorate$5([sf.base.Property(3)],ErrorBarSettings.prototype,"verticalNegativeError",void 0);__decorate$5([sf.base.Property(1)],ErrorBarSettings.prototype,"horizontalPositiveError",void 0);__decorate$5([sf.base.Property(1)],ErrorBarSettings.prototype,"horizontalNegativeError",void 0);__decorate$5([sf.base.Complex(null,ErrorBarCapSettings)],ErrorBarSettings.prototype,"errorBarCap",void 0);return ErrorBarSettings;}(sf.base.ChildProperty);/**
 * Defines the common behavior of Series and Technical Indicators
 */var SeriesBase=/** @class */function(_super){__extends$6(SeriesBase,_super);function SeriesBase(){/**
         * The DataSource field that contains the x value.
         * It is applicable for series and technical indicators
         *
         * @default ''
         */var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.currentViewData=[];/** @private */_this.clipRect=new sf.svgbase.Rect(0,0,0,0);/** @private */_this.seriesType='XY';_this.isRectTypeSeries=false;return _this;}/**
     * Process data for the series.
     *
     * @hidden
     */SeriesBase.prototype.processJsonData=function(){var i=0;var point=new Points();var xName=this instanceof Series&&this.type==='Histogram'?'x':this.xName;var textMappingName=this instanceof Series&&this.marker.dataLabel.name?this.marker.dataLabel.name:'';if(this instanceof Series){if(this.type==='Waterfall'||this.type==='Histogram'){this.currentViewData=this.chart[firstToLowerCase(this.type)+'SeriesModule'].processInternalData(sf.base.extend([],this.currentViewData,null,true),this);}if(this.category==='Pareto'){this.currentViewData=sort(sf.base.extend([],this.currentViewData,null,true),[this.yName],true);if(this.type==='Line'){this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this);}}this.isRectTypeSeries=this.type.indexOf('Column')>-1||this.type.indexOf('Bar')>-1||this.type.indexOf('Histogram')>-1;}var len=Object.keys(this.currentViewData).length;this.points=[];this.xMin=Infinity;this.xMax=-Infinity;this.yMin=Infinity;this.yMax=-Infinity;this.sizeMax=-Infinity;this.getSeriesType();if(this.xAxis.valueType==='Category'){while(i<len){point=this.dataPoint(i,textMappingName,xName);this.pushCategoryData(point,i,point.x);this.pushData(point,i);this.setEmptyPoint(point,i);i++;}}else if(this.xAxis.valueType.indexOf('DateTime')>-1){var option={skeleton:'full',type:'dateTime'};var dateParser=this.chart.intl.getDateParser(option);var dateFormatter=this.chart.intl.getDateFormat(option);while(i<len){point=this.dataPoint(i,textMappingName,xName);if(!sf.base.isNullOrUndefined(point.x)&&point.x!==''){point.x=new Date(sf.data.DataUtil.parse.parseJson({val:point.x}).val);if(this.xAxis.valueType==='DateTime'){point.xValue=Date.parse(point.x.toString());}else{// eslint-disable-next-line @typescript-eslint/no-unused-expressions
this.chart.isBlazor?this.pushCategoryData(point,i,Date.parse(point.x.toString()).toString()):this.pushCategoryData(point,i,Date.parse(dateParser(dateFormatter(point.x))).toString());}this.pushData(point,i);this.setEmptyPoint(point,i);}else{point.visible=false;}i++;}}else{while(i<len){point=this.dataPoint(i,textMappingName,xName);point.xValue=point.x;this.pushData(point,i);this.setEmptyPoint(point,i);i++;}}if(this instanceof Series){if(this.type.indexOf('Spline')>-1||this.drawType.indexOf('Spline')>-1&&this.chart.chartAreaType==='PolarRadar'){var isArea=this.type.indexOf('Area')>-1||this.drawType.indexOf('Area')>-1;this.chart['spline'+(isArea?'Area':'')+'SeriesModule'].findSplinePoint(this);}}};SeriesBase.prototype.pushData=function(point,i){point.index=i;point.yValue=point.y;// To find the min, max for the axis range.
this.xMin=Math.min(this.xMin,point.xValue);this.xMax=Math.max(this.xMax,point.xValue);this.xData.push(point.xValue);};/** @private */SeriesBase.prototype.dataPoint=function(i,textMappingName,xName){this.points[i]=new Points();var point=this.points[i];var currentViewData=this.currentViewData;var getObjectValueByMappingString=this.enableComplexProperty?sf.base.getValue:this.getObjectValue;point.x=getObjectValueByMappingString(xName,currentViewData[i]);point.high=getObjectValueByMappingString(this.high,currentViewData[i]);point.low=getObjectValueByMappingString(this.low,currentViewData[i]);point.open=getObjectValueByMappingString(this.open,currentViewData[i]);point.close=getObjectValueByMappingString(this.close,currentViewData[i]);point.volume=getObjectValueByMappingString(this.volume,currentViewData[i]);point.interior=getObjectValueByMappingString(this.pointColorMapping,currentViewData[i]);if(this instanceof Series){point.y=getObjectValueByMappingString(this.yName,currentViewData[i]);point.size=getObjectValueByMappingString(this.size,currentViewData[i]);point.text=getObjectValueByMappingString(textMappingName,currentViewData[i]);point.tooltip=getObjectValueByMappingString(this.tooltipMappingName,currentViewData[i]);if(this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&this.isAdvancedColorSupported()){if(this.colorName&&this.colorName.length>0){point.colorValue=getObjectValueByMappingString(this.colorName,currentViewData[i]);}else{point.colorValue=getObjectValueByMappingString(this.yName,currentViewData[i]);}point.interior=this.getPointFillColor(point.interior,point.colorValue);}}return point;};SeriesBase.prototype.isAdvancedColorSupported=function(){if(this.chart.visibleSeries.length===1&&(this.chart.series[0].type==='Column'||this.chart.series[0].type==='Bar'||this.chart.series[0].type==='Scatter'||this.chart.series[0].type==='Bubble')){return true;}return false;};SeriesBase.prototype.getPointFillColor=function(pointFill,value){var color=pointFill;if(value&&this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0){for(var _i=0,_a=this.chart.rangeColorSettings;_i<_a.length;_i++){var rangeMap=_a[_i];if(value>=rangeMap.start&&value<=rangeMap.end){if(rangeMap.colors.length>1){color=getColorByValue(rangeMap,value);}else{color=rangeMap.colors[0];}}}}return color;};SeriesBase.prototype.getObjectValue=function(mappingName,data){return data[mappingName];};/**
     * To set empty point value based on empty point mode
     *
     * @private
     */SeriesBase.prototype.setEmptyPoint=function(point,i){if(!this.findVisibility(point)){point.visible=true;return null;}point.isEmpty=true;var mode=this instanceof Series&&point.isPointInRange?this.emptyPointSettings.mode:'Drop';switch(mode){case'Zero':point.visible=true;if(this instanceof Series&&this.seriesType.indexOf('HighLow')>-1){point.high=point.low=0;if(this.seriesType.indexOf('HighLowOpenClose')>-1){point.open=point.close=0;}}else{point.y=point.yValue=this.yData[i]=0;}break;case'Average':if(this instanceof Series){if(this.seriesType.indexOf('HighLow')>-1){point.high=sf.base.isNullOrUndefined(point.high)||isNaN(+point.high)?this.getAverage(this.high,i):point.high;point.low=sf.base.isNullOrUndefined(point.low)||isNaN(+point.low)?this.getAverage(this.low,i):point.low;if(this.seriesType.indexOf('HighLowOpenClose')>-1){point.open=sf.base.isNullOrUndefined(point.open)||isNaN(+point.open)?this.getAverage(this.open,i):point.open;point.close=sf.base.isNullOrUndefined(point.close)||isNaN(+point.close)?this.getAverage(this.close,i):point.close;}}else{point.y=point.yValue=this.yData[i]=this.getAverage(this.yName,i);}}point.visible=true;break;case'Drop':case'Gap':this.yData[i]=null;point.visible=false;break;}};SeriesBase.prototype.findVisibility=function(point){var type=this instanceof Series?this.seriesType:'HighLowOpenClose';var yValues;var yAxisMin=this.yAxis.minimum;var yAxisMax=this.yAxis.maximum;switch(type){case'XY':if(this.chart.chartAreaType==='PolarRadar'&&(!sf.base.isNullOrUndefined(yAxisMin)&&point.yValue<yAxisMin||!sf.base.isNullOrUndefined(yAxisMax)&&point.yValue>yAxisMax)){point.isPointInRange=false;return true;}this.setXYMinMax(point.yValue);this.yData.push(point.yValue);if(this instanceof Series&&this.type==='Bubble'){this.sizeMax=Math.max(this.sizeMax,sf.base.isNullOrUndefined(point.size)||isNaN(+point.size)?this.sizeMax:point.size);}return sf.base.isNullOrUndefined(point.x)||sf.base.isNullOrUndefined(point.y)||isNaN(+point.y);case'HighLow':this.setHiloMinMax(point.high,point.low);return sf.base.isNullOrUndefined(point.x)||sf.base.isNullOrUndefined(point.low)||isNaN(+point.low)||sf.base.isNullOrUndefined(point.high)||isNaN(+point.high);case'HighLowOpenClose':this.setHiloMinMax(point.high,point.low);return sf.base.isNullOrUndefined(point.x)||sf.base.isNullOrUndefined(point.low)||isNaN(+point.low)||sf.base.isNullOrUndefined(point.open)||isNaN(+point.open)||sf.base.isNullOrUndefined(point.close)||isNaN(+point.close)||sf.base.isNullOrUndefined(point.high)||isNaN(+point.high);case'BoxPlot':yValues=(point.y||[null]).filter(function(value){return!sf.base.isNullOrUndefined(value)&&!isNaN(value);}).sort(function(a,b){return a-b;});point.y=yValues;this.yMin=Math.min(this.yMin,Math.min.apply(Math,yValues));this.yMax=Math.max(this.yMax,Math.max.apply(Math,yValues));return!yValues.length;}};/**
     * To get Y min max for the provided point seriesType XY
     */SeriesBase.prototype.setXYMinMax=function(yValue){var isLogAxis=this.yAxis.valueType==='Logarithmic'||this.xAxis.valueType==='Logarithmic';var isNegativeValue=yValue<0;var seriesMinY;if(this.isRectTypeSeries&&!setRange(this.yAxis)){seriesMinY=isLogAxis?1:isNegativeValue?yValue:0;}else{seriesMinY=yValue;}this.yMin=isLogAxis?Math.min(this.yMin,sf.base.isNullOrUndefined(seriesMinY)||isNaN(seriesMinY)||seriesMinY===0?this.yMin:seriesMinY):Math.min(this.yMin,sf.base.isNullOrUndefined(seriesMinY)||isNaN(seriesMinY)?this.yMin:seriesMinY);this.yMax=Math.max(this.yMax,sf.base.isNullOrUndefined(yValue)||isNaN(yValue)?this.yMax:yValue);};/**
     * To get Y min max for the provided point seriesType XY
     */SeriesBase.prototype.setHiloMinMax=function(high,low){this.yMin=Math.min(this.yMin,Math.min(sf.base.isNullOrUndefined(low)||isNaN(low)?this.yMin:low,sf.base.isNullOrUndefined(high)||isNaN(high)?this.yMin:high));this.yMax=Math.max(this.yMax,Math.max(sf.base.isNullOrUndefined(low)||isNaN(low)?this.yMax:low,sf.base.isNullOrUndefined(high)||isNaN(high)?this.yMax:high));};/**
     * Finds the type of the series
     *
     * @private
     */SeriesBase.prototype.getSeriesType=function(){var type;if(this instanceof Series){var seriesType=this.chart.chartAreaType==='PolarRadar'?this.drawType:this.type;if(seriesType){switch(seriesType){case'RangeColumn':case'RangeArea':case'Hilo':type='HighLow';break;case'HiloOpenClose':case'Candle':type='HighLowOpenClose';break;case'BoxAndWhisker':type='BoxPlot';break;default:type='XY';}}}this.seriesType=type;};/** @private */SeriesBase.prototype.pushCategoryData=function(point,index,pointX){if(!this.chart.tooltip.shared){if(!this.visible){return null;}}if(!this.xAxis.isIndexed){if(this.xAxis.labels.indexOf(pointX)<0){this.xAxis.labels.push(pointX);}point.xValue=this.xAxis.labels.indexOf(pointX);}else{// eslint-disable-next-line @typescript-eslint/no-unused-expressions
this.xAxis.labels[index]?this.xAxis.labels[index]+=', '+pointX:this.xAxis.labels.push(pointX);point.xValue=index;}};/**
     * To find average of given property
     */SeriesBase.prototype.getAverage=function(member,i,data){if(data===void 0){data=this.currentViewData;}var previous=data[i-1]?data[i-1][member]||0:0;var next=data[i+1]?data[i+1][member]||0:0;return(previous+next)/2;};/**
     * To find the control points for spline.
     *
     * @returns {void}
     * @private
     */SeriesBase.prototype.refreshDataManager=function(chart){var _this=this;this.chart=chart;var dataSource;var isAngular='isAngular';if(chart[isAngular]){dataSource=Object.keys(this.dataSource).length?this.dataSource:chart.dataSource;}else{dataSource=this.dataSource||chart.dataSource;}if(!(dataSource instanceof sf.data.DataManager)&&sf.base.isNullOrUndefined(this.query)){this.dataManagerSuccess({result:dataSource,count:dataSource.length},false);return;}var dataManager=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());dataManager.then(function(e){return _this.dataManagerSuccess(e);});};SeriesBase.prototype.dataManagerSuccess=function(e,isRemoteData){if(isRemoteData===void 0){isRemoteData=true;}this.currentViewData=e.count?e.result:[];this.chart.allowServerDataBinding=false;if(this instanceof Series){if(this.chart.stockChart){this.chart.stockChart.series[this.index].localData=this.currentViewData;}var argsData={name:seriesRender,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(seriesRender,argsData);this.interior=argsData.fill;this.currentViewData=argsData.data;}if(this.chart.stockChart&&!(this instanceof Series)){this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName);}this.processJsonData();this.recordsCount=e.count;this.refreshChart(isRemoteData);this.currentViewData=null;};SeriesBase.prototype.refreshChart=function(isRemoteData){var chart=this.chart;if(this instanceof Series){chart.visibleSeriesCount+=isRemoteData?1:0;}chart.refreshTechnicalIndicator(this);if(this instanceof Series&&this.category!=='TrendLine'){for(var _i=0,_a=this.trendlines;_i<_a.length;_i++){var trendline=_a[_i];trendline.setDataSource(this,chart);}}//if (chart.visibleSeries.length === (chart.visibleSeriesCount - chart.indicators.length)) {
if(chart.visibleSeries.length===chart.visibleSeriesCount){chart.refreshBound();chart.trigger('loaded',{chart:chart.isBlazor?{}:chart});if(this.chart.stockChart&&this.chart.stockChart.initialRender){this.chart.stockChart.initialRender=false;this.chart.stockChart.stockChartDataManagerSuccess();}}if(this instanceof Series){chart.visibleSeriesCount+=isRemoteData?0:1;}};__decorate$5([sf.base.Property('')],SeriesBase.prototype,"xName",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"colorName",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"high",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"low",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"open",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"close",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"volume",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"pointColorMapping",void 0);__decorate$5([sf.base.Property(true)],SeriesBase.prototype,"visible",void 0);__decorate$5([sf.base.Property(null)],SeriesBase.prototype,"xAxisName",void 0);__decorate$5([sf.base.Property(null)],SeriesBase.prototype,"yAxisName",void 0);__decorate$5([sf.base.Complex(null,Animation$1)],SeriesBase.prototype,"animation",void 0);__decorate$5([sf.base.Property(null)],SeriesBase.prototype,"fill",void 0);__decorate$5([sf.base.Property(1)],SeriesBase.prototype,"width",void 0);__decorate$5([sf.base.Property('0')],SeriesBase.prototype,"dashArray",void 0);__decorate$5([sf.base.Property('')],SeriesBase.prototype,"dataSource",void 0);__decorate$5([sf.base.Property()],SeriesBase.prototype,"query",void 0);__decorate$5([sf.base.Collection([],ChartSegment)],SeriesBase.prototype,"segments",void 0);__decorate$5([sf.base.Property('X')],SeriesBase.prototype,"segmentAxis",void 0);__decorate$5([sf.base.Property(false)],SeriesBase.prototype,"enableComplexProperty",void 0);return SeriesBase;}(sf.base.ChildProperty);/**
 * Configures the series in charts.
 *
 * @public
 */var Series=/** @class */function(_super){__extends$6(Series,_super);// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function Series(parent,propName,defaultValue,isArray){var _this=_super.call(this,parent,propName,defaultValue,isArray)||this;_this.visibleSeriesCount=0;/** @private */_this.category='Series';/** @private */_this.isRectSeries=false;/** @private */_this.drawPoints=[];/** @private */_this.delayedAnimation=false;return _this;}/**
     * Refresh the axis label.
     *
     * @returns {void}
     * @private
     */Series.prototype.refreshAxisLabel=function(){if(this.xAxis.valueType!=='Category'){return null;}this.xAxis.labels=[];for(var _i=0,_a=this.xAxis.series;_i<_a.length;_i++){var item=_a[_i];if(item.visible&&item.category!=='TrendLine'){item.xMin=Infinity;item.xMax=-Infinity;for(var _b=0,_c=item.points;_b<_c.length;_b++){var point=_c[_b];item.pushCategoryData(point,point.index,point.x);item.xMin=Math.min(item.xMin,point.xValue);item.xMax=Math.max(item.xMax,point.xValue);}}}};/**
     * To get the series collection.
     *
     * @returns {void}
     * @private
     */Series.prototype.findSeriesCollection=function(column,row,isStack){var seriesCollection=[];for(var _i=0,_a=row.axes;_i<_a.length;_i++){var rowAxis=_a[_i];for(var _b=0,_c=rowAxis.series;_b<_c.length;_b++){var rowSeries=_c[_b];for(var _d=0,_e=column.axes;_d<_e.length;_d++){var axis=_e[_d];for(var _f=0,_g=axis.series;_f<_g.length;_f++){var series=_g[_f];if(series===rowSeries&&series.visible&&this.rectSeriesInChart(series,isStack)){seriesCollection.push(series);}}}}}return seriesCollection;};/**
     * To get the column type series.
     *
     * @returns {void}
     * @private
     */Series.prototype.rectSeriesInChart=function(series,isStack){var type=series.type.toLowerCase();return type.indexOf('column')!==-1||type.indexOf('bar')!==-1||type.indexOf('histogram')!==-1||type.indexOf('hiloopenclose')!==-1||type.indexOf('candle')!==-1||type.indexOf('pareto')!==-1||type.indexOf('hilo')!==-1||series.drawType.indexOf('Column')!==-1||type.indexOf('waterfall')!==-1||type.indexOf('boxandwhisker')!==-1||isStack;};/**
     * To calculate the stacked values.
     *
     * @returns {void}
     * @private
     */Series.prototype.calculateStackedValue=function(isStacking100,chart){for(var _i=0,_a=chart.columns;_i<_a.length;_i++){var columnItem=_a[_i];for(var _b=0,_c=chart.rows;_b<_c.length;_b++){var item=_c[_b];this.calculateStackingValues(this.findSeriesCollection(columnItem,item,true),isStacking100);}}};Series.prototype.calculateStackingValues=function(seriesCollection,isStacking100){var startValues;var endValues;var yValues=[];var lastPositive=[];var lastNegative=[];var stackingGroup;var lastValue;var value;var frequencies=[];if(isStacking100){frequencies=this.findFrequencies(seriesCollection);}var stackingSeies=[];var stackedValues=[];var visiblePoints=[];for(var _i=0,seriesCollection_1=seriesCollection;_i<seriesCollection_1.length;_i++){var series=seriesCollection_1[_i];if(series.type.indexOf('Stacking')!==-1||series.drawType.indexOf('Stacking')!==-1&&series.chart.chartAreaType==='PolarRadar'){stackingGroup=series.type.indexOf('StackingArea')!==-1?'StackingArea100':series.type.indexOf('StackingLine')!==-1?'StackingLine100':series.stackingGroup;if(!lastPositive[stackingGroup]){lastPositive[stackingGroup]=[];lastNegative[stackingGroup]=[];}yValues=series.yData;startValues=[];endValues=[];stackingSeies.push(series);visiblePoints=getVisiblePoints(series);for(var j=0,pointsLength=visiblePoints.length;j<pointsLength;j++){lastValue=0;value=+yValues[j];// Fix for chart not rendering while y value is given as string issue
if(lastPositive[stackingGroup][visiblePoints[j].xValue]===undefined){lastPositive[stackingGroup][visiblePoints[j].xValue]=0;}if(lastNegative[stackingGroup][visiblePoints[j].xValue]===undefined){lastNegative[stackingGroup][visiblePoints[j].xValue]=0;}if(isStacking100){value=value/frequencies[stackingGroup][visiblePoints[j].xValue]*100;value=!isNaN(value)?value:0;visiblePoints[j].percentage=+value.toFixed(2);}else{stackedValues[j]=stackedValues[j]?stackedValues[j]+Math.abs(value):Math.abs(value);}if(value>=0){lastValue=lastPositive[stackingGroup][visiblePoints[j].xValue];lastPositive[stackingGroup][visiblePoints[j].xValue]+=value;}else{lastValue=lastNegative[stackingGroup][visiblePoints[j].xValue];lastNegative[stackingGroup][visiblePoints[j].xValue]+=value;}startValues.push(lastValue);endValues.push(value+lastValue);if(isStacking100&&endValues[j]>100){endValues[j]=100;}}series.stackedValues=new StackValues(startValues,endValues);series.yMin=Math.min.apply(0,startValues);series.yMax=Math.max.apply(0,endValues);if(series.yMin>Math.min.apply(0,endValues)){series.yMin=isStacking100?-100:Math.min.apply(0,endValues);}if(series.yMax<Math.max.apply(0,startValues)){series.yMax=0;}}}this.findPercentageOfStacking(stackingSeies,stackedValues,isStacking100);};Series.prototype.findPercentageOfStacking=function(stackingSeies,values,isStacking100){for(var _i=0,stackingSeies_1=stackingSeies;_i<stackingSeies_1.length;_i++){var item=stackingSeies_1[_i];if(isStacking100){return null;}for(var _a=0,_b=getVisiblePoints(item);_a<_b.length;_a++){var point=_b[_a];point.percentage=Math.abs(+(point.y/values[point.index]*100).toFixed(2));}}};Series.prototype.findFrequencies=function(seriesCollection){var frequencies=[];var stackingGroup;var visiblePoints=[];for(var _i=0,seriesCollection_2=seriesCollection;_i<seriesCollection_2.length;_i++){var series=seriesCollection_2[_i];series.yAxis.isStack100=series.type.indexOf('100')!==-1?true:false;visiblePoints=getVisiblePoints(series);if(series.type.indexOf('Stacking')!==-1){stackingGroup=series.type.indexOf('StackingArea')!==-1?'StackingArea100':series.type.indexOf('StackingLine')!==-1?'StackingLine100':series.stackingGroup;if(!frequencies[stackingGroup]){frequencies[stackingGroup]=[];}for(var j=0,pointsLength=visiblePoints.length;j<pointsLength;j++){if(frequencies[stackingGroup][visiblePoints[j].xValue]===undefined){frequencies[stackingGroup][visiblePoints[j].xValue]=0;}if(series.yData[j]>0){frequencies[stackingGroup][visiblePoints[j].xValue]+=series.yData[j];}else{frequencies[stackingGroup][visiblePoints[j].xValue]-=series.yData[j];}}}}return frequencies;};/* private dataManagerFailure(e: { result: Object[] }): void {
         this.currentViewData = [];
         this.refreshChart();
     }*/ /** @private */Series.prototype.renderSeries=function(chart){var seriesType=firstToLowerCase(this.type);seriesType=seriesType.replace('100','');if(chart[seriesType+'SeriesModule']){if(this.category!=='Indicator'&&this.category!=='TrendLine'){this.createSeriesElements(chart);}this.visiblePoints=getVisiblePoints(this);chart[seriesType+'SeriesModule'].render(this,this.xAxis,this.yAxis,chart.requireInvertedAxis);if(this.category!=='Indicator'){if(this.errorBar.visible){this.chart.errorBarModule.render(this);}if(this.marker.dataLabel.visible){chart.dataLabelModule.render(this,this.chart,this.marker.dataLabel);}this.appendSeriesElement(chart.seriesElements,chart);}if(!this.chart.enableCanvas){this.performAnimation(chart,seriesType,this.errorBar,this.marker,this.marker.dataLabel);}}};/**
     * To create seris element.
     *
     * @returns {void}
     * @private
     */Series.prototype.createSeriesElements=function(chart){if(this.category!=='Indicator'){var elementId=chart.element.id;// 8 for extend border value 5 for extend size value
var explodeValue=this.marker.border.width+8+5;var render=this.type==='Scatter'||this.type==='Bubble'?chart.svgRenderer:chart.renderer;var index=this.index===undefined?this.category:this.index;var markerHeight=void 0;var markerWidth=void 0;var options=void 0;if(this.type==='Scatter'){markerHeight=chart.primaryYAxis.maximum||chart.primaryXAxis.maximum?0:(this.marker.height+explodeValue)/2;markerWidth=chart.primaryYAxis.maximum||chart.primaryXAxis.maximum?0:(this.marker.width+explodeValue)/2;}else{markerHeight=0;markerWidth=0;}if(chart.chartAreaType==='PolarRadar'){var markerMaxValue=this.drawType==='Scatter'?Math.max(this.marker.width,this.marker.height):0;options=new CircleOption(elementId+'_ChartSeriesClipRect_'+index,'transparent',{width:1,color:'Gray'},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,chart.radius+markerMaxValue);this.clipRectElement=appendClipElement(chart.redraw,options,render,'drawCircularClipPath');}else{options=new RectOption(elementId+'_ChartSeriesClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:-markerWidth,y:-markerHeight,width:this.clipRect.width+markerWidth*2,height:this.clipRect.height+markerHeight*2});this.clipRectElement=appendClipElement(chart.redraw,options,render);}var transform=chart.chartAreaType==='Cartesian'?'translate('+this.clipRect.x+','+this.clipRect.y+')':'';this.symbolElement=null;this.seriesElement=render.createGroup({'id':elementId+'SeriesGroup'+index,'transform':transform,'clip-path':'url(#'+elementId+'_ChartSeriesClipRect_'+index+')'});if(!this.chart.enableCanvas||this.type==='Scatter'||this.type==='Bubble'){this.seriesElement.appendChild(this.clipRectElement);}}};/**
     * To append the series.
     *
     * @returns {void}
     * @private
     */Series.prototype.appendSeriesElement=function(element,chart){var marker=this.marker;var dataLabel=marker.dataLabel;var redraw=chart.redraw;if(this.category!=='TrendLine'){appendChildElement(chart.enableCanvas,chart.seriesElements,this.seriesElement,redraw);var errorBar=this.errorBar;if(errorBar.visible){if(chart.chartAreaType==='PolarRadar'){appendChildElement(chart.enableCanvas,chart.seriesElements,this.seriesElement,redraw);}else{appendChildElement(chart.enableCanvas,chart.seriesElements,this.errorBarElement,redraw);}}if(this.type==='Scatter'||this.type==='Bubble'){appendChildElement(false,chart.seriesElements,this.seriesElement,redraw);}}if(marker.visible&&(chart.chartAreaType==='Cartesian'||this.drawType!=='Scatter'&&chart.chartAreaType==='PolarRadar')&&this.type!=='Scatter'&&this.type!=='Bubble'&&this.type!=='Candle'&&this.type!=='Hilo'&&this.type!=='HiloOpenClose'&&this.symbolElement){appendChildElement(chart.enableCanvas,chart.seriesElements,this.symbolElement,redraw);}if(dataLabel.visible&&this.textElement){appendChildElement(chart.enableCanvas,chart.dataLabelElements,this.shapeElement,redraw);appendChildElement(chart.enableCanvas,chart.dataLabelElements,this.textElement,redraw);}if(!chart.enableCanvas&&chart.dataLabelElements.hasChildNodes()){chart.seriesElements.appendChild(chart.dataLabelElements);}};/**
     * To perform animation for chart series.
     *
     * @returns {void}
     * @private
     */Series.prototype.performAnimation=function(chart,type,errorBar,marker,dataLabel){if(this.animation.enable&&chart.animateSeries){chart[type+'SeriesModule'].doAnimation(this);if(errorBar.visible){chart.errorBarModule.doErrorBarAnimation(this);}if(marker.visible){chart.markerRender.doMarkerAnimation(this);}//to datalabel animation disabled for edge and IE
if(dataLabel.visible&&sf.base.Browser.info.name!=='edge'&&!sf.base.Browser.isIE){chart.dataLabelModule.doDataLabelAnimation(this);}}};/**
     * To set border color for empty point
     *
     * @private
     */Series.prototype.setPointColor=function(point,color){color=point.interior||color;return point.isEmpty?this.emptyPointSettings.fill||color:color;};/**
     * To set border color for empty point
     *
     * @private
     */Series.prototype.setBorderColor=function(point,border){border.width=point.isEmpty?this.emptyPointSettings.border.width||border.width:border.width;border.color=point.isEmpty?this.emptyPointSettings.border.color||border.color:border.color;return border;};__decorate$5([sf.base.Property('')],Series.prototype,"name",void 0);__decorate$5([sf.base.Property('')],Series.prototype,"yName",void 0);__decorate$5([sf.base.Property('Line')],Series.prototype,"drawType",void 0);__decorate$5([sf.base.Property(true)],Series.prototype,"isClosed",void 0);__decorate$5([sf.base.Property('#2ecd71')],Series.prototype,"bearFillColor",void 0);__decorate$5([sf.base.Property('#e74c3d')],Series.prototype,"bullFillColor",void 0);__decorate$5([sf.base.Property(false)],Series.prototype,"enableSolidCandles",void 0);__decorate$5([sf.base.Property('')],Series.prototype,"size",void 0);__decorate$5([sf.base.Property(null)],Series.prototype,"binInterval",void 0);__decorate$5([sf.base.Property(false)],Series.prototype,"showNormalDistribution",void 0);__decorate$5([sf.base.Property('')],Series.prototype,"stackingGroup",void 0);__decorate$5([sf.base.Complex({color:'transparent',width:0},Border)],Series.prototype,"border",void 0);__decorate$5([sf.base.Property(1)],Series.prototype,"opacity",void 0);__decorate$5([sf.base.Property(0)],Series.prototype,"zOrder",void 0);__decorate$5([sf.base.Property('Line')],Series.prototype,"type",void 0);__decorate$5([sf.base.Complex(null,ErrorBarSettings)],Series.prototype,"errorBar",void 0);__decorate$5([sf.base.Complex(null,MarkerSettings)],Series.prototype,"marker",void 0);__decorate$5([sf.base.Complex({},DragSettings)],Series.prototype,"dragSettings",void 0);__decorate$5([sf.base.Collection([],Trendline)],Series.prototype,"trendlines",void 0);__decorate$5([sf.base.Property(true)],Series.prototype,"enableTooltip",void 0);__decorate$5([sf.base.Property('')],Series.prototype,"tooltipFormat",void 0);__decorate$5([sf.base.Property('')],Series.prototype,"tooltipMappingName",void 0);__decorate$5([sf.base.Property('SeriesType')],Series.prototype,"legendShape",void 0);__decorate$5([sf.base.Property('')],Series.prototype,"legendImageUrl",void 0);__decorate$5([sf.base.Property(null)],Series.prototype,"selectionStyle",void 0);__decorate$5([sf.base.Property(null)],Series.prototype,"unSelectedStyle",void 0);__decorate$5([sf.base.Property(null)],Series.prototype,"nonHighlightStyle",void 0);__decorate$5([sf.base.Property(1)],Series.prototype,"minRadius",void 0);__decorate$5([sf.base.Property(3)],Series.prototype,"maxRadius",void 0);__decorate$5([sf.base.Property('Natural')],Series.prototype,"splineType",void 0);__decorate$5([sf.base.Property(0.5)],Series.prototype,"cardinalSplineTension",void 0);__decorate$5([sf.base.Complex(null,EmptyPointSettings)],Series.prototype,"emptyPointSettings",void 0);__decorate$5([sf.base.Property(true)],Series.prototype,"showMean",void 0);__decorate$5([sf.base.Property('Normal')],Series.prototype,"boxPlotMode",void 0);__decorate$5([sf.base.Property(null)],Series.prototype,"columnWidth",void 0);__decorate$5([sf.base.Property(0)],Series.prototype,"columnSpacing",void 0);__decorate$5([sf.base.Property('#C64E4A')],Series.prototype,"negativeFillColor",void 0);__decorate$5([sf.base.Property('#4E81BC')],Series.prototype,"summaryFillColor",void 0);__decorate$5([sf.base.Property()],Series.prototype,"intermediateSumIndexes",void 0);__decorate$5([sf.base.Property()],Series.prototype,"sumIndexes",void 0);__decorate$5([sf.base.Complex({color:'black',width:2},Connector)],Series.prototype,"connector",void 0);__decorate$5([sf.base.Complex(null,CornerRadius)],Series.prototype,"cornerRadius",void 0);return Series;}(SeriesBase);var __extends$5=undefined&&undefined.__extends||function(){var _extendStatics6=function extendStatics(d,b){_extendStatics6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics6(d,b);};return function(d,b){_extendStatics6(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$4=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable @typescript-eslint/ban-types */var StockChartFont=/** @class */function(_super){__extends$5(StockChartFont,_super);function StockChartFont(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('')],StockChartFont.prototype,"color",void 0);__decorate$4([sf.base.Property('16px')],StockChartFont.prototype,"size",void 0);__decorate$4([sf.base.Property('Segoe UI')],StockChartFont.prototype,"fontFamily",void 0);__decorate$4([sf.base.Property('Normal')],StockChartFont.prototype,"fontStyle",void 0);__decorate$4([sf.base.Property('Normal')],StockChartFont.prototype,"fontWeight",void 0);__decorate$4([sf.base.Property(1)],StockChartFont.prototype,"opacity",void 0);__decorate$4([sf.base.Property('Trim')],StockChartFont.prototype,"textOverflow",void 0);__decorate$4([sf.base.Property('Center')],StockChartFont.prototype,"textAlignment",void 0);return StockChartFont;}(sf.base.ChildProperty);/**
 * Border
 */var StockChartBorder=/** @class */function(_super){__extends$5(StockChartBorder,_super);function StockChartBorder(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('')],StockChartBorder.prototype,"color",void 0);__decorate$4([sf.base.Property(1)],StockChartBorder.prototype,"width",void 0);return StockChartBorder;}(sf.base.ChildProperty);/**
 * Configures the chart area.
 */var StockChartArea=/** @class */function(_super){__extends$5(StockChartArea,_super);function StockChartArea(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Complex({},StockChartBorder)],StockChartArea.prototype,"border",void 0);__decorate$4([sf.base.Property('transparent')],StockChartArea.prototype,"background",void 0);__decorate$4([sf.base.Property(1)],StockChartArea.prototype,"opacity",void 0);return StockChartArea;}(sf.base.ChildProperty);/**
 * Configures the chart margins.
 */var StockMargin=/** @class */function(_super){__extends$5(StockMargin,_super);function StockMargin(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property(10)],StockMargin.prototype,"left",void 0);__decorate$4([sf.base.Property(10)],StockMargin.prototype,"right",void 0);__decorate$4([sf.base.Property(10)],StockMargin.prototype,"top",void 0);__decorate$4([sf.base.Property(10)],StockMargin.prototype,"bottom",void 0);return StockMargin;}(sf.base.ChildProperty);/**
 * StockChart strip line settings
 */var StockChartStripLineSettings=/** @class */function(_super){__extends$5(StockChartStripLineSettings,_super);function StockChartStripLineSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property(false)],StockChartStripLineSettings.prototype,"startFromAxis",void 0);__decorate$4([sf.base.Property(true)],StockChartStripLineSettings.prototype,"visible",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"start",void 0);__decorate$4([sf.base.Property('#808080')],StockChartStripLineSettings.prototype,"color",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"end",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"size",void 0);__decorate$4([sf.base.Property('Auto')],StockChartStripLineSettings.prototype,"sizeType",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"dashArray",void 0);__decorate$4([sf.base.Property(false)],StockChartStripLineSettings.prototype,"isRepeat",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"repeatEvery",void 0);__decorate$4([sf.base.Property(false)],StockChartStripLineSettings.prototype,"isSegmented",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"repeatUntil",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"segmentStart",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"segmentAxisName",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"segmentEnd",void 0);__decorate$4([sf.base.Property(1)],StockChartStripLineSettings.prototype,"opacity",void 0);__decorate$4([sf.base.Property('')],StockChartStripLineSettings.prototype,"text",void 0);__decorate$4([sf.base.Complex({color:'transparent',width:1},StockChartBorder)],StockChartStripLineSettings.prototype,"border",void 0);__decorate$4([sf.base.Property(null)],StockChartStripLineSettings.prototype,"rotation",void 0);__decorate$4([sf.base.Property('Behind')],StockChartStripLineSettings.prototype,"zIndex",void 0);__decorate$4([sf.base.Property('Middle')],StockChartStripLineSettings.prototype,"horizontalAlignment",void 0);__decorate$4([sf.base.Property('Middle')],StockChartStripLineSettings.prototype,"verticalAlignment",void 0);__decorate$4([sf.base.Complex(Theme.stripLineLabelFont,StockChartFont)],StockChartStripLineSettings.prototype,"textStyle",void 0);return StockChartStripLineSettings;}(sf.base.ChildProperty);var Animation$2=/** @class */function(_super){__extends$5(Animation$$1,_super);function Animation$$1(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property(0)],Animation$$1.prototype,"delay",void 0);__decorate$4([sf.base.Property(false)],Animation$$1.prototype,"enable",void 0);__decorate$4([sf.base.Property(1000)],Animation$$1.prototype,"duration",void 0);return Animation$$1;}(sf.base.ChildProperty);var StockEmptyPointSettings=/** @class */function(_super){__extends$5(StockEmptyPointSettings,_super);function StockEmptyPointSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property(null)],StockEmptyPointSettings.prototype,"fill",void 0);__decorate$4([sf.base.Property('Gap')],StockEmptyPointSettings.prototype,"mode",void 0);__decorate$4([sf.base.Complex({color:'transparent',width:0},StockChartBorder)],StockEmptyPointSettings.prototype,"border",void 0);return StockEmptyPointSettings;}(sf.base.ChildProperty);var StockChartConnector=/** @class */function(_super){__extends$5(StockChartConnector,_super);function StockChartConnector(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('Line')],StockChartConnector.prototype,"type",void 0);__decorate$4([sf.base.Property(null)],StockChartConnector.prototype,"length",void 0);__decorate$4([sf.base.Property(null)],StockChartConnector.prototype,"color",void 0);__decorate$4([sf.base.Property('')],StockChartConnector.prototype,"dashArray",void 0);__decorate$4([sf.base.Property(1)],StockChartConnector.prototype,"width",void 0);return StockChartConnector;}(sf.base.ChildProperty);/**
 * Configures the Annotation for chart.
 */var StockSeries=/** @class */function(_super){__extends$5(StockSeries,_super);function StockSeries(){/**
         * The DataSource field that contains the x value.
         * It is applicable for series and technical indicators
         *
         * @default ''
         */var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.localData=undefined;return _this;}__decorate$4([sf.base.Property('date')],StockSeries.prototype,"xName",void 0);__decorate$4([sf.base.Property('close')],StockSeries.prototype,"yName",void 0);__decorate$4([sf.base.Property('open')],StockSeries.prototype,"open",void 0);__decorate$4([sf.base.Property('close')],StockSeries.prototype,"close",void 0);__decorate$4([sf.base.Property('high')],StockSeries.prototype,"high",void 0);__decorate$4([sf.base.Property('low')],StockSeries.prototype,"low",void 0);__decorate$4([sf.base.Property('volume')],StockSeries.prototype,"volume",void 0);__decorate$4([sf.base.Property('')],StockSeries.prototype,"pointColorMapping",void 0);__decorate$4([sf.base.Complex(null,Animation$2)],StockSeries.prototype,"animation",void 0);__decorate$4([sf.base.Property(null)],StockSeries.prototype,"xAxisName",void 0);__decorate$4([sf.base.Property(null)],StockSeries.prototype,"yAxisName",void 0);__decorate$4([sf.base.Property(null)],StockSeries.prototype,"fill",void 0);__decorate$4([sf.base.Property('0')],StockSeries.prototype,"dashArray",void 0);__decorate$4([sf.base.Property(1)],StockSeries.prototype,"width",void 0);__decorate$4([sf.base.Property('')],StockSeries.prototype,"name",void 0);__decorate$4([sf.base.Property('')],StockSeries.prototype,"dataSource",void 0);__decorate$4([sf.base.Property()],StockSeries.prototype,"query",void 0);__decorate$4([sf.base.Property('#e74c3d')],StockSeries.prototype,"bullFillColor",void 0);__decorate$4([sf.base.Property('#2ecd71')],StockSeries.prototype,"bearFillColor",void 0);__decorate$4([sf.base.Property(false)],StockSeries.prototype,"enableSolidCandles",void 0);__decorate$4([sf.base.Property(true)],StockSeries.prototype,"visible",void 0);__decorate$4([sf.base.Complex({color:'transparent',width:0},StockChartBorder)],StockSeries.prototype,"border",void 0);__decorate$4([sf.base.Property(1)],StockSeries.prototype,"opacity",void 0);__decorate$4([sf.base.Property('Candle')],StockSeries.prototype,"type",void 0);__decorate$4([sf.base.Complex(null,MarkerSettings)],StockSeries.prototype,"marker",void 0);__decorate$4([sf.base.Collection([],Trendline)],StockSeries.prototype,"trendlines",void 0);__decorate$4([sf.base.Property(true)],StockSeries.prototype,"enableTooltip",void 0);__decorate$4([sf.base.Property('')],StockSeries.prototype,"tooltipMappingName",void 0);__decorate$4([sf.base.Property(null)],StockSeries.prototype,"selectionStyle",void 0);__decorate$4([sf.base.Property(0.5)],StockSeries.prototype,"cardinalSplineTension",void 0);__decorate$4([sf.base.Complex(null,CornerRadius)],StockSeries.prototype,"cornerRadius",void 0);__decorate$4([sf.base.Complex(null,StockEmptyPointSettings)],StockSeries.prototype,"emptyPointSettings",void 0);__decorate$4([sf.base.Property(null)],StockSeries.prototype,"columnWidth",void 0);__decorate$4([sf.base.Property(0)],StockSeries.prototype,"columnSpacing",void 0);return StockSeries;}(sf.base.ChildProperty);var StockChartIndicator=/** @class */function(_super){__extends$5(StockChartIndicator,_super);function StockChartIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('Sma')],StockChartIndicator.prototype,"type",void 0);__decorate$4([sf.base.Property(14)],StockChartIndicator.prototype,"period",void 0);__decorate$4([sf.base.Property(3)],StockChartIndicator.prototype,"dPeriod",void 0);__decorate$4([sf.base.Property(14)],StockChartIndicator.prototype,"kPeriod",void 0);__decorate$4([sf.base.Property(80)],StockChartIndicator.prototype,"overBought",void 0);__decorate$4([sf.base.Property(20)],StockChartIndicator.prototype,"overSold",void 0);__decorate$4([sf.base.Property('Close')],StockChartIndicator.prototype,"field",void 0);__decorate$4([sf.base.Property(2)],StockChartIndicator.prototype,"standardDeviation",void 0);__decorate$4([sf.base.Property(12)],StockChartIndicator.prototype,"slowPeriod",void 0);__decorate$4([sf.base.Property(true)],StockChartIndicator.prototype,"showZones",void 0);__decorate$4([sf.base.Property(26)],StockChartIndicator.prototype,"fastPeriod",void 0);__decorate$4([sf.base.Complex({color:'#ff9933',width:2},StockChartConnector)],StockChartIndicator.prototype,"macdLine",void 0);__decorate$4([sf.base.Property('Both')],StockChartIndicator.prototype,"macdType",void 0);__decorate$4([sf.base.Property('#e74c3d')],StockChartIndicator.prototype,"macdNegativeColor",void 0);__decorate$4([sf.base.Property('#2ecd71')],StockChartIndicator.prototype,"macdPositiveColor",void 0);__decorate$4([sf.base.Property('rgba(211,211,211,0.25)')],StockChartIndicator.prototype,"bandColor",void 0);__decorate$4([sf.base.Complex({color:'#ffb735',width:1},StockChartConnector)],StockChartIndicator.prototype,"upperLine",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"seriesName",void 0);__decorate$4([sf.base.Complex({color:'#f2ec2f',width:1},StockChartConnector)],StockChartIndicator.prototype,"periodLine",void 0);__decorate$4([sf.base.Complex({color:'#f2ec2f',width:1},StockChartConnector)],StockChartIndicator.prototype,"lowerLine",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"high",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"open",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"low",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"xName",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"close",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"pointColorMapping",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"volume",void 0);__decorate$4([sf.base.Property(null)],StockChartIndicator.prototype,"xAxisName",void 0);__decorate$4([sf.base.Property(null)],StockChartIndicator.prototype,"yAxisName",void 0);__decorate$4([sf.base.Complex(null,Animation$2)],StockChartIndicator.prototype,"animation",void 0);__decorate$4([sf.base.Property(null)],StockChartIndicator.prototype,"fill",void 0);__decorate$4([sf.base.Property('0')],StockChartIndicator.prototype,"dashArray",void 0);__decorate$4([sf.base.Property(1)],StockChartIndicator.prototype,"width",void 0);__decorate$4([sf.base.Property()],StockChartIndicator.prototype,"query",void 0);__decorate$4([sf.base.Property('')],StockChartIndicator.prototype,"dataSource",void 0);return StockChartIndicator;}(sf.base.ChildProperty);var StockChartAxis=/** @class */function(_super){__extends$5(StockChartAxis,_super);function StockChartAxis(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Complex({},CrosshairTooltip)],StockChartAxis.prototype,"crosshairTooltip",void 0);__decorate$4([sf.base.Complex(Theme.axisLabelFont,StockChartFont)],StockChartAxis.prototype,"labelStyle",void 0);__decorate$4([sf.base.Property('')],StockChartAxis.prototype,"title",void 0);__decorate$4([sf.base.Complex(Theme.axisTitleFont,StockChartFont)],StockChartAxis.prototype,"titleStyle",void 0);__decorate$4([sf.base.Property('')],StockChartAxis.prototype,"labelFormat",void 0);__decorate$4([sf.base.Property('DateTime')],StockChartAxis.prototype,"skeletonType",void 0);__decorate$4([sf.base.Property('')],StockChartAxis.prototype,"skeleton",void 0);__decorate$4([sf.base.Property(0)],StockChartAxis.prototype,"plotOffset",void 0);__decorate$4([sf.base.Property(10)],StockChartAxis.prototype,"logBase",void 0);__decorate$4([sf.base.Property(0)],StockChartAxis.prototype,"rowIndex",void 0);__decorate$4([sf.base.Property(1)],StockChartAxis.prototype,"span",void 0);__decorate$4([sf.base.Property(3)],StockChartAxis.prototype,"maximumLabels",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"desiredIntervals",void 0);__decorate$4([sf.base.Property(1)],StockChartAxis.prototype,"zoomFactor",void 0);__decorate$4([sf.base.Property(0)],StockChartAxis.prototype,"zoomPosition",void 0);__decorate$4([sf.base.Property(false)],StockChartAxis.prototype,"opposedPosition",void 0);__decorate$4([sf.base.Property(true)],StockChartAxis.prototype,"enableAutoIntervalOnZooming",void 0);__decorate$4([sf.base.Property('Double')],StockChartAxis.prototype,"valueType",void 0);__decorate$4([sf.base.Property('Auto')],StockChartAxis.prototype,"rangePadding",void 0);__decorate$4([sf.base.Property('None')],StockChartAxis.prototype,"edgeLabelPlacement",void 0);__decorate$4([sf.base.Property('BetweenTicks')],StockChartAxis.prototype,"labelPlacement",void 0);__decorate$4([sf.base.Property('Auto')],StockChartAxis.prototype,"intervalType",void 0);__decorate$4([sf.base.Property('Outside')],StockChartAxis.prototype,"tickPosition",void 0);__decorate$4([sf.base.Property('')],StockChartAxis.prototype,"name",void 0);__decorate$4([sf.base.Property('Outside')],StockChartAxis.prototype,"labelPosition",void 0);__decorate$4([sf.base.Property(true)],StockChartAxis.prototype,"visible",void 0);__decorate$4([sf.base.Property(0)],StockChartAxis.prototype,"labelRotation",void 0);__decorate$4([sf.base.Property(0)],StockChartAxis.prototype,"minorTicksPerInterval",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"crossesAt",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"crossesInAxis",void 0);__decorate$4([sf.base.Property(true)],StockChartAxis.prototype,"placeNextToAxisLine",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"minimum",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"interval",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"maximum",void 0);__decorate$4([sf.base.Property(34)],StockChartAxis.prototype,"maximumLabelWidth",void 0);__decorate$4([sf.base.Complex({},MajorTickLines)],StockChartAxis.prototype,"majorTickLines",void 0);__decorate$4([sf.base.Property(false)],StockChartAxis.prototype,"enableTrim",void 0);__decorate$4([sf.base.Complex({},MinorTickLines)],StockChartAxis.prototype,"minorTickLines",void 0);__decorate$4([sf.base.Complex({},MinorGridLines)],StockChartAxis.prototype,"minorGridLines",void 0);__decorate$4([sf.base.Complex({},MajorGridLines)],StockChartAxis.prototype,"majorGridLines",void 0);__decorate$4([sf.base.Complex({},AxisLine)],StockChartAxis.prototype,"lineStyle",void 0);__decorate$4([sf.base.Property(false)],StockChartAxis.prototype,"isInversed",void 0);__decorate$4([sf.base.Property('Trim')],StockChartAxis.prototype,"labelIntersectAction",void 0);__decorate$4([sf.base.Property(100)],StockChartAxis.prototype,"coefficient",void 0);__decorate$4([sf.base.Property(0)],StockChartAxis.prototype,"startAngle",void 0);__decorate$4([sf.base.Property(2)],StockChartAxis.prototype,"tabIndex",void 0);__decorate$4([sf.base.Collection([],StockChartStripLineSettings)],StockChartAxis.prototype,"stripLines",void 0);__decorate$4([sf.base.Property(null)],StockChartAxis.prototype,"description",void 0);return StockChartAxis;}(sf.base.ChildProperty);/**
 * StockChart row
 */var StockChartRow=/** @class */function(_super){__extends$5(StockChartRow,_super);function StockChartRow(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('100%')],StockChartRow.prototype,"height",void 0);__decorate$4([sf.base.Complex({},StockChartBorder)],StockChartRow.prototype,"border",void 0);return StockChartRow;}(sf.base.ChildProperty);var StockChartTrendline=/** @class */function(_super){__extends$5(StockChartTrendline,_super);function StockChartTrendline(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property(2)],StockChartTrendline.prototype,"period",void 0);__decorate$4([sf.base.Property('')],StockChartTrendline.prototype,"name",void 0);__decorate$4([sf.base.Property('Linear')],StockChartTrendline.prototype,"type",void 0);__decorate$4([sf.base.Property(2)],StockChartTrendline.prototype,"polynomialOrder",void 0);__decorate$4([sf.base.Property(0)],StockChartTrendline.prototype,"forwardForecast",void 0);__decorate$4([sf.base.Property(0)],StockChartTrendline.prototype,"backwardForecast",void 0);__decorate$4([sf.base.Complex({},Animation$2)],StockChartTrendline.prototype,"animation",void 0);__decorate$4([sf.base.Property(true)],StockChartTrendline.prototype,"enableTooltip",void 0);__decorate$4([sf.base.Complex({},MarkerSettings)],StockChartTrendline.prototype,"marker",void 0);__decorate$4([sf.base.Property(null)],StockChartTrendline.prototype,"intercept",void 0);__decorate$4([sf.base.Property('')],StockChartTrendline.prototype,"fill",void 0);__decorate$4([sf.base.Property('SeriesType')],StockChartTrendline.prototype,"legendShape",void 0);__decorate$4([sf.base.Property(1)],StockChartTrendline.prototype,"width",void 0);return StockChartTrendline;}(sf.base.ChildProperty);var StockChartAnnotationSettings=/** @class */function(_super){__extends$5(StockChartAnnotationSettings,_super);function StockChartAnnotationSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('0')],StockChartAnnotationSettings.prototype,"y",void 0);__decorate$4([sf.base.Property('0')],StockChartAnnotationSettings.prototype,"x",void 0);__decorate$4([sf.base.Property(null)],StockChartAnnotationSettings.prototype,"content",void 0);__decorate$4([sf.base.Property('Chart')],StockChartAnnotationSettings.prototype,"region",void 0);__decorate$4([sf.base.Property('Center')],StockChartAnnotationSettings.prototype,"horizontalAlignment",void 0);__decorate$4([sf.base.Property('Pixel')],StockChartAnnotationSettings.prototype,"coordinateUnits",void 0);__decorate$4([sf.base.Property('Middle')],StockChartAnnotationSettings.prototype,"verticalAlignment",void 0);__decorate$4([sf.base.Property(null)],StockChartAnnotationSettings.prototype,"yAxisName",void 0);__decorate$4([sf.base.Property(null)],StockChartAnnotationSettings.prototype,"description",void 0);__decorate$4([sf.base.Property(null)],StockChartAnnotationSettings.prototype,"xAxisName",void 0);return StockChartAnnotationSettings;}(sf.base.ChildProperty);var StockChartIndexes=/** @class */function(_super){__extends$5(StockChartIndexes,_super);function StockChartIndexes(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property(0)],StockChartIndexes.prototype,"point",void 0);__decorate$4([sf.base.Property(0)],StockChartIndexes.prototype,"series",void 0);return StockChartIndexes;}(sf.base.ChildProperty);/**
 * Configures the Stock events for stock chart.
 */var StockEventsSettings=/** @class */function(_super){__extends$5(StockEventsSettings,_super);function StockEventsSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$4([sf.base.Property('Circle')],StockEventsSettings.prototype,"type",void 0);__decorate$4([sf.base.Property('')],StockEventsSettings.prototype,"text",void 0);__decorate$4([sf.base.Property('')],StockEventsSettings.prototype,"description",void 0);__decorate$4([sf.base.Property()],StockEventsSettings.prototype,"date",void 0);__decorate$4([sf.base.Complex({color:'black',width:1},StockChartBorder)],StockEventsSettings.prototype,"border",void 0);__decorate$4([sf.base.Property('transparent')],StockEventsSettings.prototype,"background",void 0);__decorate$4([sf.base.Property(true)],StockEventsSettings.prototype,"showOnSeries",void 0);__decorate$4([sf.base.Property('close')],StockEventsSettings.prototype,"placeAt",void 0);__decorate$4([sf.base.Complex(Theme.stockEventFont,StockChartFont)],StockEventsSettings.prototype,"textStyle",void 0);__decorate$4([sf.base.Property([])],StockEventsSettings.prototype,"seriesIndexes",void 0);return StockEventsSettings;}(sf.base.ChildProperty);/**
 * To get the data on mouse move.
 *
 * @private
 */var ChartData=/** @class */function(){/**
     * Constructor for the data.
     *
     * @private
     */function ChartData(chart){/** @private */this.currentPoints=[];/** @private */this.previousPoints=[];this.insideRegion=false;this.chart=chart;this.lierIndex=0;}/**
     * Method to get the Data.
     *
     * @private
     */ChartData.prototype.getData=function(){var chart=this.chart;var point=null;var series=null;var width;var height;var mouseX;var mouseY;for(var len=chart.visibleSeries.length,i=len-1;i>=0;i--){series=chart.visibleSeries[i];width=series.type==='Scatter'||series.drawType==='Scatter'||series.marker.visible?(series.marker.height+5)/2:0;height=series.type==='Scatter'||series.drawType==='Scatter'||series.marker.visible?(series.marker.width+5)/2:0;mouseX=chart.mouseX;mouseY=chart.mouseY;if(series.dragSettings.enable&&series.isRectSeries){if(!(series.type==='Bar'&&chart.isTransposed)&&(chart.isTransposed||series.type==='Bar')){var markerWidth=series.marker.width/2;mouseX=series.yAxis.isInversed?mouseX+markerWidth:mouseX-markerWidth;}else{var markerHeight=series.marker.height/2;mouseY=series.yAxis.isInversed?mouseY-markerHeight:mouseY+markerHeight;}}if(series.visible&&withInBounds(mouseX,mouseY,series.clipRect,width,height)){point=this.getRectPoint(series,series.clipRect,mouseX,mouseY);}if(point){return new PointData(point,series);}}return new PointData(point,series);};ChartData.prototype.isSelected=function(chart){return(chart.selectionMode.indexOf('Drag')>-1||chart.selectionMode.indexOf('Lasso')>-1)&&chart.selectionModule&&chart.selectionModule.rectPoints!==null;};ChartData.prototype.getRectPoint=function(series,rect,x,y){var chart=this.chart;var fromCenterX;var fromCenterY;var clickAngle;var arcAngle=0;var startAngle;var endAngle;var distanceFromCenter;if(chart.isScrolling){return null;}for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(!point.regionData){if(!point.regions||!point.regions.length){continue;}}if(point.regionData&&this.chart.chartAreaType==='PolarRadar'&&series.drawType.indexOf('Column')>-1){fromCenterX=x-(series.clipRect.width/2+series.clipRect.x);fromCenterY=y-(series.clipRect.height/2+series.clipRect.y);arcAngle=2*Math.PI*(point.regionData.currentXPosition<0?1+point.regionData.currentXPosition:point.regionData.currentXPosition);clickAngle=(Math.atan2(fromCenterY,fromCenterX)+0.5*Math.PI-arcAngle)%(2*Math.PI);clickAngle=clickAngle<0?2*Math.PI+clickAngle:clickAngle;clickAngle=clickAngle+2*Math.PI*series.chart.primaryXAxis.startAngle;startAngle=point.regionData.startAngle;startAngle-=arcAngle;startAngle=startAngle<0?2*Math.PI+startAngle:startAngle;endAngle=point.regionData.endAngle;endAngle-=arcAngle;endAngle=endAngle<0?2*Math.PI+endAngle:endAngle;distanceFromCenter=Math.sqrt(Math.pow(Math.abs(fromCenterX),2)+Math.pow(Math.abs(fromCenterY),2));if(clickAngle>=startAngle&&clickAngle<=endAngle&&(distanceFromCenter>=point.regionData.innerRadius&&distanceFromCenter<=point.regionData.radius||distanceFromCenter<=point.regionData.innerRadius&&distanceFromCenter>=point.regionData.radius)&&distanceFromCenter<=series.chart.radius){return point;}}if(series.dragSettings.enable&&series.isRectSeries||series.isRectSeries&&series.marker.visible){if(this.isPointInThresholdRegion(x,y,point,rect,series)){this.insideRegion=true;return point;}}if(!this.insideRegion&&this.checkRegionContainsPoint(point.regions,rect,x,y)){return point;}else if(this.insideRegion&&this.checkRegionContainsPoint(point.regions,rect,x,y)){return point;}}return null;};/**
     * Checks whether the region contains a point
     */ChartData.prototype.checkRegionContainsPoint=function(regionRect,rect,x,y){var _this=this;return regionRect.some(function(region,index){_this.lierIndex=index;return withInBounds(x,y,new sf.svgbase.Rect((_this.chart.chartAreaType==='Cartesian'?rect.x:0)+region.x,(_this.chart.chartAreaType==='Cartesian'?rect.y:0)+region.y,region.width,region.height));});};/**
     * To check the point in threshold region for column and bar series
     *
     * @param {number} x X coordinate
     * @param {number} y Y coodinate
     * @param {Points} point point
     * @param {Rect} rect point rect region
     * @param {Series} series series
     */ChartData.prototype.isPointInThresholdRegion=function(x,y,point,rect,series){var _this=this;var isBar=series.type==='Bar';var isInversed=series.yAxis.isInversed;var isTransposed=series.chart.isTransposed;var heightValue=10;var yValue=0;var xValue=0;var width;var height=width=2*heightValue;if(isInversed&&isTransposed){if(isBar){yValue=point.regions[0].height-heightValue;width=point.regions[0].width;}else{xValue=-heightValue;height=point.regions[0].height;}}else if(isInversed||point.yValue<0){if(isBar){xValue=-heightValue;height=point.regions[0].height;}else{yValue=point.regions[0].height-heightValue;width=point.regions[0].width;}}else if(isTransposed){if(isBar){yValue=-heightValue;width=point.regions[0].width;}else{xValue=point.regions[0].width-heightValue;height=point.regions[0].height;}}else{if(isBar){xValue=point.regions[0].width-heightValue;height=point.regions[0].height;}else{yValue=-heightValue;width=point.regions[0].width;}}return point.regions.some(function(region){return withInBounds(x,y,new sf.svgbase.Rect((_this.chart.chartAreaType==='Cartesian'?rect.x:0)+region.x+xValue,(_this.chart.chartAreaType==='Cartesian'?rect.y:0)+region.y+yValue,width,height));});};/**
     * @private
     */ChartData.prototype.getClosest=function(series,value){var xData=series.xData;var closest;if(value>=series.xMin-0.5&&value<=series.xMax+0.5){for(var _i=0,xData_1=xData;_i<xData_1.length;_i++){var data=xData_1[_i];if(closest==null||Math.abs(data-value)<Math.abs(closest-value)){closest=data;}}}else if(xData.length===1){closest=xData[0];}return closest;};ChartData.prototype.getClosestX=function(chart,series){var value;var rect=series.clipRect;if(!chart.requireInvertedAxis){value=getValueXByPoint(chart.mouseX-rect.x,rect.width,series.xAxis);}else{value=getValueYByPoint(chart.mouseY-rect.y,rect.height,series.xAxis);}var closest=this.getClosest(series,value);for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(closest===point.xValue&&point.visible){return new PointData(point,series);}}return null;};return ChartData;}();var __extends$8=undefined&&undefined.__extends||function(){var _extendStatics7=function extendStatics(d,b){_extendStatics7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics7(d,b);};return function(d,b){_extendStatics7(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Tooltip Module used to render the tooltip for series.
 */var BaseTooltip=/** @class */function(_super){__extends$8(BaseTooltip,_super);/**
     * Constructor for tooltip module.
     *
     * @private
     */function BaseTooltip(chart){var _this=_super.call(this,chart)||this;_this.element=_this.chart.element;_this.textStyle=chart.tooltip.textStyle;_this.control=chart;return _this;}BaseTooltip.prototype.getElement=function(id){return document.getElementById(id);};/**
     * Renders the tooltip.
     *
     * @returns {void}
     * @private
     */BaseTooltip.prototype.getTooltipElement=function(isTooltip){this.inverted=this.chart.requireInvertedAxis;this.header=this.control.tooltip.header===null?this.control.tooltip.shared?'<b>${point.x}</b>':'<b>${series.name}</b>':this.control.tooltip.header;this.formattedText=[];var tooltipDiv=document.getElementById(this.chart.element.id+'_tooltip');var isStockChart=this.chart.element.id.indexOf('stockChart')>-1;if(!isTooltip&&!tooltipDiv||isStockChart){return this.createElement();}return null;};BaseTooltip.prototype.createElement=function(){var tooltipDiv=document.createElement('div');tooltipDiv.id=this.element.id+'_tooltip';tooltipDiv.className='ejSVGTooltip';tooltipDiv.setAttribute('style','pointer-events:none; position:absolute;z-index: 1');return tooltipDiv;};BaseTooltip.prototype.pushData=function(data,isFirst,tooltipDiv,isChart){if(data.series.enableTooltip){if(isChart){this.currentPoints.push(data);}else{this.currentPoints.push(data);}this.stopAnimation();if(tooltipDiv&&!document.getElementById(tooltipDiv.id)){if(!this.chart.stockChart){document.getElementById(this.element.id+'_Secondary_Element').appendChild(tooltipDiv);}else{document.getElementById(this.chart.stockChart.element.id+'_Secondary_Element').appendChild(tooltipDiv);}}return true;}return false;};BaseTooltip.prototype.removeHighlight=function(){var item;var series;for(var i=0,len=this.previousPoints.length;i<len;i++){item=this.previousPoints[i];if(item.series.isRectSeries){if(item.series.visible){this.highlightPoint(item.series,item.point.index,false);}continue;}series=item.series;if(!series.marker.visible&&item.series.type!=='Scatter'&&item.series.type!=='Bubble'){this.previousPoints.shift();len-=1;}}};BaseTooltip.prototype.highlightPoint=function(series,pointIndex,highlight){var element=this.getElement(this.element.id+'_Series_'+series.index+'_Point_'+pointIndex);var selectionModule=this.control.accumulationSelectionModule;var isSelectedElement=selectionModule&&selectionModule.selectedDataIndexes.length>0?true:false;if(element){if(!isSelectedElement||isSelectedElement&&element.getAttribute('class')&&element.getAttribute('class').indexOf('_ej2_chart_selection_series_')===-1){element.setAttribute('opacity',(highlight?series.opacity/2:series.opacity).toString());}else{element.setAttribute('opacity',series.opacity.toString());}}};BaseTooltip.prototype.highlightPoints=function(){for(var _i=0,_a=this.currentPoints;_i<_a.length;_i++){var item=_a[_i];if(item.series.isRectSeries&&item.series.category==='Series'){this.highlightPoint(item.series,item.point.index,true);}}};BaseTooltip.prototype.createTooltip=function(chart,isFirst,location,clipLocation,point,shapes,offset,bounds,extraPoints,templatePoint,customTemplate){if(extraPoints===void 0){extraPoints=null;}if(templatePoint===void 0){templatePoint=null;}var series=this.currentPoints[0].series;var module=chart.tooltipModule||chart.accumulationTooltipModule;if(!module){// For the tooltip enable is false.
return;}var isNegative=series.isRectSeries&&series.type!=='Waterfall'&&point&&point.y<0;var inverted=this.chart.requireInvertedAxis&&series.isRectSeries;var position=null;if(this.text.length<=1){var contentSize=sf.svgbase.measureText(this.text[0],chart.tooltip.textStyle);var headerSize=!(this.header===''||this.header==='<b></b>')?sf.svgbase.measureText(this.header,this.textStyle):new sf.svgbase.Size(0,0);// marker size + arrowpadding + 2 * padding + markerpadding
var markerSize=10+12+2*10+5;contentSize.width=Math.max(contentSize.width,headerSize.width)+(shapes.length>0?markerSize:0);var heightPadding=12+2*10+(headerSize.height>0?2*10:0);contentSize.height=contentSize.height+headerSize.height+heightPadding;position=this.getCurrentPosition(isNegative,inverted);position=this.getPositionBySize(contentSize,new sf.svgbase.Rect(0,0,bounds.width,bounds.height),location,position);isNegative=position==='Left'||position==='Bottom';inverted=position==='Left'||position==='Right';}// else if (tooltipPosition !== 'None' && this.text.length <= 1) {
//     position = tooltipPosition as TooltipPlacement;
//     isNegative = (position === 'Left') || (position === 'Bottom');
//     inverted = (position === 'Left') || (position === 'Right');
// }
if(isFirst){this.svgTooltip=new sf.svgbase.Tooltip({opacity:chart.tooltip.opacity,header:this.headerText,content:this.text,fill:chart.tooltip.fill,border:chart.tooltip.border,enableAnimation:chart.tooltip.enableAnimation,location:location,shared:chart.tooltip.shared,shapes:shapes,clipBounds:this.chart.chartAreaType==='PolarRadar'?new ChartLocation(0,0):clipLocation,areaBounds:bounds,palette:this.findPalette(),template:customTemplate||chart.tooltip.template,data:templatePoint,theme:chart.theme,offset:offset,textStyle:chart.tooltip.textStyle,isNegative:isNegative,inverted:inverted,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:chart.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:chart.tooltip.enableTextWrap&&chart.getModuleName()==='chart',blazorTemplate:{name:'Template',parent:this.chart.tooltip},controlInstance:this.chart,tooltipPlacement:position,tooltipRender:function tooltipRender(){module.removeHighlight();module.highlightPoints();module.updatePreviousPoint(extraPoints);},animationComplete:function animationComplete(args){if(args.tooltip.fadeOuted){module.fadeOut(module.previousPoints);}}},'#'+this.element.id+'_tooltip');}else{if(this.svgTooltip){this.svgTooltip.location=location;this.svgTooltip.content=this.text;this.svgTooltip.header=this.headerText;this.svgTooltip.offset=offset;this.svgTooltip.palette=this.findPalette();this.svgTooltip.shapes=shapes;this.svgTooltip.data=templatePoint;this.svgTooltip.template=chart.tooltip.template;this.svgTooltip.textStyle=chart.tooltip.textStyle;this.svgTooltip.isNegative=isNegative;this.svgTooltip.inverted=inverted;this.svgTooltip.clipBounds=this.chart.chartAreaType==='PolarRadar'?new ChartLocation(0,0):clipLocation;this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12;this.svgTooltip.tooltipPlacement=position;this.svgTooltip.dataBind();}}// eslint-disable-next-line @typescript-eslint/no-explicit-any
if(this.chart.isReact){this.chart.renderReactTemplates();}};BaseTooltip.prototype.getPositionBySize=function(textSize,bounds,arrowLocation,position){var isTop=this.isTooltipFitPosition('Top',new sf.svgbase.Rect(0,0,bounds.width,bounds.height),arrowLocation,textSize);var isBottom=this.isTooltipFitPosition('Bottom',new sf.svgbase.Rect(0,0,bounds.width,bounds.height),arrowLocation,textSize);var isRight=this.isTooltipFitPosition('Right',new sf.svgbase.Rect(0,0,bounds.width,bounds.height),arrowLocation,textSize);var isLeft=this.isTooltipFitPosition('Left',new sf.svgbase.Rect(0,0,bounds.width,bounds.height),arrowLocation,textSize);var tooltipPos;if(isTop||isBottom||isRight||isLeft){if(position==='Top'){tooltipPos=isTop?'Top':isBottom?'Bottom':isRight?'Right':'Left';}else if(position==='Bottom'){tooltipPos=isBottom?'Bottom':isTop?'Top':isRight?'Right':'Left';}else if(position==='Right'){tooltipPos=isRight?'Right':isLeft?'Left':isTop?'Top':'Bottom';}else{tooltipPos=isLeft?'Left':isRight?'Right':isTop?'Top':'Bottom';}}else{var size=[arrowLocation.x-bounds.x,bounds.x+bounds.width-arrowLocation.x,arrowLocation.y-bounds.y,bounds.y+bounds.height-arrowLocation.y];var index=size.indexOf(Math.max.apply(this,size));position=index===0?'Left':index===1?'Right':index===2?'Top':'Bottom';return position;}return tooltipPos;};BaseTooltip.prototype.isTooltipFitPosition=function(position,bounds,location,size){var start=new ChartLocation(0,0);var end=new ChartLocation(0,0);switch(position){case'Top':start.x=location.x-size.width/2;start.y=location.y-size.height;end.x=location.x+size.width/2;end.y=location.y;break;case'Bottom':start.x=location.x-size.width/2;start.y=location.y;end.x=location.x+size.width/2;end.y=location.y+size.height;break;case'Right':start.x=location.x;start.y=location.y-size.height/2;end.x=location.x+size.width;end.y=location.y+size.height/2;break;case'Left':start.x=location.x-size.width;start.y=location.y-size.height/2;end.x=location.x;end.y=location.y+size.height/2;break;}return withInBounds(start.x,start.y,bounds)&&withInBounds(end.x,end.y,bounds);};BaseTooltip.prototype.getCurrentPosition=function(isNegative,inverted){var position;if(inverted){position=isNegative?'Left':'Right';}else{position=isNegative?'Bottom':'Top';}return position;};BaseTooltip.prototype.findPalette=function(){var colors=[];for(var _i=0,_a=this.currentPoints;_i<_a.length;_i++){var data=_a[_i];colors.push(this.findColor(data,data.series));}return colors;};BaseTooltip.prototype.findColor=function(data,series){if(series.isRectSeries&&(series.type==='Candle'||series.type==='Hilo'||series.type==='HiloOpenClose')){return data.point.color;}else{return(data.point.color&&data.point.color!=='#ffffff'?data.point.color:data.point.interior)||series.marker.fill||series.interior;}};BaseTooltip.prototype.updatePreviousPoint=function(extraPoints){if(extraPoints){this.currentPoints=this.currentPoints.concat(extraPoints);}this.previousPoints=sf.base.extend([],this.currentPoints,null,true);};BaseTooltip.prototype.fadeOut=function(data){var svgElement=this.chart.enableCanvas?this.getElement(this.element.id+'_tooltip_group'):this.getElement(this.element.id+'_tooltip_svg');var isTooltip=svgElement&&parseInt(svgElement.getAttribute('opacity'),10)>0;if(!isTooltip){this.valueX=null;this.valueY=null;this.currentPoints=[];this.removeHighlight();this.removeHighlightedMarker(data);this.svgTooltip=null;this.control.trigger('animationComplete',{});}};/*
    * @hidden
    */BaseTooltip.prototype.removeHighlightedMarker=function(data){if(this.chart.markerRender){for(var _i=0,data_1=data;_i<data_1.length;_i++){var item=data_1[_i];removeElement(this.element.id+'_Series_'+item.series.index+'_Point_'+item.point.index+'_Trackball');}this.chart.markerRender.removeHighlightedMarker();}this.previousPoints=[];};// public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {
//     let argsData: ITooltipRenderEventArgs = {
//         cancel: false, name: tooltipRender, text: textCollection,
//         point: point.point, series: point.series, textStyle: this.textStyle
//     };
//     this.chart.trigger(tooltipRender, argsData);
//     if (!argsData.cancel) {
//         if (point.series.type === 'BoxAndWhisker') {
//             this.removeText();
//             isFirst = true;
//         }
//         this.formattedText = this.formattedText.concat(argsData.text);
//         this.text = this.formattedText;
//     }
//     return !argsData.cancel;
// }
BaseTooltip.prototype.removeText=function(){this.textElements=[];var element=this.getElement(this.element.id+'_tooltip_group');if(element&&element.childNodes.length>0){while(element.lastChild&&element.childNodes.length!==1){element.removeChild(element.lastChild);}}};BaseTooltip.prototype.stopAnimation=function(){stopTimer(this.toolTipInterval);};/**
     * Removes the tooltip on mouse leave.
     *
     * @returns {void}
     * @private
     */BaseTooltip.prototype.removeTooltip=function(duration){var _this=this;var tooltipElement=this.getElement(this.element.id+'_tooltip');var tooltipTemplate=tooltipElement?this.getElement(tooltipElement.id+'parent_template'):null;var isTemplateRendered=tooltipTemplate&&tooltipTemplate.innerHTML!=='<div></div>';this.stopAnimation();// eslint-disable-next-line @typescript-eslint/no-explicit-any
if(this.chart.isReact&&isTemplateRendered){this.chart.clearTemplate([tooltipTemplate.id],[0]);}if(tooltipElement&&this.previousPoints.length>0){this.toolTipInterval=+setTimeout(function(){if(_this.svgTooltip){_this.svgTooltip.fadeOut();}},duration);}};return BaseTooltip;}(ChartData);var __extends$7=undefined&&undefined.__extends||function(){var _extendStatics8=function extendStatics(d,b){_extendStatics8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics8(d,b);};return function(d,b){_extendStatics8(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * @private
 */var StockEvents=/** @class */function(_super){__extends$7(StockEvents,_super);function StockEvents(stockChart){var _this=_super.call(this,stockChart.chart)||this;/** @private */_this.symbolLocations=[];_this.stockChart=stockChart;_this.chartId=_this.stockChart.element.id;return _this;}/**
     * To render stock events in chart
     *
     * @returns {Element} Stock event element
     * @private
     */StockEvents.prototype.renderStockEvents=function(){var sChart=this.stockChart;var stockEvent;var stockEventElement;var textSize;// Creation of group elements for stock events
var stockEventsElementGroup=sChart.renderer.createGroup({id:this.chartId+'_StockEvents'});this.symbolLocations=initialArray(sChart.series.length,sChart.stockEvents.length,new ChartLocation(0,0));for(var i=0;i<sChart.stockEvents.length;i++){stockEvent=this.stockChart.stockEvents[i];for(var _i=0,_a=sChart.chart.series;_i<_a.length;_i++){var series=_a[_i];var argsData={name:stockEventRender,stockChart:sChart,text:stockEvent.text,type:stockEvent.type,cancel:false,series:series};sChart.trigger(stockEventRender,argsData);stockEvent.text=argsData.text;stockEvent.type=argsData.type;textSize=sf.svgbase.measureText(stockEvent.text+'W',stockEvent.textStyle);if(!argsData.cancel){stockEventElement=sChart.renderer.createGroup({id:this.chartId+'_Series_'+series.index+'_StockEvents_'+i});var stockEventDate=this.stockChart.isBlazor?Date.parse(stockEvent.date.toString()):this.dateParse(stockEvent.date).getTime();if(withIn(stockEventDate,series.xAxis.visibleRange)){if(stockEvent.seriesIndexes.length>0){for(var j=0;j<stockEvent.seriesIndexes.length;j++){if(stockEvent.seriesIndexes[j]===series.index){stockEventsElementGroup.appendChild(this.creatEventGroup(stockEventElement,series,stockEvent,i,textSize));}}}else{stockEventsElementGroup.appendChild(this.creatEventGroup(stockEventElement,series,stockEvent,i,textSize));}}}}}return stockEventsElementGroup;};StockEvents.prototype.creatEventGroup=function(stockEventElement,series,stockEvent,i,textSize){var symbolLocation=this.findClosePoint(series,stockEvent);if(!stockEvent.showOnSeries){symbolLocation.y=series.yAxis.rect.y+series.yAxis.rect.height;}this.symbolLocations[series.index][i]=symbolLocation;this.createStockElements(stockEventElement,stockEvent,series,i,symbolLocation,textSize);return stockEventElement;};StockEvents.prototype.findClosePoint=function(series,sEvent){var stockEventDate=this.stockChart.isBlazor?Date.parse(sEvent.date.toString()):this.dateParse(sEvent.date).getTime();var closeIndex=this.getClosest(series,stockEventDate);var pointData;var point;var yPixel;for(var k=0;k<series.points.length;k++){point=series.points[k];if(closeIndex===point.xValue&&point.visible){pointData=new PointData(point,series);}else if(k!==0&&k!==series.points.length){if(closeIndex>series.points[k-1].xValue&&closeIndex<series.points[k+1].xValue){pointData=new PointData(point,series);}}}var xPixel=series.xAxis.rect.x+valueToCoefficient(pointData.point.xValue,series.xAxis)*series.xAxis.rect.width;yPixel=valueToCoefficient(pointData.point[sEvent.placeAt],series.yAxis)*series.yAxis.rect.height;yPixel=yPixel*-1+(series.yAxis.rect.y+series.yAxis.rect.height);return new ChartLocation(xPixel,yPixel);};StockEvents.prototype.createStockElements=function(stockEventElement,stockEve,series,i,symbolLocation,textSize){var result=new sf.svgbase.Size(textSize.width>20?textSize.width:20,textSize.height>20?textSize.height:20);var pathString;var pathOption;var lx=symbolLocation.x;var ly=symbolLocation.y;var stockId=this.chartId+'_Series_'+series.index+'_StockEvents_'+i;var border=stockEve.border;switch(stockEve.type){case'Flag':case'Circle':case'Square':stockEventElement.appendChild(drawSymbol(new ChartLocation(lx,ly),'Circle',new sf.svgbase.Size(2,2),'',new sf.svgbase.PathOption(stockId+'_Circle','transparent',border.width,border.color),this.dateParse(stockEve.date).toISOString()));stockEventElement.appendChild(drawSymbol(new ChartLocation(lx,ly-5),'VerticalLine',new sf.svgbase.Size(9,9),'',new sf.svgbase.PathOption(stockId+'_Path',border.color,border.width,border.color),this.dateParse(stockEve.date).toISOString()));stockEventElement.appendChild(drawSymbol(new ChartLocation(stockEve.type!=='Flag'?lx:lx+result.width/2,ly-result.height),stockEve.type,result,'',new sf.svgbase.PathOption(stockId+'_Shape',stockEve.background,border.width,border.color),this.dateParse(stockEve.date).toISOString()));textElement(this.stockChart.renderer,new sf.svgbase.TextOption(stockId+'_Text',stockEve.type!=='Flag'?symbolLocation.x:symbolLocation.x+result.width/2,symbolLocation.y-result.height,'middle',stockEve.text,'','middle'),stockEve.textStyle,stockEve.textStyle.color,stockEventElement);break;case'ArrowUp':case'ArrowDown':case'ArrowRight':case'ArrowLeft':pathString='M'+' '+lx+' '+ly+' '+this.findArrowpaths(stockEve.type);pathOption=new sf.svgbase.PathOption(stockId+'_Shape',stockEve.background,border.width,border.color,1,'',pathString);stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));break;case'Triangle':case'InvertedTriangle':result.height=3*textSize.height;result.width=textSize.width+1.5*textSize.width;stockEventElement.appendChild(drawSymbol(new ChartLocation(symbolLocation.x,symbolLocation.y),stockEve.type,new sf.svgbase.Size(20,20),'',new sf.svgbase.PathOption(stockId+'_Shape',stockEve.background,border.width,border.color),this.dateParse(stockEve.date).toISOString()));textElement(this.stockChart.renderer,new sf.svgbase.TextOption(stockId+'_Text',symbolLocation.x,symbolLocation.y,'middle',stockEve.text,'','middle'),stockEve.textStyle,stockEve.textStyle.color,stockEventElement);break;case'Text':textSize.height+=8;//padding for text height
pathString='M'+' '+lx+' '+ly+' '+'L'+' '+(lx-5)+' '+(ly-5)+' '+'L'+' '+(lx-textSize.width/2)+' '+(ly-5)+' '+'L'+' '+(lx-textSize.width/2)+' '+(ly-textSize.height)+' '+'L'+' '+(lx+textSize.width/2)+' '+(ly-textSize.height)+' '+'L'+' '+(lx+textSize.width/2)+' '+(ly-5)+' '+'L'+' '+(lx+5)+' '+(ly-5)+' '+'Z';pathOption=new sf.svgbase.PathOption(stockId+'_Shape',stockEve.background,border.width,border.color,1,'',pathString);stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));textElement(this.stockChart.renderer,new sf.svgbase.TextOption(stockId+'_Text',lx,ly-textSize.height/2,'middle',stockEve.text,'','middle'),stockEve.textStyle,stockEve.textStyle.color,stockEventElement);break;default://pin type calculation.
pathString='M'+' '+lx+' '+ly+' '+'L'+' '+(lx-textSize.width/2)+' '+(ly-textSize.height/3)+' '+'L'+' '+(lx-textSize.width/2)+' '+(ly-textSize.height)+' '+'L'+' '+(lx+textSize.width/2)+' '+(ly-textSize.height)+' '+'L'+' '+(lx+textSize.width/2)+' '+(ly-textSize.height/3)+' '+'Z';pathOption=new sf.svgbase.PathOption(stockId+'_Shape',stockEve.background,border.width,border.color,1,'',pathString);stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));//append text element
textElement(this.stockChart.renderer,new sf.svgbase.TextOption(stockId+'_Text',lx,ly-textSize.height/2,'middle',stockEve.text,'','middle'),stockEve.textStyle,stockEve.textStyle.color,stockEventElement);}};StockEvents.prototype.renderStockEventTooltip=function(targetId){var seriesIndex=parseInt(targetId.split('_StockEvents_')[0].split(this.chartId+'_Series_')[1],10);var pointIndex=parseInt(targetId.split('_StockEvents_')[1].replace(/\D+/g,''),10);var updatedLocation=this.symbolLocations[seriesIndex][pointIndex];var pointLocation=new ChartLocation(updatedLocation.x,updatedLocation.y+this.stockChart.toolbarHeight+this.stockChart.titleSize.height);this.applyHighLights(pointIndex,seriesIndex);//title size and toolbar height is added location for placing tooltip
var svgElement=this.getElement(this.chartId+'_StockEvents_Tooltip_svg');var isTooltip=svgElement&&parseInt(svgElement.getAttribute('opacity'),10)>0;if(!isTooltip){if(getElement$1(this.chartId+'_StockEvents_Tooltip_svg')){sf.base.remove(getElement$1(this.chartId+'_StockEvents_Tooltip'));}var tooltipElement=sf.base.createElement('div',{id:this.chartId+'_StockEvents_Tooltip',className:'ejSVGTooltip',attrs:{'style':'pointer-events:none; position:absolute;z-index: 1'}});getElement$1(this.chartId+'_Secondary_Element').appendChild(tooltipElement);this.stockEventTooltip=new sf.svgbase.Tooltip({opacity:1,header:'',content:[this.stockChart.stockEvents[pointIndex].description],enableAnimation:true,location:pointLocation,theme:this.stockChart.theme,inverted:true,areaBounds:this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect});this.stockEventTooltip.areaBounds.y+=this.stockChart.toolbarHeight+this.stockChart.titleSize.height;this.stockEventTooltip.appendTo('#'+tooltipElement.id);}else{this.stockEventTooltip.content=[this.stockChart.stockEvents[pointIndex].description];this.stockEventTooltip.location=pointLocation;this.stockEventTooltip.dataBind();}};/**
     * Remove the stock event tooltip
     *
     * @param {number} duration tooltip timeout duration
     * @returns {void}
     */StockEvents.prototype.removeStockEventTooltip=function(duration){var _this=this;var tooltipElement=this.getElement(this.chartId+'_StockEvents_Tooltip');this.stopAnimation();if(tooltipElement&&this.stockEventTooltip){this.toolTipInterval=+setTimeout(function(){_this.stockEventTooltip.fadeOut();_this.removeHighLights();},duration);}};StockEvents.prototype.findArrowpaths=function(type){var arrowString='';switch(type){case'ArrowUp':arrowString='l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z';break;case'ArrowDown':arrowString='l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z';break;case'ArrowLeft':arrowString='l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z';break;case'ArrowRight':arrowString='l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z';break;}return arrowString;};StockEvents.prototype.applyHighLights=function(pointIndex,seriesIndex){if(this.pointIndex!==pointIndex||this.seriesIndex!==seriesIndex){this.removeHighLights();}this.pointIndex=pointIndex;this.seriesIndex=seriesIndex;var stockId=this.chartId+'_Series_'+seriesIndex+'_StockEvents_'+pointIndex;this.setOpacity(stockId+'_Shape',0.5);this.setOpacity(stockId+'_Text',0.5);};StockEvents.prototype.removeHighLights=function(){var stockId=this.chartId+'_Series_'+this.seriesIndex+'_StockEvents_'+this.pointIndex;this.setOpacity(stockId+'_Shape',1);this.setOpacity(stockId+'_Text',1);};StockEvents.prototype.setOpacity=function(elementId,opacity){if(getElement$1(elementId)){getElement$1(elementId).setAttribute('opacity',opacity.toString());}};/**
     * To convert the c# or javascript date formats into js format
     * refer chart control's dateTime processing.
     *
     * @param {Date | string} value date or string value
     * @returns {Date} date format value
     */StockEvents.prototype.dateParse=function(value){var dateParser=this.chart.intl.getDateParser({skeleton:'full',type:'dateTime'});var dateFormatter=this.chart.intl.getDateFormat({skeleton:'full',type:'dateTime'});return new Date(Date.parse(dateParser(dateFormatter(new Date(sf.data.DataUtil.parse.parseJson({val:value}).val)))));};return StockEvents;}(BaseTooltip);// eslint-disable-next-line valid-jsdoc
/**
 * To initialthe array
 *
 * @param {number} numrows numrows
 * @param {number} numcols numcols
 * @param {ChartLocation} initial initial
 * @returns {ChartLocation[][]} ChartLocation
 */function initialArray(numrows,numcols,initial){var arr=[];for(var i=0;i<numrows;++i){var columns=[];for(var j=0;j<numcols;++j){columns[j]=initial;}arr[i]=columns;}return arr;}var __extends=undefined&&undefined.__extends||function(){var _extendStatics9=function extendStatics(d,b){_extendStatics9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics9(d,b);};return function(d,b){_extendStatics9(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /**
 * Stock Chart
 */var StockChart=/** @class */function(_super){__extends(StockChart,_super);/**
     * Constructor for creating the widget
     *
     * @hidden
     */function StockChart(options,element){var _this=_super.call(this,options,element)||this;/** @private */_this.isSingleAxis=false;_this.chartid=57723;_this.tempSeriesType=[];/** private */_this.zoomChange=false;/** @private */_this.allowPan=false;/** @private  */_this.onPanning=false;/** @private */_this.trendlinetriggered=true;/** @private */_this.initialRender=true;/** @private */_this.rangeFound=false;/** @private */_this.tempPeriods=[];_this.toolbarHeight=_this.enablePeriodSelector?sf.base.Browser.isDevice?56:42:0;return _this;}/**
     * Called internally if any of the property value changed.
     *
     * @private
     */ // eslint-disable-next-line
StockChart.prototype.onPropertyChanged=function(newProp,oldProp){// on property changes
for(var _i=0,_a=Object.keys(newProp);_i<_a.length;_i++){var property=_a[_i];switch(property){case'series':this.render();break;}}};/**
     * To change the range for chart
     */StockChart.prototype.rangeChanged=function(updatedStart,updatedEnd){// manage chart refresh
var chartElement=document.getElementById(this.chartObject.id);if(chartElement){while(chartElement.firstChild){chartElement.removeChild(chartElement.firstChild);}}this.startValue=updatedStart;this.endValue=updatedEnd;this.cartesianChart.initializeChart();this.periodSelector.datePicker.startDate=new Date(updatedStart);this.periodSelector.datePicker.endDate=new Date(updatedEnd);this.periodSelector.datePicker.dataBind();};/**
     * Pre render for financial Chart
     */StockChart.prototype.preRender=function(){var blazor='Blazor';this.isBlazor=window[blazor];this.unWireEvents();this.initPrivateVariable();this.allowServerDataBinding=false;this.isProtectedOnChange=true;this.setCulture();this.wireEvents();};/**
     * Method to bind events for chart
     */StockChart.prototype.unWireEvents=function(){/*! Find the Events type */var startEvent=sf.base.Browser.touchStartEvent;var moveEvent=sf.base.Browser.touchMoveEvent;var stopEvent=sf.base.Browser.touchEndEvent;var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';/*! UnBind the Event handler */sf.base.EventHandler.remove(this.element,startEvent,this.stockChartOnMouseDown);sf.base.EventHandler.remove(this.element,moveEvent,this.stockChartOnMouseMove);sf.base.EventHandler.remove(this.element,stopEvent,this.stockChartMouseEnd);sf.base.EventHandler.remove(this.element,'click',this.stockChartOnMouseClick);sf.base.EventHandler.remove(this.element,'contextmenu',this.stockChartRightClick);sf.base.EventHandler.remove(this.element,cancelEvent,this.stockChartOnMouseLeave);window.removeEventListener(sf.base.Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.stockChartResize);};StockChart.prototype.wireEvents=function(){/*! Find the Events type */var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';/*! Bind the Event handler */sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.stockChartOnMouseDown,this);sf.base.EventHandler.add(this.element,sf.base.Browser.touchMoveEvent,this.stockChartOnMouseMove,this);sf.base.EventHandler.add(this.element,sf.base.Browser.touchEndEvent,this.stockChartMouseEnd,this);sf.base.EventHandler.add(this.element,'click',this.stockChartOnMouseClick,this);sf.base.EventHandler.add(this.element,'contextmenu',this.stockChartRightClick,this);sf.base.EventHandler.add(this.element,cancelEvent,this.stockChartOnMouseLeave,this);window.addEventListener(sf.base.Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.stockChartResize.bind(this));this.setStyle(this.element);};StockChart.prototype.initPrivateVariable=function(){if(this.element.id===''){var collection=document.getElementsByClassName('e-stockChart').length;this.element.id='stockChart_'+this.chartid+'_'+collection;}this.seriesXMax=null;this.seriesXMin=null;this.startValue=null;this.endValue=null;this.currentEnd=null;};/**
     * Method to set culture for chart
     */StockChart.prototype.setCulture=function(){this.intl=new sf.base.Internationalization();};StockChart.prototype.storeDataSource=function(){for(var i=0;i<this.series.length;i++){var series=this.series[i];this.tempSeriesType.push(series.type);series.localData=undefined;}if(this.series.length===0){this.series.push({});}this.initialRender=true;this.rangeFound=false;this.resizeTo=null;this.startValue=null;this.endValue=null;};/**
     * To Initialize the control rendering.
     */StockChart.prototype.render=function(){var _this=this;var loadEventData={name:'load',stockChart:this.isBlazor?{}:this,theme:this.theme};this.trigger('load',loadEventData,function(){_this.theme=_this.isBlazor?loadEventData.theme:_this.theme;_this.stockChartTheme=getThemeColor(_this.theme);_this.storeDataSource();_this.drawSVG();_this.renderTitle();_this.chartModuleInjection();_this.chartRender();if(!(_this.dataSource instanceof sf.data.DataManager)||!(_this.series[0].dataSource instanceof sf.data.DataManager)){_this.stockChartDataManagerSuccess();_this.initialRender=false;}_this.renderComplete();_this.allowServerDataBinding=true;_this.isProtectedOnChange=false;});};/**
     * DataManager Success
     */StockChart.prototype.stockChartDataManagerSuccess=function(){this.findRange();this.renderRangeSelector();this.renderPeriodSelector();this.trigger('loaded',{stockChart:this.isBlazor?{}:this});};/**
     * To set styles to resolve mvc width issue.
     *
     * @param {HTMLElement} element html element
     */StockChart.prototype.setStyle=function(element){var zooming=this.zoomSettings;var disableScroll=zooming.enableSelectionZooming||zooming.enablePinchZooming||this.selectionMode!=='None'||this.crosshair.enable;element.style.msTouchAction=disableScroll?'none':'element';element.style.touchAction=disableScroll?'none':'element';element.style.msUserSelect='none';element.style.msContentZooming='none';element.style.position='relative';element.style.display='block';element.style.webkitUserSelect='none';};StockChart.prototype.drawSVG=function(){this.removeSvg();calculateSize(this);this.renderer=new sf.svgbase.SvgRenderer(this.element.id);this.renderBorder();this.createSecondaryElements();//overall svg in which chart and selector appened
this.mainObject=this.renderer.createSvg({id:this.element.id+'_stockChart_svg',width:this.availableSize.width,height:this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-this.titleSize.height});this.svgObject=this.mainObject;this.element.appendChild(this.mainObject);};StockChart.prototype.createSecondaryElements=function(){var tooltipDiv=redrawElement(false,this.element.id+'_Secondary_Element')||this.createElement('div');tooltipDiv.id=this.element.id+'_Secondary_Element';if(this.title){this.titleSize=sf.svgbase.measureText(this.title,this.titleStyle);this.titleSize.height+=15;// for title padding
}else{this.titleSize={height:null,width:null};}var height=(this.enablePeriodSelector?this.toolbarHeight:0)+this.titleSize.height;tooltipDiv.setAttribute('style','position: relative; height:'+height+'px');appendChildElement(false,this.element,tooltipDiv,false);};StockChart.prototype.findCurrentData=function(totalData,xName){var _this=this;var tempData;if(totalData&&this.startValue&&this.endValue){tempData=totalData.filter(function(data){return new Date(Date.parse(data[xName])).getTime()>=_this.startValue&&new Date(Date.parse(data[xName])).getTime()<=_this.endValue;});}return tempData;};/**
     * Render period selector
     */StockChart.prototype.renderPeriodSelector=function(){if(this.enablePeriodSelector){this.toolbarSelector.initializePeriodSelector();this.periodSelector.toolbar.refreshOverflow();//to avoid overlapping toolbar elements
if(!this.enableSelector){this.cartesianChart.cartesianChartRefresh(this);}}};StockChart.prototype.chartRender=function(){this.cartesianChart=new CartesianChart(this);this.cartesianChart.initializeChart();};/**
     * To render range Selector
     */StockChart.prototype.renderRangeSelector=function(){//SVG in which range navigator is going to append
if(this.enableSelector){this.rangeSelector=new RangeSelector(this);this.rangeSelector.initializeRangeNavigator();}};/**
     * Get component name
     */StockChart.prototype.getModuleName=function(){return'stockChart';};/**
     * Get the properties to be maintained in the persisted state.
     *
     * @private
     */StockChart.prototype.getPersistData=function(){return'';};/**
     * To Remove the SVG.
     *
     * @returns {void}
     * @private
     */StockChart.prototype.removeSvg=function(){if(document.getElementById(this.element.id+'_Secondary_Element')){sf.base.remove(document.getElementById(this.element.id+'_Secondary_Element'));}var removeLength=0;if(this.mainObject){while(this.mainObject.childNodes.length>removeLength){this.mainObject.removeChild(this.mainObject.firstChild);}if(!this.mainObject.hasChildNodes()&&this.mainObject.parentNode){sf.base.remove(this.mainObject);this.mainObject=null;this.selectorObject=null;this.chartObject=null;}}};/**
     * Module Injection for components
     */StockChart.prototype.chartModuleInjection=function(){var moduleName;for(var _i=0,_a=this.getInjectedModules();_i<_a.length;_i++){var modules=_a[_i];moduleName=modules.prototype.getModuleName().toLowerCase();if(moduleName.indexOf('rangetooltip')===-1){sf.charts.Chart.Inject(modules);}else{sf.charts.RangeNavigator.Inject(modules);}if(moduleName==='datetime'||moduleName==='areaseries'||moduleName==='steplineseries'){sf.charts.RangeNavigator.Inject(modules);}}};/**
     * find range for financal chart
     */StockChart.prototype.findRange=function(){var _this=this;this.seriesXMin=Infinity;this.seriesXMax=-Infinity;for(var _i=0,_a=this.chart.series;_i<_a.length;_i++){var value=_a[_i];if(value.visible){this.seriesXMin=Math.min(this.seriesXMin,value.xMin);this.seriesXMax=Math.max(this.seriesXMax,value.xMax);}}this.endValue=this.currentEnd=this.seriesXMax;if(this.enablePeriodSelector){this.toolbarSelector=new ToolBarSelector(this);this.periodSelector=new PeriodSelector(this);this.tempPeriods=this.periods.length?this.periods:this.toolbarSelector.calculateAutoPeriods();this.tempPeriods.map(function(period){if(period.selected&&period.text.toLowerCase()==='ytd'){_this.startValue=new Date(new Date(_this.currentEnd).getFullYear().toString()).getTime();}else if(period.selected&&period.text.toLowerCase()==='all'){_this.startValue=_this.seriesXMin;}else if(period.selected){_this.startValue=_this.periodSelector.changedRange(period.intervalType,_this.endValue,period.interval).getTime();}});}else{this.startValue=this.seriesXMin;}this.rangeFound=true;};/**
     * Handles the chart resize.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartResize=function(){var _this=this;// To avoid resize console error
if(!document.getElementById(this.element.id)){return false;}this.animateSeries=false;if(this.resizeTo){clearTimeout(this.resizeTo);}this.resizeTo=+setTimeout(function(){calculateSize(_this);_this.renderBorder();_this.renderTitle();_this.cartesianChart.cartesianChartRefresh(_this);_this.mainObject.setAttribute('width',_this.availableSize.width.toString());if(_this.enablePeriodSelector){_this.renderPeriodSelector();}},500);return false;};/**
     * Handles the mouse down on chart.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartOnMouseDown=function(e){var pageX;var pageY;var target;var touchArg;var rect=this.chart.element.getBoundingClientRect();var element=e.target;this.trigger('stockChartMouseDown',{target:element.id,x:this.mouseX,y:this.mouseY});if(e.type==='touchstart'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;target=touchArg.target;pageY=touchArg.changedTouches[0].clientY;}else{this.isTouch=e.pointerType==='touch';pageX=e.clientX;pageY=e.clientY;target=e.target;}if(target.id.indexOf(this.element.id+'_stockChart_chart')>-1){var svgRect=getElement$1(this.element.id+'_stockChart_chart').getBoundingClientRect();this.mouseDownY=this.previousMouseMoveY=pageY-rect.top-Math.max(svgRect.top-rect.top,0);this.mouseDownX=this.previousMouseMoveX=pageX-rect.left-Math.max(svgRect.left-rect.left,0);this.setMouseXY(this.mouseDownX,this.mouseDownY);this.referenceXAxis=this.chart.primaryXAxis;getElement$1(this.element.id+'_stockChart_chart').setAttribute('cursor','pointer');this.mouseDownXPoint=getRangeValueXByPoint(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed);this.allowPan=true;this.notify(sf.base.Browser.touchStartEvent,e);}return false;};/**
     * Handles the mouse up.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartMouseEnd=function(e){var pageY;var pageX;var touchArg;if(e.type==='touchend'){touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;this.isTouch=true;}else{pageY=e.clientY;pageX=e.clientX;this.isTouch=e.pointerType==='touch'||e.pointerType==='2';}getElement$1(this.element.id+'_stockChart_chart').setAttribute('cursor','auto');this.onPanning=false;this.setMouseXY(pageX,pageY);this.stockChartOnMouseUp(e);return false;};/**
     * Handles the mouse up.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartOnMouseUp=function(e){var element=e.target;this.trigger('stockChartMouseUp',{target:element.id,x:this.mouseX,y:this.mouseY});this.isChartDrag=false;this.allowPan=false;if(this.isTouch){this.threshold=new Date().getTime()+300;}this.notify(sf.base.Browser.touchEndEvent,e);if(this.stockEvent){this.stockEvent.removeStockEventTooltip(0);}return false;};/**
     * To find mouse x, y for aligned chart element svg position
     */StockChart.prototype.setMouseXY=function(pageX,pageY){var svgRectElement=getElement$1(this.element.id+'_stockChart_chart');if(this.element&&svgRectElement){var stockRect=this.element.getBoundingClientRect();var svgRect=svgRectElement.getBoundingClientRect();this.mouseX=pageX-stockRect.left-Math.max(svgRect.left-stockRect.left,0);this.mouseY=pageY-stockRect.top-Math.max(svgRect.top-stockRect.top,0);}};/**
     * Handles the mouse move.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartOnMouseMove=function(e){var pageX;var touchArg;var pageY;if(e.type==='touchmove'){this.isTouch=true;touchArg=e;pageY=touchArg.changedTouches[0].clientY;pageX=touchArg.changedTouches[0].clientX;}else{this.isTouch=e.pointerType==='touch'||e.pointerType==='2'||this.isTouch;pageX=e.clientX;pageY=e.clientY;}this.trigger('stockChartMouseMove',{target:e.target.id,x:this.mouseX,y:this.mouseY});if(getElement$1(this.element.id+'_stockChart_chart')){this.setMouseXY(pageX,pageY);this.chartOnMouseMove(e);}return false;};/**
     * Handles the mouse move on chart.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.chartOnMouseMove=function(e){if(this.allowPan&&this.mouseDownXPoint&&this.mouseX!==this.previousMouseMoveX&&this.zoomSettings.enablePan){this.onPanning=true;getElement$1(this.element.id+'_stockChart_chart').setAttribute('cursor','pointer');this.mouseUpXPoint=getRangeValueXByPoint(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed);var diff=Math.abs(this.mouseUpXPoint-this.mouseDownXPoint);if(this.mouseDownXPoint<this.mouseUpXPoint){if(this.seriesXMin<=this.referenceXAxis.visibleRange.min-diff){this.startValue=this.referenceXAxis.visibleRange.min-diff;this.endValue=this.referenceXAxis.visibleRange.max-diff;this.cartesianChart.cartesianChartRefresh(this);this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min-diff,this.referenceXAxis.visibleRange.max-diff);}}else{if(this.seriesXMax>=this.referenceXAxis.visibleRange.max+diff){this.startValue=this.referenceXAxis.visibleRange.min+diff;this.endValue=this.referenceXAxis.visibleRange.max+diff;this.cartesianChart.cartesianChartRefresh(this);this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min+diff,this.referenceXAxis.visibleRange.max+diff);}}}this.notify(sf.base.Browser.touchMoveEvent,e);if(e.target.id===''){//to remove the tooltip when hover on mouse move
var element=void 0;if(this.chart.tooltip.enable||this.crosshair.enable){element=document.getElementById(this.element.id+'_stockChart_chart_tooltip');if(element){sf.base.remove(element);}}if(getElement$1(this.element.id+'_StockEvents_Tooltip')){this.stockEvent.removeStockEventTooltip(0);}}if(e.target.id.indexOf('StockEvents')!==-1){clearInterval(this.stockEvent.toolTipInterval);this.stockEvent.renderStockEventTooltip(e.target.id);}else{if(this.stockEvent){this.stockEvent.removeStockEventTooltip(1000);}}this.isTouch=false;return false;};/**
     * Handles the mouse click on chart.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartOnMouseClick=function(e){var element=e.target;this.trigger('stockChartMouseClick',{target:element.id,x:this.mouseX,y:this.mouseY});this.notify('click',e);return false;};StockChart.prototype.stockChartRightClick=function(event){if(this.crosshair.enable&&(event.buttons===2||event.which===0||event.pointerType==='touch')){event.preventDefault();event.stopPropagation();return false;}return true;};/**
     * Handles the mouse leave.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartOnMouseLeave=function(e){var touchArg;var pageX;var pageY;if(e.type==='touchleave'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;}else{pageX=e.clientX;pageY=e.clientY;this.isTouch=e.pointerType==='touch'||e.pointerType==='2';}this.setMouseXY(pageX,pageY);this.allowPan=false;this.stockChartOnMouseLeaveEvent(e);return false;};/**
     * Handles the mouse leave on chart.
     *
     * @returns {boolean} false
     * @private
     */StockChart.prototype.stockChartOnMouseLeaveEvent=function(e){var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';//this.trigger(chartMouseLeave, { target: element.id, x: this.mouseX, y: this.mouseY });
this.isChartDrag=false;this.notify(cancelEvent,e);if(this.stockEvent){this.stockEvent.removeStockEventTooltip(1000);}return false;};/**
     * Destroy method
     */StockChart.prototype.destroy=function(){//Perform destroy here
};StockChart.prototype.renderBorder=function(){if(this.border.width){var border=this.createElement('div');border.id=this.element.id+'_stock_border';border.style.width=this.availableSize.width+'px';border.style.height=this.availableSize.height+'px';border.style.position='absolute';border.style.border=this.border.width+'px solid '+this.border.color;border.style.pointerEvents='none';appendChildElement(false,getElement$1(this.element.id),border);}};/**
     * Render title for chart
     */StockChart.prototype.renderTitle=function(){var rect;if(this.title){appendChildElement(false,getElement$1(this.element.id+'_Secondary_Element'),this.renderer.createSvg({id:this.element.id+'_stockChart_Title',width:this.availableSize.width,height:this.titleSize.height,fill:this.background||this.stockChartTheme.background}),false);var alignment=this.titleStyle.textAlignment;var getAnchor=alignment==='Near'?'start':alignment==='Far'?'end':'middle';rect=new sf.svgbase.Rect(0,0,this.availableSize.width,0);var options=new sf.svgbase.TextOption(this.element.id+'_ChartTitle',titlePositionX(rect,this.titleStyle),this.titleSize.height-10,getAnchor,this.title,'','auto');textElement(this.renderer,options,this.titleStyle,this.titleStyle.color||this.findTitleColor(),getElement$1(this.element.id+'_stockChart_Title'),false,false);this.availableSize.height-=this.titleSize.height+5;}};StockChart.prototype.findTitleColor=function(){if(this.theme.toLocaleLowerCase().indexOf('highcontrast')>-1||this.theme.indexOf('Dark')>-1){return'#ffffff';}return'#424242';};/**
     * @private
     */StockChart.prototype.calculateStockEvents=function(){if(this.stockEvents.length){this.stockEvent=new StockEvents(this);appendChildElement(false,this.chartObject,this.stockEvent.renderStockEvents());}};__decorate([sf.base.Property(null)],StockChart.prototype,"width",void 0);__decorate([sf.base.Property(null)],StockChart.prototype,"height",void 0);__decorate([sf.base.Property('')],StockChart.prototype,"dataSource",void 0);__decorate([sf.base.Complex({},StockMargin)],StockChart.prototype,"margin",void 0);__decorate([sf.base.Complex({color:'#DDDDDD',width:1},StockChartBorder)],StockChart.prototype,"border",void 0);__decorate([sf.base.Property(null)],StockChart.prototype,"background",void 0);__decorate([sf.base.Property('Material')],StockChart.prototype,"theme",void 0);__decorate([sf.base.Complex({name:'primaryXAxis',valueType:'DateTime'},StockChartAxis)],StockChart.prototype,"primaryXAxis",void 0);__decorate([sf.base.Complex({border:{color:null,width:0.5},background:'transparent'},StockChartArea)],StockChart.prototype,"chartArea",void 0);__decorate([sf.base.Complex({name:'primaryYAxis',opposedPosition:true,labelPosition:'Inside'},StockChartAxis)],StockChart.prototype,"primaryYAxis",void 0);__decorate([sf.base.Collection([{}],StockChartRow)],StockChart.prototype,"rows",void 0);__decorate([sf.base.Collection([{opposedPosition:true}],StockChartAxis)],StockChart.prototype,"axes",void 0);__decorate([sf.base.Collection([],StockSeries)],StockChart.prototype,"series",void 0);__decorate([sf.base.Collection([],StockEventsSettings)],StockChart.prototype,"stockEvents",void 0);__decorate([sf.base.Property(false)],StockChart.prototype,"isTransposed",void 0);__decorate([sf.base.Property('')],StockChart.prototype,"title",void 0);__decorate([sf.base.Complex({size:'15px',fontWeight:'500',color:null,fontStyle:'Normal',fontFamily:'Segoe UI'},StockChartFont)],StockChart.prototype,"titleStyle",void 0);__decorate([sf.base.Collection([],StockChartIndicator)],StockChart.prototype,"indicators",void 0);__decorate([sf.base.Complex({shared:true,enableMarker:false},TooltipSettings)],StockChart.prototype,"tooltip",void 0);__decorate([sf.base.Complex({dashArray:'5'},sf.charts.CrosshairSettings)],StockChart.prototype,"crosshair",void 0);__decorate([sf.base.Complex({},sf.charts.ZoomSettings)],StockChart.prototype,"zoomSettings",void 0);__decorate([sf.base.Property(true)],StockChart.prototype,"enablePeriodSelector",void 0);__decorate([sf.base.Property(true)],StockChart.prototype,"enableCustomRange",void 0);__decorate([sf.base.Property(false)],StockChart.prototype,"isSelect",void 0);__decorate([sf.base.Property(true)],StockChart.prototype,"enableSelector",void 0);__decorate([sf.base.Collection([],Periods)],StockChart.prototype,"periods",void 0);__decorate([sf.base.Collection([{}],StockChartAnnotationSettings)],StockChart.prototype,"annotations",void 0);__decorate([sf.base.Event()],StockChart.prototype,"selectorRender",void 0);__decorate([sf.base.Event()],StockChart.prototype,"stockChartMouseMove",void 0);__decorate([sf.base.Event()],StockChart.prototype,"stockChartMouseLeave",void 0);__decorate([sf.base.Event()],StockChart.prototype,"stockChartMouseDown",void 0);__decorate([sf.base.Event()],StockChart.prototype,"stockChartMouseUp",void 0);__decorate([sf.base.Event()],StockChart.prototype,"stockChartMouseClick",void 0);__decorate([sf.base.Event()],StockChart.prototype,"pointClick",void 0);__decorate([sf.base.Event()],StockChart.prototype,"pointMove",void 0);__decorate([sf.base.Event()],StockChart.prototype,"onZooming",void 0);__decorate([sf.base.Property('None')],StockChart.prototype,"selectionMode",void 0);__decorate([sf.base.Property(false)],StockChart.prototype,"isMultiSelect",void 0);__decorate([sf.base.Event()],StockChart.prototype,"load",void 0);__decorate([sf.base.Event()],StockChart.prototype,"loaded",void 0);__decorate([sf.base.Event()],StockChart.prototype,"rangeChange",void 0);__decorate([sf.base.Event()],StockChart.prototype,"axisLabelRender",void 0);__decorate([sf.base.Event()],StockChart.prototype,"tooltipRender",void 0);__decorate([sf.base.Event()],StockChart.prototype,"seriesRender",void 0);__decorate([sf.base.Event()],StockChart.prototype,"stockEventRender",void 0);__decorate([sf.base.Collection([],StockChartIndexes)],StockChart.prototype,"selectedDataIndexes",void 0);__decorate([sf.base.Property(['Line','Hilo','OHLC','Hollow Candle','Spline','Candle'])],StockChart.prototype,"seriesType",void 0);__decorate([sf.base.Property(['EMA','TMA','SMA','Momentum','ATR','Accumulation Distribution','Bollinger Bands','MACD','Stochastic','RSI'])],StockChart.prototype,"indicatorType",void 0);__decorate([sf.base.Property(['PNG','JPEG','SVG','PDF','Print'])],StockChart.prototype,"exportType",void 0);__decorate([sf.base.Property(['Linear','Exponential','Polynomial','Logarithmic','Moving Average'])],StockChart.prototype,"trendlineType",void 0);return StockChart;}(sf.base.Component);/**
 * Specifies the Cartesian Axis Layout.
 */var axisPadding=10;var CartesianAxisLayoutPanel=/** @class */function(){/** @private */function CartesianAxisLayoutPanel(chartModule){this.chart=chartModule;this.padding=5;}/**
     * Measure the axis size.
     *
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.measureAxis=function(rect){var chart=this.chart;this.crossAt(chart);this.seriesClipRect=new sf.svgbase.Rect(rect.x,rect.y,rect.width,rect.height);this.initialClipRect=rect;this.leftSize=0;this.rightSize=0;this.topSize=0;this.bottomSize=0;//Measure Axis size with initial Rect
this.measureRowAxis(chart,this.initialClipRect);this.initialClipRect=subtractThickness(this.initialClipRect,new Thickness(this.leftSize,this.rightSize,0,0));this.measureColumnAxis(chart,this.initialClipRect);this.initialClipRect=subtractThickness(this.initialClipRect,new Thickness(0,0,this.topSize,this.bottomSize));if(!this.chart.delayRedraw){this.calculateAxisSize(this.initialClipRect);}this.leftSize=0;this.rightSize=0;this.topSize=0;this.bottomSize=0;//Measure Axis size with series Rect
this.measureRowAxis(chart,this.initialClipRect);this.seriesClipRect=subtractThickness(this.seriesClipRect,new Thickness(this.leftSize,this.rightSize,0,0));this.measureColumnAxis(chart,this.initialClipRect);this.seriesClipRect=subtractThickness(this.seriesClipRect,new Thickness(0,0,this.topSize,this.bottomSize));if(!this.chart.delayRedraw){chart.refreshAxis();this.calculateAxisSize(this.seriesClipRect);}};CartesianAxisLayoutPanel.prototype.measureRowAxis=function(chart,rect){var row;this.calculateRowSize(rect);for(var _i=0,_a=chart.rows;_i<_a.length;_i++){var item=_a[_i];row=item;row.nearSizes=[];row.farSizes=[];this.arrangeAxis(row);this.measureDefinition(row,chart,new sf.svgbase.Size(chart.availableSize.width,row.computedHeight));if(this.leftSize<sum(row.nearSizes)){this.leftSize=sum(row.nearSizes);}if(this.rightSize<sum(row.farSizes)){this.rightSize=sum(row.farSizes);}}};CartesianAxisLayoutPanel.prototype.measureColumnAxis=function(chart,rect){var column;this.calculateColumnSize(rect);for(var _i=0,_a=chart.columns;_i<_a.length;_i++){var item=_a[_i];column=item;column.farSizes=[];column.nearSizes=[];this.arrangeAxis(column);this.measureDefinition(column,chart,new sf.svgbase.Size(column.computedWidth,chart.availableSize.height));if(this.bottomSize<sum(column.nearSizes)){this.bottomSize=sum(column.nearSizes);}if(this.topSize<sum(column.farSizes)){this.topSize=sum(column.farSizes);}}};/**
     * Measure the column and row in chart.
     *
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.measureDefinition=function(definition,chart,size){var ele=16;// scrollbar element height is 16.
for(var _i=0,_a=definition.axes;_i<_a.length;_i++){var axis=_a[_i];axis.scrollBarHeight=chart.scrollBarModule&&chart.zoomModule&&chart.zoomSettings.enableScrollbar&&axis.enableScrollbarOnZooming&&chart.zoomModule.isZoomed&&(axis.zoomFactor<1||axis.zoomPosition>0)?ele:0;axis.scrollBarHeight=chart.scrollBarModule&&(chart.zoomModule&&chart.zoomSettings.enableScrollbar&&axis.enableScrollbarOnZooming&&chart.zoomModule.isZoomed&&(axis.zoomFactor<1||axis.zoomPosition>0)||axis.scrollbarSettings.enable)?ele:0;axis.getModule(chart);axis.baseModule.calculateRangeAndInterval(size,axis);definition.computeSize(axis,axis.scrollBarHeight);}if(definition.farSizes.length>0){definition.farSizes[definition.farSizes.length-1]-=axisPadding;}if(definition.nearSizes.length>0){definition.nearSizes[definition.nearSizes.length-1]-=axisPadding;}};/**
     * Measure the axis.
     *
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.calculateAxisSize=function(rect){var chart=this.chart;var row;var column;var definition;var axis;var nearCount=0;var farCount=0;var size=0;var x;var y;var axisOffset;this.calculateRowSize(rect);for(var i=0,len=chart.rows.length;i<len;i++){row=chart.rows[i];nearCount=0;farCount=0;for(var j=0,len_1=row.axes.length;j<len_1;j++){axis=row.axes[j];axisOffset=axis.plotOffset;if(axis.rect.height===0){axis.rect.height=row.computedHeight;size=0;for(var k=i+1,len_2=i+axis.span;k<len_2;k++){definition=chart.rows[k];size+=definition.computedHeight;}axis.rect.y=row.computedTop-size+(axis.plotOffsetTop?axis.plotOffsetTop:axisOffset);axis.rect.height=axis.rect.height+size-this.getAxisOffsetValue(axis.plotOffsetTop,axis.plotOffsetBottom,axis.plotOffset);axis.rect.width=0;}if(axis.opposedPosition){x=rect.x+rect.width+sum(subArray(row.farSizes,farCount));axis.rect.x=axis.rect.x>=x?axis.rect.x:x;farCount++;}else{x=rect.x-sum(subArray(row.nearSizes,nearCount));axis.rect.x=axis.rect.x<=x?axis.rect.x:x;nearCount++;}}}this.calculateColumnSize(rect);for(var i=0,len=chart.columns.length;i<len;i++){column=chart.columns[i];nearCount=0;farCount=0;for(var j=0,len_3=column.axes.length;j<len_3;j++){axis=column.axes[j];axisOffset=axis.plotOffset;if(axis.rect.width===0){for(var k=i,len_4=i+axis.span;k<len_4;k++){definition=chart.columns[k];axis.rect.width+=definition.computedWidth;}axis.rect.x=column.computedLeft+(axis.plotOffsetLeft?axis.plotOffsetLeft:axisOffset);axis.rect.width-=this.getAxisOffsetValue(axis.plotOffsetLeft,axis.plotOffsetRight,axis.plotOffset);axis.rect.height=0;}if(axis.opposedPosition){y=rect.y-sum(subArray(column.farSizes,farCount));axis.rect.y=axis.rect.y<=y?axis.rect.y:y;farCount++;}else{y=rect.y+rect.height+sum(subArray(column.nearSizes,nearCount));axis.rect.y=axis.rect.y>=y?axis.rect.y:y;nearCount++;}}}};/**
     * Measure the axis.
     *
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.measure=function(){var chart=this.chart;var row;var column;var definition;var actualIndex;var span;for(var _i=0,_a=chart.axisCollections;_i<_a.length;_i++){var axis=_a[_i];//definition.Axes = axis;
if(axis.orientation==='Vertical'){chart.verticalAxes.push(axis);actualIndex=this.getActualRow(axis);row=chart.rows[actualIndex];this.pushAxis(row,axis);span=actualIndex+axis.span>chart.rows.length?chart.rows.length:actualIndex+axis.span;for(var j=actualIndex+1;j<span;j++){definition=chart.rows[j];definition.axes[row.axes.length-1]=axis;chart.rows[j]=definition;}chart.rows[actualIndex]=row;}else{chart.horizontalAxes.push(axis);actualIndex=this.getActualColumn(axis);column=chart.columns[actualIndex];this.pushAxis(column,axis);span=actualIndex+axis.span>chart.columns.length?chart.columns.length:actualIndex+axis.span;for(var j=actualIndex+1;j<span;j++){definition=chart.columns[j];definition.axes[column.axes.length-1]=axis;chart.columns[j]=definition;}chart.columns[actualIndex]=column;}}};CartesianAxisLayoutPanel.prototype.getAxisOffsetValue=function(position1,position2,plotOffset){var rangeOffset=position1?position1+(position2?position2:plotOffset):position2?position2+plotOffset:2*plotOffset;return rangeOffset;};CartesianAxisLayoutPanel.prototype.crossAt=function(chart){for(var _i=0,_a=chart.axisCollections;_i<_a.length;_i++){var axis=_a[_i];if(axis.crossesAt===null){continue;}if(!axis.crossesInAxis){if(chart.requireInvertedAxis){axis.crossInAxis=axis.orientation==='Horizontal'?chart.primaryXAxis:chart.primaryYAxis;}else{axis.crossInAxis=axis.orientation==='Horizontal'?chart.primaryYAxis:chart.primaryXAxis;}axis.crossAt=this.updateCrossAt(axis.crossInAxis,axis.crossesAt);continue;}else{for(var i=2,len=chart.axisCollections.length;i<len;i++){if(axis.crossesInAxis===chart.axisCollections[i].name){axis.crossInAxis=chart.axisCollections[i];axis.crossAt=this.updateCrossAt(axis.crossInAxis,axis.crossesAt);continue;}}}}};CartesianAxisLayoutPanel.prototype.updateCrossAt=function(axis,crossAt){switch(axis.valueType){case'DateTime':var option={skeleton:'full',type:'dateTime'};var dateParser=this.chart.intl.getDateParser(option);var dateFormatter=this.chart.intl.getDateFormat(option);return Date.parse(dateParser(dateFormatter(new Date(sf.data.DataUtil.parse.parseJson({val:crossAt}).val))));case'Category':return parseFloat(crossAt)?parseFloat(crossAt):axis.labels.indexOf(crossAt);case'Logarithmic':return logBase(crossAt,axis.logBase);default:return crossAt;}};CartesianAxisLayoutPanel.prototype.pushAxis=function(definition,axis){for(var i=0,len=definition.axes.length;i<=len;i++){if(!definition.axes[i]){definition.axes[i]=axis;break;}}};CartesianAxisLayoutPanel.prototype.arrangeAxis=function(definition){var axisCollection=[];for(var i=0,len=definition.axes.length;i<=len;i++){if(definition.axes[i]){axisCollection.push(definition.axes[i]);}}definition.axes=axisCollection;};CartesianAxisLayoutPanel.prototype.getActualColumn=function(axis){var actualLength=this.chart.columns.length;var pos=axis.columnIndex;var result=pos>=actualLength?actualLength-1:pos<0?0:pos;return result;};CartesianAxisLayoutPanel.prototype.getActualRow=function(axis){var actualLength=this.chart.rows.length;var pos=axis.rowIndex;var result=pos>=actualLength?actualLength-1:pos<0?0:pos;return result;};/**
     * Measure the row size.
     *
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.calculateRowSize=function(rect){/*! Calculate row size */var chart=this.chart;var row;var rowTop=rect.y+rect.height;var height=0;var remainingHeight=Math.max(0,rect.height);for(var i=0,len=chart.rows.length;i<len;i++){row=chart.rows[i];if(row.height.indexOf('%')!==-1){height=Math.min(remainingHeight,rect.height*parseInt(row.height,10)/100);}else{height=Math.min(remainingHeight,parseInt(row.height,10));}height=i!==len-1?height:remainingHeight;row.computedHeight=height;rowTop-=height;row.computedTop=rowTop;remainingHeight-=height;}};/**
     * Measure the row size.
     *
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.calculateColumnSize=function(rect){/*! Calculate column size */var chart=this.chart;var column;var columnLeft=rect.x;var width=0;var remainingWidth=Math.max(0,rect.width);for(var i=0,len=chart.columns.length;i<len;i++){column=chart.columns[i];if(column.width.indexOf('%')!==-1){width=Math.min(remainingWidth,rect.width*parseInt(column.width,10)/100);}else{width=Math.min(remainingWidth,parseInt(column.width,10));}width=i!==len-1?width:remainingWidth;column.computedWidth=width;column.computedLeft=columnLeft;columnLeft+=width;remainingWidth-=width;}};/**
     * To render the axis element.
     *
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.renderAxes=function(){var chart=this.chart;var axis;var axisElement=chart.renderer.createGroup({id:chart.element.id+'AxisInsideCollection'});var axisLineElement=chart.renderer.createGroup({id:chart.element.id+'AxisOutsideCollection'});var outsideElement;var isInside;for(var i=0,len=chart.axisCollections.length;i<len;i++){axis=chart.axisCollections[i];this.element=chart.renderer.createGroup({id:chart.element.id+'AxisGroup'+i+'Inside'});outsideElement=chart.renderer.createGroup({id:chart.element.id+'AxisGroup'+i+'Outside'});isInside=this.findAxisPosition(axis);if(axis.orientation==='Horizontal'){axis.updateCrossValue();if(axis.visible&&axis.internalVisibility&&axis.lineStyle.width>0){this.drawAxisLine(axis,i,axis.plotOffset,0,isInside?outsideElement:this.element,axis.updatedRect);}if(axis.majorGridLines.width>0||axis.majorTickLines.width>0){this.drawXAxisGridLine(axis,i,isInside||axis.tickPosition==='Inside'?outsideElement:this.element,axis.updatedRect);}if(axis.visible&&axis.internalVisibility){this.drawXAxisLabels(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawXAxisBorder(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawXAxisTitle(axis,i,isInside?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}}else{axis.updateCrossValue();if(axis.visible&&axis.internalVisibility&&axis.lineStyle.width>0){this.drawAxisLine(axis,i,0,axis.plotOffset,isInside?outsideElement:this.element,axis.updatedRect);}if(axis.majorGridLines.width>0||axis.majorTickLines.width>0){this.drawYAxisGridLine(axis,i,isInside||axis.tickPosition==='Inside'?outsideElement:this.element,axis.updatedRect);}if(axis.visible&&axis.internalVisibility){this.drawYAxisLabels(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawYAxisBorder(axis,i,isInside||axis.labelPosition==='Inside'?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);this.drawYAxisTitle(axis,i,isInside?outsideElement:this.element,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}}if(!this.chart.enableCanvas){axisElement.appendChild(this.element);if(outsideElement&&outsideElement.childNodes.length>0){axisLineElement.appendChild(outsideElement);}}if(chart.scrollBarModule&&(chart.zoomSettings.enableScrollbar&&axis.enableScrollbarOnZooming||axis.scrollbarSettings.enable)){this.renderScrollbar(chart,axis);}}this.element=chart.renderer.createGroup({id:chart.element.id+'DefinitionLine'});for(var j=0,len=chart.rows.length;j<len;j++){var row=chart.rows[j];if(row.border.color){this.drawBottomLine(row,j,true);}}for(var j=0,len=chart.columns.length;j<len;j++){var column=chart.columns[j];if(column.border.color){this.drawBottomLine(column,j,false);}}if(!this.chart.enableCanvas){axisElement.appendChild(this.element);}appendChildElement(chart.enableCanvas,chart.svgObject,axisElement,chart.redraw);return axisLineElement;};/**
     * To render the axis scrollbar
     *
     * @param {Chart} chart chart
     * @param {Axis} axis axis
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.renderScrollbar=function(chart,axis){var isZoomed=sf.base.isNullOrUndefined(chart.zoomModule)?false:chart.zoomModule.isZoomed;if((isZoomed&&(axis.zoomFactor<1||axis.zoomPosition>0)||axis.scrollbarSettings.enable&&(axis.zoomFactor<=1||axis.zoomPosition>=0))&&!axis.zoomingScrollBar.isScrollUI){if(!chart.scrollElement){chart.scrollElement=redrawElement(chart.redraw,chart.element.id+'_scrollElement')||sf.base.createElement('div',{id:chart.element.id+'_scrollElement'});}appendChildElement(false,chart.scrollElement,axis.zoomingScrollBar.render(true),true);}else if(axis.zoomFactor===1&&axis.zoomPosition===0&&axis.zoomingScrollBar.svgObject&&!axis.scrollbarSettings.enable){axis.zoomingScrollBar.destroy();}if(axis.zoomingScrollBar.isScrollUI){axis.zoomingScrollBar.isScrollUI=false;}};/**
     * To find the axis position
     *
     * @param {Axis} axis axis
     * @returns {boolean} axis position
     */CartesianAxisLayoutPanel.prototype.findAxisPosition=function(axis){return axis.crossAt!==null&&axis.isInside(axis.crossInAxis.visibleRange);};/**
     * To render the bootom line of the columns and rows
     *
     * @param {Row | Column} definition definition
     * @param {number} index index
     * @param {boolean} isRow isRow
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawBottomLine=function(definition,index,isRow){var chart=this.chart;var optionsLine={};var x1;var x2;var y1;var y2;var definitionName;if(isRow){definition=definition;y1=y2=definition.computedTop+definition.computedHeight;x1=this.seriesClipRect.x;x2=x1+this.seriesClipRect.width;definitionName='Row';}else{definition=definition;x1=x2=definition.computedLeft;y1=this.seriesClipRect.y;y2=y1+this.seriesClipRect.height;definitionName='Column';}optionsLine={'id':chart.element.id+'_AxisBottom_'+definitionName+index,x1:x1,y1:y1,x2:x2,y2:y2,'stroke-width':definition.border.width,'stroke':definition.border.color};this.htmlObject=chart.renderer.drawLine(optionsLine);this.element.appendChild(this.htmlObject);};/**
     * To render the axis line
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {number} plotX plotX
     * @param {number} plotY plotY
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawAxisLine=function(axis,index,plotX,plotY,parent,rect){var chart=this.chart;var optionsLine={};var element=getElement$1(chart.element.id+'AxisLine_'+index);var direction=element?element.getAttribute('d'):'';element=null;optionsLine={'id':chart.element.id+'AxisLine_'+index,'d':'M '+(rect.x-plotX)+' '+(rect.y-plotY)+' L '+(rect.x+rect.width+plotX)+' '+(rect.y+rect.height+plotY),'stroke-dasharray':axis.lineStyle.dashArray,'stroke-width':axis.lineStyle.width,'stroke':axis.lineStyle.color||chart.themeStyle.axisLine};this.htmlObject=chart.renderer.drawPath(optionsLine);appendChildElement(chart.enableCanvas,parent,this.htmlObject,chart.redraw,true,'x','y',null,direction);};/**
     * To render the yAxis grid line
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawYAxisGridLine=function(axis,index,parent,rect){var isLogAxis=axis.valueType==='Logarithmic';var isCategoryAxis=axis.valueType.indexOf('Category')>-1;var tempInterval;var pointY=0;var majorGrid='';var majorTick='';var minorGridDirection;var tickSize=axis.opposedPosition?axis.majorTickLines.height:-axis.majorTickLines.height;var axisLineSize=axis.opposedPosition?axis.lineStyle.width*0.5:-axis.lineStyle.width*0.5;var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?0.5:0;var scrollBarHeight=sf.base.isNullOrUndefined(axis.crossesAt)?axis.opposedPosition?axis.scrollBarHeight:-axis.scrollBarHeight:0;var isTickInside=axis.tickPosition==='Inside';var ticks=isTickInside?rect.x-tickSize-axisLineSize:rect.x+tickSize+axisLineSize+scrollBarHeight;var length=axis.visibleLabels.length;var chartThemeStyle=this.chart.themeStyle;if(axis.valueType.indexOf('Category')>-1&&axis.labelPlacement==='BetweenTicks'&&length>0){length+=1;}var minorGridLines=axis.minorGridLines;var minorTickLines=axis.minorTickLines;//Gridlines
for(var i=0;i<length;i++){tempInterval=!axis.visibleLabels[i]?axis.visibleLabels[i-1].value+axis.visibleRange.interval-ticksbwtLabel:axis.visibleLabels[i].value-ticksbwtLabel;pointY=valueToCoefficient(tempInterval,axis)*rect.height;pointY=pointY*-1+(rect.y+rect.height);if(pointY>=rect.y&&rect.y+rect.height>=pointY){if(inside(tempInterval,axis.visibleRange)||this.isBorder(axis,i,pointY)){majorGrid='M '+this.seriesClipRect.x+' '+pointY+' L '+(this.seriesClipRect.x+this.seriesClipRect.width)+' '+pointY;this.renderGridLine(axis,index,majorGrid,axis.majorGridLines,'_MajorGridLine_',i,this.element,chartThemeStyle.majorGridLine,axis.majorGridLines.dashArray);}majorTick='M '+(rect.x+axisLineSize+(isTickInside?scrollBarHeight:0))+' '+pointY+' L '+ticks+' '+pointY;this.renderGridLine(axis,index,majorTick,axis.majorTickLines,'_MajorTickLine_',i,parent,chartThemeStyle.majorTickLine);if((minorGridLines.width>0||minorTickLines.width>0)&&axis.minorTicksPerInterval>0){if(i===0&&isZoomSet(axis)&&!isLogAxis&&!isCategoryAxis){this.renderMinorGridOnZooming(axis,tempInterval,rect,i,index,chartThemeStyle,parent);}minorGridDirection=this.drawAxisMinorLine(axis,tempInterval,rect,i);this.renderGridLine(axis,index,minorGridDirection[0],minorGridLines,'_MinorGridLine_',i,this.element,chartThemeStyle.minorGridLine,minorGridLines.dashArray);this.renderGridLine(axis,index,minorGridDirection[1],minorTickLines,'_MinorTickLine_',i,parent,chartThemeStyle.minorTickLine);if(i===length-1&&isZoomSet(axis)&&isLogAxis&&!isCategoryAxis){this.renderMinorGridOnZooming(axis,tempInterval+axis.visibleRange.interval,rect,i,index,chartThemeStyle,parent);}}}}};/**
     * To check the border of the axis
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {number} value value
     * @returns {boolean} check the border of the axis
     */CartesianAxisLayoutPanel.prototype.isBorder=function(axis,index,value){var border=this.chart.chartArea.border;var rect=this.seriesClipRect;var orientation=axis.orientation;var start=orientation==='Horizontal'?rect.x:rect.y;var size=orientation==='Horizontal'?rect.width:rect.height;var startIndex=orientation==='Horizontal'?0:axis.visibleLabels.length-1;var endIndex=orientation==='Horizontal'?axis.visibleLabels.length-1:0;if(axis.plotOffset>0){return true;}else if((value===start||value===start+size)&&(border.width<=0||border.color==='transparent')){return true;}else if(value!==start&&index===startIndex||value!==start+size&&index===endIndex){return true;}return false;};/**
     * To render the yAxis label
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.drawYAxisLabels=function(axis,index,parent,rect){var chart=this.chart;var pointX=0;var pointY=0;var elementSize;var labelSpace=axis.labelPadding;var options;var isAxisBreakLabel;var isLabelInside=axis.labelPosition==='Inside';var isOpposed=axis.opposedPosition;var tickSpace=axis.labelPosition===axis.tickPosition?axis.majorTickLines.height:0;var padding=tickSpace+labelSpace+axis.lineStyle.width*0.5;padding=axis.opposedPosition?padding:-padding;var defaultAnchor=isOpposed&&isLabelInside||!isOpposed&&!isLabelInside?'end':'start';defaultAnchor=chart.isRtlEnabled?axis.opposedPosition?'end':'start':defaultAnchor;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});var scrollBarHeight=sf.base.isNullOrUndefined(axis.crossesAt)?axis.scrollBarHeight*(isOpposed?1:-1):0;var textHeight;var textPadding;var maxLineWidth;var pixel=10;for(var i=0,len=axis.visibleLabels.length;i<len;i++){isAxisBreakLabel=isBreakLabel(axis.visibleLabels[i].originalText);pointX=isLabelInside?rect.x-padding:rect.x+padding+scrollBarHeight;elementSize=isAxisBreakLabel?axis.visibleLabels[i].breakLabelSize:axis.visibleLabels[i].size;pointY=valueToCoefficient(axis.visibleLabels[i].value,axis)*rect.height+(chart.stockChart?7:0);pointY=Math.floor(pointY*-1+(rect.y+rect.height));textHeight=elementSize.height/8*axis.visibleLabels[i].text.length/2;textPadding=elementSize.height/4*3+3;pointY=isAxisBreakLabel?axis.labelPosition==='Inside'?pointY-elementSize.height/2-textHeight+textPadding:pointY-textHeight:axis.labelPosition==='Inside'?pointY+textPadding:pointY+elementSize.height/4;if(axis.majorGridLines.width>axis.majorTickLines.width){maxLineWidth=axis.majorGridLines.width;}else{maxLineWidth=axis.majorTickLines.width;}if(axis.labelStyle.textAlignment==='Far'){pointY=pointY-maxLineWidth-pixel;}else if(axis.labelStyle.textAlignment==='Near'){pointY=pointY+maxLineWidth+pixel;}else if(axis.labelStyle.textAlignment==='Center'){// eslint-disable-next-line no-self-assign
pointY=pointY;}pointX=isAxisBreakLabel?this.getAxisLabelXvalue(pointX,axis,elementSize.width):pointX;var anchor=isAxisBreakLabel?this.getAnchor(axis):defaultAnchor;options=new sf.svgbase.TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY,anchor,axis.visibleLabels[i].text);if(axis.edgeLabelPlacement){switch(axis.edgeLabelPlacement){case'None':break;case'Hide':if((i===0||axis.isInversed&&i===len-1)&&options.y>rect.y+rect.height||(i===len-1||axis.isInversed&&i===0)&&options.y-elementSize.height*0.5<rect.y){options.text='';}break;case'Shift':if((i===0||axis.isInversed&&i===len-1)&&options.y>rect.y+rect.height){options.y=pointY=rect.y+rect.height;}else if((i===len-1||axis.isInversed&&i===0)&&options.y-elementSize.height*0.5<rect.y){options.y=pointY=rect.y+elementSize.height*0.5;}break;}}textElement(chart.renderer,options,axis.labelStyle,axis.labelStyle.color||chart.themeStyle.axisLabel,labelElement,false,chart.redraw,true,true);}if(!this.chart.enableCanvas){if(!chart.delayRedraw){appendChildElement(chart.enableCanvas,parent,labelElement,chart.redraw);}else if(axis.visible&&axis.internalVisibility){this.createZoomingLabel(this.chart,labelElement,axis,index,rect);}}};/**
     * To get X value based on lineBreakAlignment for Y axis line break labels only.
     *
     * @param {number} x text x position
     * @param {Axis} axis y axis values
     * @param {number} textWidth axis label width
     * @returns {number} returns suitable axis label x position
     */CartesianAxisLayoutPanel.prototype.getAxisLabelXvalue=function(x,axis,textWidth){var anchor=axis.lineBreakAlignment;var isLabelInside=axis.labelPosition==='Inside';var isOpposed=axis.opposedPosition;if(isOpposed&&isLabelInside||!isOpposed&&!isLabelInside){return anchor==='Right'?x:anchor==='Center'?x-textWidth/2:x-textWidth;}else{return anchor==='Left'?x:anchor==='Center'?x+textWidth/2:x+textWidth;}};/**
     * To render the yAxis label border.
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawYAxisBorder=function(axis,index,parent,rect){if(axis.border.width>0){var startY=void 0;var pointY=void 0;var scrollBarHeight=axis.labelPosition==='Outside'?axis.scrollBarHeight:0;scrollBarHeight=(axis.opposedPosition?1:-1)*scrollBarHeight;var gap=rect.height/axis.visibleRange.delta*(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval);var endY=void 0;var length_1=axis.maxLabelSize.width+10+(axis.tickPosition===axis.labelPosition?axis.majorTickLines.height:0);var labelBorder='';var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?-0.5:0;var endX=axis.opposedPosition&&axis.labelPosition==='Inside'||!axis.opposedPosition&&axis.labelPosition==='Outside'?rect.x-length_1+scrollBarHeight:rect.x+length_1+scrollBarHeight;for(var i=0,len=axis.visibleLabels.length;i<len;i++){pointY=valueToCoefficient(axis.visibleLabels[i].value+ticksbwtLabel,axis);pointY=(axis.isInversed?1-pointY:pointY)*rect.height;if(axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'){startY=pointY*-1+(rect.y+rect.height);endY=pointY*-1-gap+(rect.y+rect.height);}else{startY=pointY*-1+gap/2+(rect.y+rect.height);endY=pointY*-1-gap/2+(rect.y+rect.height);}switch(axis.border.type){case'Rectangle':case'WithoutTopBorder':if(startY>rect.y+rect.height){labelBorder+='M'+' '+endX+' '+(rect.y+rect.height)+' '+'L'+' '+endX+' '+endY+' ';}else if(Math.floor(rect.y)>endY){labelBorder+='M'+' '+(rect.x+scrollBarHeight)+' '+startY+' '+'L'+' '+endX+' '+startY+' '+'L'+' '+endX+' '+rect.y+' ';}else{labelBorder+='M'+' '+(rect.x+scrollBarHeight)+' '+startY+' '+'L'+' '+endX+' '+startY+' '+'L'+' '+endX+' '+endY+' ';if(i===axis.visibleLabels.length-1){labelBorder+='M'+' '+(rect.x+scrollBarHeight)+' '+endY+' '+'L'+' '+endX+' '+endY+' ';}}break;case'WithoutTopandBottomBorder':if(!(startY>rect.y+rect.height)&&!(endY<Math.floor(rect.y))){labelBorder+='M'+' '+(rect.x+scrollBarHeight)+' '+startY+' '+'L'+' '+endX+' '+startY+' '+'M'+' '+endX+' '+endY+' '+'L'+' '+(rect.x+scrollBarHeight)+' '+endY;}break;}}labelBorder+=axis.border.type==='Rectangle'?'M'+' '+(rect.x+scrollBarHeight)+' '+rect.y+' '+'L'+' '+(rect.x+scrollBarHeight)+' '+(rect.y+rect.height)+' ':'';if(labelBorder!==''){this.createAxisBorderElement(axis,index,labelBorder,parent);}}if(axis.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule){this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(axis,index,parent,rect);}};/**
     * To render the yAxis title
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawYAxisTitle=function(axis,index,parent,rect){if(axis.title){var chart=this.chart;var labelRotation=axis.opposedPosition?90:-90;var padding=(axis.tickPosition==='Inside'?0:axis.majorTickLines.height+axis.titlePadding)+(axis.labelPosition==='Inside'?0:axis.maxLabelSize.width+axis.multiLevelLabelHeight+this.padding);padding=axis.opposedPosition?padding+axis.scrollBarHeight:-padding-axis.scrollBarHeight;var x=rect.x+padding;var y=rect.y+rect.height*0.5;var titleSize=axis.titleSize.height*(axis.titleCollection.length-1);var options=new sf.svgbase.TextOption(chart.element.id+'_AxisTitle_'+index,x,y-axis.labelPadding-titleSize,'middle',axis.titleCollection,'rotate('+labelRotation+','+x+','+y+')',null,labelRotation);var element=textElement(chart.renderer,options,axis.titleStyle,axis.titleStyle.color||chart.themeStyle.axisTitle,parent);element.setAttribute('tabindex',axis.tabIndex.toString());element.setAttribute('aria-label',axis.description||axis.title);}};/**
     * xAxis grid line calculation performed here
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawXAxisGridLine=function(axis,index,parent,rect){var isLogAxis=axis.valueType==='Logarithmic';var isCategoryAxis=axis.valueType.indexOf('Category')>-1;var tempInterval;var pointX=0;var majorGrid='';var majorTick='';var minorDirection;var tickSize=axis.opposedPosition?-axis.majorTickLines.height:axis.majorTickLines.height;var axisLineSize=axis.opposedPosition?-axis.lineStyle.width*0.5:axis.lineStyle.width*0.5;var scrollBarHeight=sf.base.isNullOrUndefined(axis.crossesAt)?axis.opposedPosition?-axis.scrollBarHeight:axis.scrollBarHeight:0;var ticksbwtLabel=axis.valueType.indexOf('Category')>-1&&axis.labelPlacement==='BetweenTicks'?0.5:0;var length=axis.visibleLabels.length;var isTickInside=axis.tickPosition==='Inside';var ticks=isTickInside?rect.y-tickSize-axisLineSize:rect.y+tickSize+axisLineSize+scrollBarHeight;var chartThemeStyle=this.chart.themeStyle;if(axis.valueType.indexOf('Category')>-1&&length>0&&axis.labelPlacement==='BetweenTicks'){length+=1;}//Gridlines
for(var i=0;i<length;i++){if(axis.valueType!=='DateTimeCategory'){tempInterval=axis.visibleLabels[i]?axis.visibleLabels[i].value-ticksbwtLabel:axis.visibleLabels[i-1].value+axis.visibleRange.interval-ticksbwtLabel;}else{tempInterval=axis.visibleLabels[i]?axis.visibleLabels[i].value-ticksbwtLabel:axis.visibleRange.max;}pointX=valueToCoefficient(tempInterval,axis)*rect.width+rect.x;if(pointX>=rect.x&&rect.x+rect.width>=pointX){if(inside(tempInterval,axis.visibleRange)||this.isBorder(axis,i,pointX)){majorGrid='M '+pointX+' '+(this.seriesClipRect.y+this.seriesClipRect.height)+' L '+pointX+' '+this.seriesClipRect.y;this.renderGridLine(axis,index,majorGrid,axis.majorGridLines,'_MajorGridLine_',i,this.element,chartThemeStyle.majorGridLine,axis.majorGridLines.dashArray);}majorTick='M '+pointX+' '+(rect.y+axisLineSize+(isTickInside?scrollBarHeight:0))+' L '+pointX+' '+ticks;this.renderGridLine(axis,index,majorTick,axis.majorTickLines,'_MajorTickLine_',i,parent,chartThemeStyle.majorTickLine);if(axis.minorTicksPerInterval>0&&(axis.minorGridLines.width>0||axis.minorTickLines.width>0)){if(i===0&&isZoomSet(axis)&&!isLogAxis&&!isCategoryAxis){this.renderMinorGridOnZooming(axis,tempInterval,rect,i,index,chartThemeStyle,parent);}minorDirection=this.drawAxisMinorLine(axis,tempInterval,rect,i);this.renderGridLine(axis,index,minorDirection[0],axis.minorGridLines,'_MinorGridLine_',i,this.element,chartThemeStyle.minorGridLine,axis.minorGridLines.dashArray);this.renderGridLine(axis,index,minorDirection[1],axis.minorTickLines,'_MinorTickLine_',i,parent,chartThemeStyle.minorTickLine);if(i===length-1&&isZoomSet(axis)&&isLogAxis&&!isCategoryAxis){this.renderMinorGridOnZooming(axis,tempInterval+axis.visibleRange.interval,rect,i,index,chartThemeStyle,parent);}}}}};/**
     * To render missing minor grid lines while zooming
     *
     * @param {Axis} axis axis
     * @param {number} tempInterval tempInterval
     * @param {Rect} rect rect
     * @param {number} i i
     * @param {number} index index
     * @param {IThemeStyle} chartThemeStyle chartThemeStyle
     * @param {Element} parent parent
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.renderMinorGridOnZooming=function(axis,tempInterval,rect,i,index,chartThemeStyle,parent){var minorDirection=this.drawAxisMinorLine(axis,tempInterval,rect,i,true);this.renderGridLine(axis,index,minorDirection[0],axis.minorGridLines,'_MinorGridLine_',-1,this.element,chartThemeStyle.minorGridLine,axis.minorGridLines.dashArray);this.renderGridLine(axis,index,minorDirection[1],axis.minorTickLines,'_MinorTickLine_',-1,parent,chartThemeStyle.minorTickLine);};/**
     * To calcualte the axis minor line
     *
     * @param {Axis} axis axis
     * @param {number} tempInterval tempInterval
     * @param {Rect} rect rect
     * @param {number} labelIndex labelIndex
     * @param {boolean} isFirstLabel isFirstLabel
     * @returns {string[]} axis minor line path
     */CartesianAxisLayoutPanel.prototype.drawAxisMinorLine=function(axis,tempInterval,rect,labelIndex,isFirstLabel){var value=tempInterval;var coor=0;var position=0;var range=axis.visibleRange;var isTickInside=axis.tickPosition==='Inside';var direction=[];var tickSize=axis.opposedPosition?-axis.minorTickLines.height:axis.minorTickLines.height;var logStart;var logEnd;var logInterval=1;var logPosition=1;var ticksX=isTickInside?rect.y-tickSize:rect.y+tickSize;var ticksY=isTickInside?rect.x+tickSize:rect.x-tickSize;var minorGird='';var minorTick='';if(axis.valueType==='Logarithmic'){logStart=Math.pow(axis.logBase,value-range.interval);logEnd=Math.pow(axis.logBase,value);logInterval=(logEnd-logStart)/(axis.minorTicksPerInterval+1);logPosition=logStart+logInterval;}if(axis.orientation==='Horizontal'){for(var j=0;j<axis.minorTicksPerInterval;j++){value=this.findLogNumeric(axis,logPosition,value,labelIndex,isFirstLabel);logPosition+=logInterval;if(inside(value,range)){position=(value-range.min)/(range.max-range.min);position=Math.ceil((axis.isInversed?1-position:position)*rect.width);coor=Math.floor(position+rect.x);minorGird=minorGird.concat('M'+' '+coor+' '+this.seriesClipRect.y+'L '+coor+' '+(this.seriesClipRect.y+this.seriesClipRect.height));coor=Math.floor(position+rect.x);minorTick=minorTick.concat('M'+' '+coor+' '+rect.y+'L '+coor+' '+(ticksX+axis.scrollBarHeight));}}}else{for(var j=0;j<axis.minorTicksPerInterval;j++){value=this.findLogNumeric(axis,logPosition,value,labelIndex,isFirstLabel);if(inside(value,range)){position=(value-range.min)/(range.max-range.min);position=Math.ceil((axis.isInversed?1-position:position)*rect.height)*-1;// For inversed axis
coor=Math.floor(position+rect.y+rect.height);minorGird=minorGird.concat('M'+' '+this.seriesClipRect.x+' '+coor+'L '+(this.seriesClipRect.x+this.seriesClipRect.width)+' '+coor+' ');coor=Math.floor(position+rect.y+rect.height);minorTick=minorTick.concat('M'+' '+rect.x+' '+coor+'L '+(ticksY-axis.scrollBarHeight)+' '+coor+' ');}logPosition+=logInterval;}}direction.push(minorGird);direction.push(minorTick);return direction;};/**
     * To find the numeric value of the log
     *
     * @param {Axis} axis axis
     * @param {number} logPosition logPosition
     * @param {number} value value
     * @param {number} labelIndex labelIndex
     * @param {boolean} isFirstLabel isFirstLabel
     * @returns {number} value
     */CartesianAxisLayoutPanel.prototype.findLogNumeric=function(axis,logPosition,value,labelIndex,isFirstLabel){var range=axis.visibleRange;var tempValue;if(axis.valueType==='Logarithmic'){value=logBase(logPosition,axis.logBase);}else if(axis.valueType==='DateTime'){tempValue=axis.dateTimeInterval/(axis.minorTicksPerInterval+1);value=isFirstLabel?value-tempValue:value+tempValue;}else if(axis.valueType==='DateTimeCategory'){var padding=axis.labelPlacement==='BetweenTicks'?0.5:0;value+=((axis.visibleLabels[labelIndex+1]?axis.visibleLabels[labelIndex+1].value-padding:axis.visibleRange.max)-(axis.visibleLabels[labelIndex]?axis.visibleLabels[labelIndex].value-padding:axis.visibleRange.min))/(axis.minorTicksPerInterval+1);}else{tempValue=range.interval/(axis.minorTicksPerInterval+1);value=isFirstLabel?value-tempValue:value+tempValue;}return value;};/**
     * To render the xAxis Labels
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     * @private
     */CartesianAxisLayoutPanel.prototype.drawXAxisLabels=function(axis,index,parent,rect){var chart=this.chart;var pointX=0;var pointY=0;var labelSpace=axis.labelPadding;var labelHeight;var elementSize;var labelPadding;var anchor;var pixel=10;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});var islabelInside=axis.labelPosition==='Inside';var isOpposed=axis.opposedPosition;var tickSpace=axis.labelPosition===axis.tickPosition?axis.majorTickLines.height:0;var padding=tickSpace+labelSpace+axis.lineStyle.width*0.5;var angle=axis.angle%360;var isHorizontalAngle=angle===0||angle===-180||angle===180;var options;var labelWidth;var previousEnd=axis.isInversed?rect.x+rect.width:rect.x;var width=0;var length=axis.visibleLabels.length;var intervalLength;var label;var isAxisBreakLabel;var scrollBarHeight=axis.scrollbarSettings.enable||!islabelInside&&sf.base.isNullOrUndefined(axis.crossesAt)&&(axis.zoomFactor<1||axis.zoomPosition>0)?axis.scrollBarHeight:0;var newPoints=[];var isRotatedLabelIntersect=false;padding+=angle===90||angle===270||angle===-90||angle===-270?islabelInside?5:-5:0;var isLabelUnderAxisLine=!isOpposed&&!islabelInside||isOpposed&&islabelInside;var isEndAnchor=isLabelUnderAxisLine?360>=angle&&angle>=180||-1>=angle&&angle>=-180:1<=angle&&angle<=180||-181>=angle&&angle>=-360;for(var i=0,len=length;i<len;i++){label=axis.visibleLabels[i];isAxisBreakLabel=isBreakLabel(label.originalText);pointX=valueToCoefficient(label.value,axis)*rect.width+rect.x;elementSize=label.size;intervalLength=rect.width/length;labelWidth=isAxisBreakLabel?label.breakLabelSize.width:elementSize.width;width=(axis.labelIntersectAction==='Trim'||axis.labelIntersectAction==='Wrap')&&angle===0&&labelWidth>intervalLength?intervalLength:labelWidth;labelHeight=elementSize.height/4;pointX-=isAxisBreakLabel||angle!==0?0:width/2;// label X value adjustment for label rotation (Start)
if(angle!==0){if(isAxisBreakLabel){pointX-=axis.lineBreakAlignment==='Left'?label.breakLabelSize.width/2:axis.lineBreakAlignment==='Right'?-(label.breakLabelSize.width/2):0;}else{pointX-=angle===-90||angle===270?-labelHeight:angle===90||angle===-270?labelHeight:0;}}// label X value adjustment for label rotation (End)
if(axis.labelStyle.textAlignment==='Far'){pointX=pointX+width-pixel;}else if(axis.labelStyle.textAlignment==='Near'){pointX=pointX-width+pixel;}else if(axis.labelStyle.textAlignment==='Center'){// eslint-disable-next-line no-self-assign
pointX=pointX;}// For line break label alignment like left, right & center in angle 0
if(isAxisBreakLabel&&axis.lineBreakAlignment!=='Center'&&angle===0){pointX+=axis.lineBreakAlignment==='Left'?-(width/2):width/2;}var paddingForBreakLabel=isAxisBreakLabel?isHorizontalAngle?elementSize.height:label.breakLabelSize.width/2:0;padding=isAxisBreakLabel?tickSpace+labelSpace+axis.lineStyle.width*0.5:padding;// label Y value adjustment (Start)
if(islabelInside&&angle){if(isAxisBreakLabel){pointY=isOpposed?rect.y+padding+paddingForBreakLabel:rect.y-padding-paddingForBreakLabel;}else{pointY=isOpposed?rect.y+padding+labelHeight:rect.y-padding-labelHeight;}}else{if(isAxisBreakLabel){labelPadding=!isLabelUnderAxisLine?-(padding+scrollBarHeight+paddingForBreakLabel):padding+scrollBarHeight+(angle?paddingForBreakLabel:3*labelHeight);}else{labelPadding=!isLabelUnderAxisLine?-(padding+scrollBarHeight+(angle?labelHeight:label.index>1?2*labelHeight:0)):padding+scrollBarHeight+(angle?1:3)*labelHeight;}pointY=rect.y+labelPadding*label.index;}// label Y value adjustment (End)
if(isAxisBreakLabel){anchor=this.getAnchor(axis);// for break label self alignment
}else{anchor=chart.isRtlEnabled||isEndAnchor?'end':'';}options=new sf.svgbase.TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY,anchor);if(axis.edgeLabelPlacement&&angle===0){switch(axis.edgeLabelPlacement){case'None':break;case'Hide':if((i===0||axis.isInversed&&i===len-1)&&options.x<rect.x||(i===len-1||axis.isInversed&&i===0)&&options.x+width>rect.x+rect.width){continue;}break;case'Shift':if((i===0||axis.isInversed&&i===len-1)&&options.x<rect.x){intervalLength-=rect.x-options.x;options.x=pointX=rect.x;}else if((i===len-1||axis.isInversed&&i===0)&&options.x+width>rect.x+rect.width){if(elementSize.width>intervalLength&&axis.labelIntersectAction==='Trim'){intervalLength-=options.x+width-(rect.x+rect.width);}else{intervalLength=width;}options.x=pointX=rect.x+rect.width-intervalLength;}break;}}options.text=this.getLabelText(label,axis,intervalLength);// ------- Hide Calculation (Start) -------------
// Currect label actual start value (Start)
var xValue=void 0;var xValue2=void 0;if(isAxisBreakLabel&&angle===0){if(axis.lineBreakAlignment==='Right'){xValue=options.x-width;xValue2=options.x;}else if(axis.lineBreakAlignment==='Center'){xValue=options.x-width/2;xValue2=options.x+width/2;}else{xValue=options.x;xValue2=options.x+width;}}else{xValue=options.x;xValue2=options.x+width;}// Currect label actual start value (End)
if(angle===0&&axis.labelIntersectAction==='Hide'&&i!==0&&(!axis.isInversed?xValue<=previousEnd:xValue2>=previousEnd)){continue;}// Previous label actual end value (Start)
if(isAxisBreakLabel){if(axis.lineBreakAlignment==='Right'){previousEnd=axis.isInversed?options.x-width:options.x;}else if(axis.lineBreakAlignment==='Center'){previousEnd=axis.isInversed?options.x-width/2:options.x+width/2;}else{previousEnd=axis.isInversed?options.x:options.x+width;}}else{previousEnd=axis.isInversed?options.x:options.x+width;}// Previous label actual end value (End)
// ------- Hide Calculation (End) -------------
// label Rotataion calculation (Start)
if(angle!==0){var height=void 0;var rect_1=void 0;if(isAxisBreakLabel){var xAdjustment=0;var yAdjustment=0;height=label.breakLabelSize.height;yAdjustment=label.breakLabelSize.height-4;// 4 for label bound correction
// xAdjustment (Start)
if(axis.lineBreakAlignment==='Center'){xAdjustment=-(label.breakLabelSize.width/2);}else if(axis.lineBreakAlignment==='Right'){xAdjustment=-label.breakLabelSize.width;}// xAdjustment (End)
if(isLabelUnderAxisLine){yAdjustment=label.breakLabelSize.height/(options.text.length+1);}rect_1=new sf.svgbase.Rect(options.x+xAdjustment,options.y-yAdjustment,label.breakLabelSize.width,height);}else{height=pointY-(options.y-(label.size.height/2+10));rect_1=new sf.svgbase.Rect(options.x,options.y-(label.size.height/2-5),label.size.width,height);}var rectCoordinates=this.getRectanglePoints(rect_1);var rectCenterX=isAxisBreakLabel?rect_1.x+rect_1.width/2:pointX;var rectCenterY=isAxisBreakLabel?rect_1.y+rect_1.height/2:pointY-height/2;if(isAxisBreakLabel){options.transform='rotate('+angle+','+rectCenterX+','+rectCenterY+')';}else{options.transform='rotate('+angle+','+pointX+','+pointY+')';}newPoints.push(getRotatedRectangleCoordinates(rectCoordinates,rectCenterX,rectCenterY,angle));isRotatedLabelIntersect=false;for(var index_1=i;index_1>0;index_1--){if(newPoints[i]&&newPoints[index_1-1]&&isRotatedRectIntersect(newPoints[i],newPoints[index_1-1])){isRotatedLabelIntersect=true;newPoints[i]=null;break;}}}// label Rotataion calculation (End)
textElement(chart.renderer,options,label.labelStyle,label.labelStyle.color||chart.themeStyle.axisLabel,labelElement,axis.opposedPosition!==(axis.labelPosition==='Inside'),chart.redraw,true,null,null,null,label.size,isRotatedLabelIntersect);}if(!this.chart.enableCanvas){if(!chart.delayRedraw){parent.appendChild(labelElement);}else if(axis.visible&&axis.internalVisibility){this.createZoomingLabel(this.chart,labelElement,axis,index,rect);}}};/**
     * To get text anchor value for line break labels.
     *
     * @param {Axis} axis axis model
     * @returns {string} returns text anchor
     */CartesianAxisLayoutPanel.prototype.getAnchor=function(axis){return axis.lineBreakAlignment==='Center'?'middle':axis.lineBreakAlignment==='Left'?'start':'end';};/**
     * Get rect coordinates
     *
     * @param {Rect} rect rect
     * @returns {ChartLocation[]} rectangle points
     */CartesianAxisLayoutPanel.prototype.getRectanglePoints=function(rect){var point1=new ChartLocation(rect.x,rect.y);var point2=new ChartLocation(rect.x+rect.width,rect.y);var point3=new ChartLocation(rect.x+rect.width,rect.y+rect.height);var point4=new ChartLocation(rect.x,rect.y+rect.height);return[point1,point2,point3,point4];};/**
     * To get axis label text
     *
     * @param {VisibleLabels} label label
     * @param {Axis} axis axis
     * @param {number} intervalLength intervalLength
     * @returns {string | string[]} label or label collection
     */CartesianAxisLayoutPanel.prototype.getLabelText=function(label,axis,intervalLength){if(isBreakLabel(label.originalText)){var result=[];var str=void 0;for(var index=0;index<label.text.length;index++){str=this.findAxisLabel(axis,label.text[index],intervalLength);result.push(str);}return result;}else{return this.findAxisLabel(axis,label.text,intervalLength);}};/**
     * To render the x-axis label border.
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} axisRect axisRect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawXAxisBorder=function(axis,index,parent,axisRect){if(axis.border.width>0){var scrollBarHeight=axis.labelPosition==='Outside'?axis.scrollBarHeight:0;var startX=void 0;var startY=axisRect.y+(axis.opposedPosition?-1:1)*scrollBarHeight;var padding=10;var pointX=void 0;var gap=axisRect.width/axis.visibleRange.delta*(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval);var endX=void 0;var length_2=axis.maxLabelSize.height+(axis.tickPosition===axis.labelPosition?axis.majorTickLines.height:0);var labelBorder='';var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?-0.5:0;var endY=axis.opposedPosition&&axis.labelPosition==='Inside'||!axis.opposedPosition&&axis.labelPosition==='Outside'?axisRect.y+length_2+padding+scrollBarHeight:axisRect.y-length_2-padding-scrollBarHeight;for(var i=0,len=axis.visibleLabels.length;i<len;i++){pointX=valueToCoefficient(axis.visibleLabels[i].value+ticksbwtLabel,axis);pointX=(axis.isInversed?1-pointX:pointX)*axisRect.width;if(axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'){startX=pointX+axisRect.x;endX=pointX+gap+axisRect.x;}else{startX=pointX-gap*0.5+axisRect.x;endX=pointX+gap*0.5+axisRect.x;}switch(axis.border.type){case'Rectangle':case'WithoutTopBorder':if(startX<axisRect.x){labelBorder+='M'+' '+axisRect.x+' '+endY+' '+'L'+' '+endX+' '+endY+' ';}else if(Math.floor(endX)>axisRect.width+axisRect.x&&!(axis.visibleLabels.length===1)){labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'L'+' '+(axisRect.width+axisRect.x)+' '+endY+' ';}else{labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'L'+' '+endX+' '+endY+' ';if(i===0){labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'M '+startX+' '+endY+' L '+axisRect.x+' '+endY;}if(i===axis.visibleLabels.length-1){labelBorder+='M'+' '+endX+' '+startY+' '+'L'+' '+endX+' '+endY+' '+'M '+endX+' '+endY+' L '+(axisRect.width+axisRect.x)+' '+endY;}}break;case'WithoutTopandBottomBorder':if(!(startX<axisRect.x)&&!(Math.floor(endX)>axisRect.width+axisRect.x)){labelBorder+='M'+' '+startX+' '+startY+' '+'L'+' '+startX+' '+endY+' '+'M '+endX+' '+startY+' L '+endX+' '+endY;}break;}}labelBorder+=axis.border.type==='Rectangle'?'M '+' '+axisRect.x+' '+startY+'L'+' '+(axisRect.x+axisRect.width)+' '+startY:'';if(labelBorder!==''){this.createAxisBorderElement(axis,index,labelBorder,parent);}}if(this.chart.multiLevelLabelModule&&axis.multiLevelLabels.length>0){this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(axis,index,parent,axisRect);}};/**
     * To create border element of the axis
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {string} labelBorder labelBorder
     * @param {Element} parent parent
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.createAxisBorderElement=function(axis,index,labelBorder,parent){var element=getElement$1(this.chart.element.id+'_BorderLine_'+index);var direction=element?element.getAttribute('d'):'';var borderElement=this.chart.renderer.drawPath(new sf.svgbase.PathOption(this.chart.element.id+'_BorderLine_'+index,'transparent',axis.border.width,axis.border.color||this.chart.themeStyle.axisLine,1,'',labelBorder));borderElement.setAttribute('style','pointer-events: none');appendChildElement(this.chart.enableCanvas,parent,borderElement,this.chart.redraw,true,'x','y',null,direction,true);};/**
     * To find the axis label of the intersect action
     *
     * @param {Axis} axis axis
     * @param {string} label label
     * @param {number} width width
     * @returns {string} label
     */CartesianAxisLayoutPanel.prototype.findAxisLabel=function(axis,label,width){return axis.labelIntersectAction==='Trim'?axis.angle%360===0&&!axis.enableTrim?textTrim(width,label,axis.labelStyle):label:label;};/**
     * X-Axis Title function performed
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Element} parent parent
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.drawXAxisTitle=function(axis,index,parent,rect){if(axis.title){var chart=this.chart;var elementSize=sf.svgbase.measureText(axis.title,axis.titleStyle);var scrollBarHeight=sf.base.isNullOrUndefined(axis.crossesAt)?axis.scrollBarHeight:0;var padding=(axis.tickPosition==='Inside'?0:axis.majorTickLines.height+axis.titlePadding)+(axis.labelPosition==='Inside'?0:axis.maxLabelSize.height+axis.multiLevelLabelHeight+axis.labelPadding);var titleSize=axis.titleSize.height*(axis.titleCollection.length-1);padding=axis.opposedPosition?-(padding+elementSize.height/4+scrollBarHeight+titleSize):padding+3*elementSize.height/4+scrollBarHeight;var options=new sf.svgbase.TextOption(chart.element.id+'_AxisTitle_'+index,rect.x+rect.width*0.5,rect.y+padding,'middle',axis.titleCollection);var element=textElement(chart.renderer,options,axis.titleStyle,axis.titleStyle.color||chart.themeStyle.axisTitle,parent);element.setAttribute('aria-label',axis.description||axis.title);element.setAttribute('tabindex',axis.tabIndex.toString());}};/**
     * To render the axis grid and tick lines(Both Major and Minor)
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {string} gridDirection gridDirection
     * @param {MajorTickLinesModel | MinorTickLinesModel | MajorGridLinesModel | MinorGridLinesModel} gridModel gridModel
     * @param {string} gridId gridId
     * @param {number} gridIndex gridIndex
     * @param {Element} parent parent
     * @param {string} themeColor themeColor
     * @param {string} dashArray dashArray
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.renderGridLine=function(axis,index,gridDirection,gridModel,gridId,gridIndex,parent,themeColor,dashArray){if(dashArray===void 0){dashArray=null;}var chart=this.chart;var direction;var element;if(gridModel.width>0&&axis.visible&&axis.internalVisibility&&gridDirection){element=getElement$1(chart.element.id+gridId+index+'_'+gridIndex);direction=element?element.getAttribute('d'):null;element=null;this.htmlObject=chart.renderer.drawPath(new sf.svgbase.PathOption(chart.element.id+gridId+index+'_'+gridIndex,'transparent',gridModel.width,gridModel.color||themeColor,null,dashArray,gridDirection));appendChildElement(chart.enableCanvas,parent,this.htmlObject,chart.redraw,true,'x','y',null,direction,true);}};/**
     * To Find the parent node of the axis
     *
     * @param {string} elementId elementId
     * @param {Element} label label
     * @param {number} index index
     * @returns {Element} parent node of the axis
     */CartesianAxisLayoutPanel.prototype.findParentNode=function(elementId,label,index){if(document.getElementById(elementId+'AxisGroup'+index+'Inside').contains(document.getElementById(label.id))){return document.getElementById(elementId+'AxisGroup'+index+'Inside');}else{return document.getElementById(elementId+'AxisGroup'+index+'Outside');}};/**
     * Create Zooming Labels Function Called here
     *
     * @param {Chart} chart chart
     * @param {Element} labelElement labelElement
     * @param {Axis} axis axis
     * @param {number} index index
     * @param {Rect} rect rect
     * @returns {void}
     */CartesianAxisLayoutPanel.prototype.createZoomingLabel=function(chart,labelElement,axis,index,rect){var parentNode=this.findParentNode(chart.element.id,labelElement,index);labelElement.setAttribute('opacity','0.3');var zoomElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels_Zoom'+index});zoomElement=createZoomingLabels(chart,axis,zoomElement,index,axis.orientation==='Vertical',rect);parentNode.replaceChild(labelElement,document.getElementById(labelElement.id));if(getElement$1(chart.element.id+'AxisLabels_Zoom'+index)){parentNode.replaceChild(zoomElement,document.getElementById(zoomElement.id));}else{parentNode.appendChild(zoomElement);}};return CartesianAxisLayoutPanel;}();/* eslint-disable @typescript-eslint/ban-types */ /**
 * data module is used to generate query and dataSource
 */var Data=/** @class */function(){/**
     * Constructor for data module
     *
     * @param dataSource
     * @param query
     * @param dataSource
     * @param query
     * @private
     */function Data(dataSource,query){this.initDataManager(dataSource,query);}/**
     * The function used to initialize dataManager and query
     *
     * @param dataSource
     * @param query
     * @param dataSource
     * @param query
     * @returns {void}
     * @private
     */Data.prototype.initDataManager=function(dataSource,query){this.dataManager=dataSource instanceof sf.data.DataManager?dataSource:new sf.data.DataManager(dataSource);this.query=query instanceof sf.data.Query?query:new sf.data.Query();};/**
     * The function used to generate updated Query from chart model
     *
     * @returns {void}
     * @private
     */Data.prototype.generateQuery=function(){var query=this.query.clone();return query;};/**
     * The function used to get dataSource by executing given Query
     *
     * @param  {Query} query - A Query that specifies to generate dataSource
     * @returns {void}
     * @private
     */Data.prototype.getData=function(dataQuery){var _this=this;if(this.dataManager.ready){var dataManagerDeferred_1=new sf.data.Deferred();var ready=this.dataManager.ready;ready.then(function(){_this.dataManager.executeQuery(dataQuery).then(function(result){dataManagerDeferred_1.resolve(result);});})["catch"](function(e){dataManagerDeferred_1.reject(e);});return dataManagerDeferred_1.promise;}else{return this.dataManager.executeQuery(dataQuery);}};return Data;}();var __extends$11=undefined&&undefined.__extends||function(){var _extendStatics10=function extendStatics(d,b){_extendStatics10=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics10(d,b);};return function(d,b){_extendStatics10(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /**
 * Marker Module used to render the marker for line type series.
 */var MarkerExplode=/** @class */function(_super){__extends$11(MarkerExplode,_super);/**
     * Constructor for the marker module.
     *
     * @private
     */function MarkerExplode(chart){var _this=_super.call(this,chart)||this;_this.elementId=chart.element.id;return _this;}/**
     * @hidden
     */MarkerExplode.prototype.addEventListener=function(){if(this.chart.isDestroyed){return;}this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(sf.base.Browser.touchEndEvent,this.mouseUpHandler,this);};/**
     * @hidden
     */MarkerExplode.prototype.removeEventListener=function(){if(this.chart.isDestroyed){return;}this.chart.off(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler);this.chart.off(sf.base.Browser.touchEndEvent,this.mouseUpHandler);};/**
     * @hidden
     */MarkerExplode.prototype.mouseUpHandler=function(){var chart=this.chart;if(chart.isTouch&&!chart.crosshair.enable&&!this.isSelected(chart)){this.markerMove(true);}};/**
     * @hidden
     */MarkerExplode.prototype.mouseMoveHandler=function(){var chart=this.chart;if((!chart.crosshair.enable||chart.tooltip.enable)&&(!chart.isTouch||chart.startMove)&&!this.isSelected(chart)){this.markerMove(false);}};MarkerExplode.prototype.markerMove=function(remove$$1){var _this=this;var chart=this.chart;this.currentPoints=[];var data;var previous;var explodeSeries;var series;if(!chart.tooltip.shared||!chart.tooltip.enable){data=this.getData();series=data.series;previous=this.previousPoints[0];explodeSeries=series&&(series.type==='Bubble'||series.drawType==='Scatter'||series.type==='Scatter'||series.type!=='Candle'&&series.type!=='Hilo'&&series.type!=='HiloOpenClose'&&series.marker.visible&&series.marker.width!==0&&series.marker.height!==0);data.lierIndex=this.lierIndex;if(data.point&&explodeSeries&&(!previous||previous.point!==data.point||previous&&previous.lierIndex>3&&previous.lierIndex!==this.lierIndex)){this.currentPoints.push(data);}if(data.point&&explodeSeries&&chart.isPointMouseDown){this.currentPoints.push(data);}}else{if(!withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){return null;}if(chart.tooltip.enable){var pointData=chart.chartAreaType==='PolarRadar'?this.getData():null;for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var chartSeries=_a[_i];if(!chartSeries.enableTooltip||chartSeries.category==='Indicator'){continue;}if(chart.chartAreaType==='Cartesian'&&chartSeries.visible){data=this.getClosestX(chart,chartSeries);}else if(chart.chartAreaType==='PolarRadar'&&chartSeries.visible&&pointData.point!==null){data=new PointData(chartSeries.points[pointData.point.index],chartSeries);}if(data){this.currentPoints.push(data);data=null;}}}}var length=this.previousPoints.length;if(this.currentPoints.length>0){if(length===0||chart.isPointMouseDown||length>0&&this.previousPoints[0].point!==this.currentPoints[0].point){if(this.previousPoints.length>0){this.removeHighlightedMarker();}var _loop_1=function _loop_1(data_1){if(data_1&&data_1.point||series.type!=='Candle'&&series.type!=='Hilo'&&series.type!=='HiloOpenClose'){stopTimer(this_1.markerExplode);this_1.isRemove=true;data_1.point.symbolLocations.map(function(location,index){if(!data_1.series.isRectSeries||data_1.point.marker.visible){_this.drawTrackBall(data_1.series,data_1.point,location,index);}});}};var this_1=this;for(var _b=0,_c=this.currentPoints;_b<_c.length;_b++){var data_1=_c[_b];_loop_1(data_1);}this.previousPoints=sf.base.extend([],this.currentPoints,null,true);}}if(!chart.tooltip.enable&&(this.currentPoints.length===0&&this.isRemove||remove$$1&&this.isRemove||!withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect))){this.isRemove=false;this.markerExplode=+setTimeout(function(){_this.removeHighlightedMarker();},2000);}this.currentPoints=[];};MarkerExplode.prototype.drawTrackBall=function(series,point,location,index){var marker=point.marker;var seriesMarker=series.marker;var shape=marker.shape||seriesMarker.shape;if(shape==='None'){return null;}var element=series.symbolElement||series.seriesElement;var className;if(this.chart.highlightModule&&this.chart.highlightMode!=='None'){className=this.chart.highlightModule.generateStyle(series);}if(this.chart.selectionModule&&this.chart.selectionMode!=='None'){className=this.chart.selectionModule.generateStyle(series);}var symbolId=this.elementId+'_Series_'+series.index+'_Point_'+point.index+'_Trackball'+(index?index:'');var size=new sf.svgbase.Size((marker.width||seriesMarker.width)+5,(marker.height||seriesMarker.height)+5);var border=marker.border||series.border;var explodeSeries=series.type==='BoxAndWhisker'||series.type==='Bubble'||series.type==='Scatter';var borderColor=border.color&&border.color!=='transparent'?border.color:marker.fill||point.interior||(explodeSeries?point.color:series.interior);var colorValue=convertHexToColor(colorNameToHex(borderColor));var borderWidth=marker.border?marker.border.width:seriesMarker.border.width;var markerShadow=series.chart.themeStyle.markerShadow||'rgba('+colorValue.r+','+colorValue.g+','+colorValue.b+',0.2)';for(var i=0;i<2;i++){var options=new sf.svgbase.PathOption(symbolId+'_'+i,i?marker.fill||point.color||(explodeSeries?series.interior:'#ffffff'):'transparent',borderWidth+(i?0:8),i?borderColor:markerShadow,marker.opacity||seriesMarker.opacity,null,null);var symbol=drawSymbol(location,shape,size,seriesMarker.imageUrl,options,'',this.chart.svgRenderer,series.clipRect);// incident: 252450 point click selection not working while maker explode
//symbol.setAttribute('style', 'pointer-events:none');
symbol.setAttribute('class','EJ2-Trackball');var selectionId=element.id.indexOf('Symbol')!==-1?'_Symbol':'';var seletionElem=document.getElementById(this.elementId+'_Series_'+series.index+'_Point_'+point.index+selectionId);if(className!==''&&!sf.base.isNullOrUndefined(className)&&!sf.base.isNullOrUndefined(seletionElem)&&seletionElem.hasAttribute('class')&&className===seletionElem.getAttribute('class')){symbol.classList.add(className);}symbol.setAttribute('clip-path',element.getAttribute('clip-path'));symbol.setAttribute('transform',element.getAttribute('transform'));this.chart.svgObject.appendChild(symbol);}};/**
     * @hidden
     */MarkerExplode.prototype.removeHighlightedMarker=function(){var elements=document.getElementsByClassName('EJ2-Trackball');for(var i=0,len=elements.length;i<len;i++){sf.base.remove(elements[0]);}this.previousPoints=[];};return MarkerExplode;}(ChartData);var __extends$10=undefined&&undefined.__extends||function(){var _extendStatics11=function extendStatics(d,b){_extendStatics11=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics11(d,b);};return function(d,b){_extendStatics11(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/ban-types */ /**
 * Marker module used to render the marker for line type series.
 */var Marker=/** @class */function(_super){__extends$10(Marker,_super);/**
     * Constructor for the marker module.
     *
     * @private
     */function Marker(chart){var _this=_super.call(this,chart)||this;_this.addEventListener();return _this;}/**
     * Render the marker for series.
     *
     * @returns {void}
     * @private
     */Marker.prototype.render=function(series){var _this=this;var redraw=series.chart.redraw;this.createElement(series,redraw);var _loop_1=function _loop_1(point){if(point.visible&&point.symbolLocations&&point.symbolLocations.length){point.symbolLocations.map(function(location,index){if(series.marker.shape!=='None'){_this.renderMarker(series,point,location,index,redraw);}});}};for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];_loop_1(point);}};Marker.prototype.renderMarker=function(series,point,location,index,redraw){var seriesIndex=series.index===undefined?series.category:series.index;var marker=series.marker;var border={color:marker.border.color,width:marker.border.width};var borderColor=marker.border.color;var previousLocation;var previousPath;var circlePath;var shapeOption;location.x=location.x+marker.offset.x;location.y=location.y-marker.offset.y;var isBoxPlot=series.type==='BoxAndWhisker';var fill=marker.fill||(isBoxPlot?point.interior||series.interior:'#ffffff');var markerElement;var parentElement=isBoxPlot?findlElement(series.seriesElement.childNodes,'Series_'+series.index+'_Point_'+point.index):series.symbolElement;border.color=borderColor||series.setPointColor(point,series.interior);var symbolId=this.elementId+'_Series_'+seriesIndex+'_Point_'+point.index+'_Symbol'+(index?index:'');var argsData={cancel:false,name:pointRender,series:series,point:point,fill:point.isEmpty?series.emptyPointSettings.fill||fill:fill,border:{color:series.type==='BoxAndWhisker'?!sf.base.isNullOrUndefined(borderColor)&&borderColor!=='transparent'?borderColor:getSaturationColor(fill,-0.6):border.color,width:border.width},height:marker.height,width:marker.width,shape:marker.shape};argsData.border=series.setBorderColor(point,{width:argsData.border.width,color:argsData.border.color});if(!series.isRectSeries||series.type==='BoxAndWhisker'){this.chart.trigger(pointRender,argsData);point.color=argsData.fill;}point.color=argsData.fill;if(!argsData.cancel){var y=void 0;if(series.type==='RangeArea'||series.type==='RangeColumn'||series.drawType==='RangeColumn'){y=index?point.low:point.high;}else if(isBoxPlot){y=point.outliers[index];}else{y=point.y;}var markerFill=argsData.point.marker.fill||argsData.fill;var markerBorder=void 0;if(!sf.base.isNullOrUndefined(argsData.point.marker.border)){markerBorder={color:argsData.point.marker.border.color||argsData.border.color,width:argsData.point.marker.border.width||argsData.border.width};}else{markerBorder={color:argsData.border.color,width:argsData.border.width};}var markerWidth=argsData.point.marker.width||argsData.width;var markerHeight=argsData.point.marker.height||argsData.height;var markerOpacity=argsData.point.marker.opacity||marker.opacity;var markerShape=argsData.point.marker.shape||argsData.shape;shapeOption=new sf.svgbase.PathOption(symbolId,markerFill,markerBorder.width,markerBorder.color,markerOpacity,null);if(parentElement!==undefined&&parentElement!==null||this.chart.enableCanvas){if(redraw&&getElement$1(shapeOption.id)){markerElement=getElement$1(shapeOption.id);circlePath=markerShape==='Circle'?'c':'';previousLocation={x:+markerElement.getAttribute(circlePath+'x'),y:+markerElement.getAttribute(circlePath+'y')};previousPath=markerElement.getAttribute('d');}markerElement=drawSymbol(location,markerShape,new sf.svgbase.Size(markerWidth,markerHeight),marker.imageUrl,shapeOption,point.x.toString()+':'+y.toString(),this.chart.renderer,series.clipRect);appendChildElement(this.chart.enableCanvas,parentElement,markerElement,redraw,true,circlePath+'x',circlePath+'y',previousLocation,previousPath,false,false,null,series.chart.duration);}point.marker={border:markerBorder,fill:markerFill,height:markerHeight,visible:true,shape:markerShape,width:markerWidth};}else{location=null;point.marker={visible:false};}};Marker.prototype.createElement=function(series,redraw){var markerClipRect;var marker=series.marker;// 8 for extend border value 5 for extend size value
var explodeValue=marker.border.width+8+5;var render=series.chart.svgRenderer;var index=series.index===undefined?series.category:series.index;var options;var transform=series.chart.chartAreaType==='Cartesian'?'translate('+series.clipRect.x+','+series.clipRect.y+')':'';if(marker.visible){var markerHeight=(marker.height+explodeValue)/2;var markerWidth=(marker.width+explodeValue)/2;if(series.chart.chartAreaType==='Cartesian'){options=new RectOption(this.elementId+'_ChartMarkerClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:-markerWidth,y:-markerHeight,width:series.clipRect.width+markerWidth*2,height:series.clipRect.height+markerHeight*2});markerClipRect=appendClipElement(redraw,options,render);}else{options=new CircleOption(this.elementId+'_ChartMarkerClipRect_'+index,'transparent',{width:1,color:'Gray'},1,series.clipRect.width/2+series.clipRect.x,series.clipRect.height/2+series.clipRect.y,series.chart.radius+Math.max(markerHeight,markerWidth));markerClipRect=appendClipElement(redraw,options,render,'drawCircularClipPath');}options={'id':this.elementId+'SymbolGroup'+index,'transform':transform,'clip-path':'url(#'+this.elementId+'_ChartMarkerClipRect_'+index+')'};series.symbolElement=render.createGroup(options);series.symbolElement.appendChild(markerClipRect);if(this.chart.enableCanvas){var element=document.getElementById(this.chart.element.id+'_tooltip_svg');element.appendChild(series.symbolElement);}}};Marker.prototype.getRangeLowPoint=function(region,series){var x=region.x;var y=region.y;if(series.chart.requireInvertedAxis){y+=region.height/2;x+=series.yAxis.isInversed?region.width:0;}else{y+=series.yAxis.isInversed?0:region.height;x+=region.width/2;}return{x:x,y:y};};/**
     * Animates the marker.
     *
     * @returns {void}
     * @private
     */Marker.prototype.doMarkerAnimation=function(series){if(!(series.type==='Scatter'||series.type==='Bubble'||series.type==='Candle'||series.type==='Hilo'||series.type==='HiloOpenClose'||series.chart.chartAreaType==='PolarRadar'&&series.drawType==='Scatter')){var markerElements=series.symbolElement.childNodes;var delay=series.animation.delay+series.animation.duration;var duration=series.chart.animated?series.chart.duration:200;var j=1;var incFactor=series.type==='RangeArea'||series.type==='RangeColumn'?2:1;for(var i=0;i<series.points.length;i++){if(series.points[i].symbolLocations){if(!series.points[i].symbolLocations.length||!markerElements[j]){continue;}markerAnimate(markerElements[j],delay,duration,series,i,series.points[i].symbolLocations[0],false);if(incFactor===2){var lowPoint=this.getRangeLowPoint(series.points[i].regions[0],series);markerAnimate(markerElements[j+1],delay,duration,series,i,lowPoint,false);}j+=incFactor;}}}};return Marker;}(MarkerExplode);var __extends$12=undefined&&undefined.__extends||function(){var _extendStatics12=function extendStatics(d,b){_extendStatics12=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics12(d,b);};return function(d,b){_extendStatics12(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$7=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Configures the location for the legend.
 */var Location=/** @class */function(_super){__extends$12(Location,_super);function Location(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$7([sf.base.Property(0)],Location.prototype,"x",void 0);__decorate$7([sf.base.Property(0)],Location.prototype,"y",void 0);return Location;}(sf.base.ChildProperty);/**
 * Configures the legends in charts.
 */var LegendSettings=/** @class */function(_super){__extends$12(LegendSettings,_super);function LegendSettings(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$7([sf.base.Property(true)],LegendSettings.prototype,"visible",void 0);__decorate$7([sf.base.Property(null)],LegendSettings.prototype,"height",void 0);__decorate$7([sf.base.Property(null)],LegendSettings.prototype,"width",void 0);__decorate$7([sf.base.Complex({x:0,y:0},Location)],LegendSettings.prototype,"location",void 0);__decorate$7([sf.base.Property('Auto')],LegendSettings.prototype,"position",void 0);__decorate$7([sf.base.Property('Series')],LegendSettings.prototype,"mode",void 0);__decorate$7([sf.base.Property(8)],LegendSettings.prototype,"padding",void 0);__decorate$7([sf.base.Property('Center')],LegendSettings.prototype,"alignment",void 0);__decorate$7([sf.base.Complex(Theme.legendLabelFont,Font)],LegendSettings.prototype,"textStyle",void 0);__decorate$7([sf.base.Property(10)],LegendSettings.prototype,"shapeHeight",void 0);__decorate$7([sf.base.Property(10)],LegendSettings.prototype,"shapeWidth",void 0);__decorate$7([sf.base.Complex({},Border)],LegendSettings.prototype,"border",void 0);__decorate$7([sf.base.Complex({left:0,right:0,top:0,bottom:0},Margin)],LegendSettings.prototype,"margin",void 0);__decorate$7([sf.base.Complex({left:0,right:0,top:0,bottom:0},ContainerPadding)],LegendSettings.prototype,"containerPadding",void 0);__decorate$7([sf.base.Property(5)],LegendSettings.prototype,"shapePadding",void 0);__decorate$7([sf.base.Property('transparent')],LegendSettings.prototype,"background",void 0);__decorate$7([sf.base.Property(1)],LegendSettings.prototype,"opacity",void 0);__decorate$7([sf.base.Property(true)],LegendSettings.prototype,"toggleVisibility",void 0);__decorate$7([sf.base.Property(null)],LegendSettings.prototype,"description",void 0);__decorate$7([sf.base.Property(3)],LegendSettings.prototype,"tabIndex",void 0);__decorate$7([sf.base.Property(null)],LegendSettings.prototype,"title",void 0);__decorate$7([sf.base.Complex(Theme.legendTitleFont,Font)],LegendSettings.prototype,"titleStyle",void 0);__decorate$7([sf.base.Property('Top')],LegendSettings.prototype,"titlePosition",void 0);__decorate$7([sf.base.Property(100)],LegendSettings.prototype,"maximumTitleWidth",void 0);__decorate$7([sf.base.Property(true)],LegendSettings.prototype,"enablePages",void 0);return LegendSettings;}(sf.base.ChildProperty);/**
 * Legend base class for Chart and Accumulation chart.
 *
 * @private
 */var BaseLegend=/** @class */function(){/**
     * Constructor for the dateTime module.
     *
     * @private
     */function BaseLegend(chart){this.pageXCollections=[];// pages of x locations
this.legendTitleCollections=[];this.legendRegions=[];this.pagingRegions=[];this.chart=chart;this.legend=chart.legendSettings;this.legendID=chart.element.id+'_chart_legend';this.isChartControl=chart.getModuleName()==='chart';this.isBulletChartControl=chart.getModuleName()==='bulletChart';this.bulletChart=this.chart;this.fivePixel=5;this.rowCount=0;this.pageButtonSize=8;this.maxColumns=0;this.maxWidth=0;this.currentPage=1;this.backwardArrowOpacity=0;this.forwardArrowOpacity=1;this.arrowWidth=2*(this.fivePixel+this.pageButtonSize+this.fivePixel);this.arrowHeight=this.arrowWidth;this.isTop=false;this.isTitle=false;this.currentPageNumber=1;}/**
     * Calculate the bounds for the legends.
     *
     * @returns {void}
     * @private
     */BaseLegend.prototype.calculateLegendBounds=function(rect,availableSize,maxLabelSize){var legend=this.legend;var defaultValue=this.isBulletChartControl?'40%':'20%';this.getPosition(legend.position,availableSize);this.legendBounds=new sf.svgbase.Rect(rect.x,rect.y,0,0);this.isVertical=this.position==='Left'||this.position==='Right';if(this.isVertical){this.legendBounds.height=stringToNumber(legend.height,availableSize.height-(rect.y-this.chart.margin.top))||rect.height;this.legendBounds.width=stringToNumber(legend.width||defaultValue,availableSize.width);}else{this.legendBounds.width=stringToNumber(legend.width,availableSize.width)||rect.width;this.legendBounds.height=stringToNumber(legend.height||defaultValue,availableSize.height);}this.library.getLegendBounds(availableSize,this.legendBounds,legend);if(!this.isBulletChartControl){this.legendBounds.width+=this.legend.containerPadding.left+this.legend.containerPadding.right;this.legendBounds.height+=this.legend.containerPadding.top+this.legend.containerPadding.bottom;}this.getLocation(this.position,legend.alignment,this.legendBounds,rect,availableSize,maxLabelSize);};/**
     * To find legend position based on available size for chart and accumulation chart
     *
     * @param position
     * @param availableSize
     * @param position
     * @param availableSize
     * @returns {void}
     */BaseLegend.prototype.getPosition=function(position,availableSize){var chart=this.chart;var accumulation=this.chart;if(this.isChartControl||this.isBulletChartControl){this.position=position!=='Auto'?position:'Bottom';}else{if(position==='Auto'&&((chart||accumulation).visibleSeries&&(chart||accumulation).visibleSeries[0].type==='Funnel'||(chart||accumulation).visibleSeries[0].type==='Pyramid')){position='Top';}this.position=position!=='Auto'?position:availableSize.width>availableSize.height?'Right':'Bottom';}};/**
     * To set bounds for chart and accumulation chart
     *
     * @param computedWidth
     * @param computedHeight
     * @param legend
     * @param legendBounds
     * @param computedWidth
     * @param computedHeight
     * @param legend
     * @param legendBounds
     * @param computedWidth
     * @param computedHeight
     * @param legend
     * @param legendBounds
     * @param computedWidth
     * @param computedHeight
     * @param legend
     * @param legendBounds
     * @returns {void}
     */BaseLegend.prototype.setBounds=function(computedWidth,computedHeight,legend,legendBounds){var titleHeight=legend.title&&legend.titlePosition==='Top'?this.legendTitleSize.height+this.fivePixel:0;if(this.isVertical&&this.isPaging&&!legend.enablePages&&!this.isBulletChartControl){titleHeight=legend.title&&legend.titlePosition==='Top'?this.legendTitleSize.height+this.fivePixel:0;titleHeight+=this.pageButtonSize+this.fivePixel;}computedWidth=Math.min(computedWidth,legendBounds.width);computedHeight=Math.min(computedHeight,legendBounds.height);if(legend.mode==='Gradient'){legendBounds.width=legend.width?legendBounds.width:this.isVertical?computedWidth:0.75*legendBounds.width;legendBounds.height=legend.height?legendBounds.height:this.isVertical?0.75*legendBounds.height:computedHeight;}else{legendBounds.width=!legend.width?computedWidth:legendBounds.width;legendBounds.height=!legend.height?computedHeight:legendBounds.height;}if(!this.isBulletChartControl){if(this.isTop&&legend.titleStyle.textOverflow!=='None'){this.calculateLegendTitle(legend,legendBounds);legendBounds.height+=legend.titleStyle.textOverflow==='Wrap'&&this.legendTitleCollections.length>1?this.legendTitleSize.height-this.legendTitleSize.height/this.legendTitleCollections.length:0;}}this.rowCount=Math.max(1,Math.ceil((legendBounds.height-legend.padding-titleHeight)/(this.maxItemHeight+legend.padding)));};/**
     * To find legend location based on position, alignment for chart and accumulation chart
     *
     * @param position
     * @param alignment
     * @param legendBounds
     * @param rect
     * @param availableSize
     * @param maxLabelSize
     * @param position
     * @param alignment
     * @param legendBounds
     * @param rect
     * @param availableSize
     * @param maxLabelSize
     * @param position
     * @param alignment
     * @param legendBounds
     * @param rect
     * @param availableSize
     * @param maxLabelSize
     * @param position
     * @param alignment
     * @param legendBounds
     * @param rect
     * @param availableSize
     * @param maxLabelSize
     * @param position
     * @param alignment
     * @param legendBounds
     * @param rect
     * @param availableSize
     * @param maxLabelSize
     * @param position
     * @param alignment
     * @param legendBounds
     * @param rect
     * @param availableSize
     * @param maxLabelSize
     */BaseLegend.prototype.getLocation=function(position,alignment,legendBounds,rect,availableSize,maxLabelSize){var padding=this.legend.border.width;var isBulletChart=this.isBulletChartControl;var bulletChart=this.bulletChart;var labelIns=bulletChart.labelPosition==='Inside';var ticklIns=bulletChart.tickPosition==='Inside';var isVertical=bulletChart.orientation==='Vertical';var categoryFieldValue=isBulletChart&&bulletChart.categoryField!==''?maxLabelSize.width+this.chart.border.width+padding*3:0;var marginBottom=this.chart.margin.bottom;var legendHeight=legendBounds.height+padding+this.legend.margin.top+this.legend.margin.bottom;var legendWidth=legendBounds.width+padding+this.legend.margin.left+this.legend.margin.right;if(position==='Bottom'){legendBounds.x=this.alignLegend(legendBounds.x,availableSize.width,legendBounds.width,alignment);legendBounds.y=rect.y+(rect.height-legendHeight)+padding+this.legend.margin.top;legendBounds.y+=isBulletChart&&!bulletChart.opposedPosition&&!labelIns&&!ticklIns&&!isVertical?bulletChart.majorTickLines.height+marginBottom+this.legend.border.width+padding*2:isVertical&&bulletChart.categoryField!==''?maxLabelSize.height+padding*2:0;subtractThickness(rect,new Thickness(0,0,0,legendHeight));}else if(position==='Top'){legendBounds.x=this.alignLegend(legendBounds.x,availableSize.width,legendBounds.width,alignment);legendBounds.y=rect.y+padding+this.legend.margin.top;legendBounds.y-=isBulletChart&&bulletChart.opposedPosition&&!labelIns&&!ticklIns&&!isVertical?bulletChart.majorTickLines.height+this.chart.margin.top:0;legendHeight-=isBulletChart?-padding*2:0;subtractThickness(rect,new Thickness(0,0,legendHeight,0));}else if(position==='Right'){legendBounds.x=rect.x+(rect.width-legendBounds.width)-this.legend.margin.right;legendBounds.y=rect.y+this.alignLegend(0,availableSize.height-(rect.y+marginBottom),legendBounds.height,alignment);legendWidth+=isBulletChart&&bulletChart.opposedPosition&&!labelIns&&!ticklIns&&isVertical?this.chart.margin.left+this.chart.margin.right+bulletChart.majorTickLines.height:0;subtractThickness(rect,new Thickness(0,legendWidth,0,0));}else if(position==='Left'){legendBounds.x=legendBounds.x+this.legend.margin.left;legendBounds.y=rect.y+this.alignLegend(0,availableSize.height-(rect.y+marginBottom),legendBounds.height,alignment);legendWidth+=isBulletChart&&!bulletChart.opposedPosition&&!labelIns&&!ticklIns&&isVertical?legendBounds.x-this.chart.margin.left+padding+bulletChart.majorTickLines.height:bulletChart.orientation!=='Vertical'&&bulletChart.categoryField!==''?categoryFieldValue:0;subtractThickness(rect,new Thickness(legendWidth,0,0,0));}else{legendBounds.x=this.legend.location.x;legendBounds.y=this.legend.location.y;subtractThickness(rect,new Thickness(0,0,0,0));}};/**
     * To find legend alignment for chart and accumulation chart
     *
     * @param start
     * @param size
     * @param legendSize
     * @param alignment
     * @param start
     * @param size
     * @param legendSize
     * @param alignment
     * @param start
     * @param size
     * @param legendSize
     * @param alignment
     * @param start
     * @param size
     * @param legendSize
     * @param alignment
     */BaseLegend.prototype.alignLegend=function(start,size,legendSize,alignment){switch(alignment){case'Far':start=size-legendSize-start;break;case'Center':start=(size-legendSize)/2;break;}return start;};/**
     * Renders the legend.
     *
     * @param chart
     * @param legend
     * @param legendBounds
     * @param redraw
     * @param chart
     * @param legend
     * @param legendBounds
     * @param redraw
     * @param chart
     * @param legend
     * @param legendBounds
     * @param redraw
     * @param chart
     * @param legend
     * @param legendBounds
     * @param redraw
     * @returns {void}
     * @private
     */BaseLegend.prototype.renderLegend=function(chart,legend,legendBounds,redraw){var titleHeight=0;var titlePlusArrowWidth=0;var pagingLegendBounds=new sf.svgbase.Rect(0,0,0,0);var requireLegendBounds=new sf.svgbase.Rect(0,0,0,0);var firstLegend=this.findFirstLegendPosition(this.legendCollections);var padding=legend.padding;var isPaging=legend.enablePages;var titlePosition=legend.titlePosition;var upArrowHeight=this.isPaging&&!legend.enablePages&&this.isVertical?this.pageButtonSize:0;var legendGroup=chart.renderer.createGroup({id:this.legendID+'_g'});var legendTranslateGroup=this.createLegendElements(chart,legendBounds,legendGroup,legend,this.legendID,redraw);this.legendRegions=[];this.maxItemHeight=Math.max(this.legendCollections[0].textSize.height,legend.shapeHeight);// For new legend navigation
if(!isPaging&&this.isPaging&&!this.isVertical){titlePlusArrowWidth=!this.isTitle?0:titlePosition==='Left'?this.legendTitleSize.width:0;titlePlusArrowWidth+=this.pageButtonSize+2*this.fivePixel;}else if(!this.isPaging&&!this.isVertical){titlePlusArrowWidth=this.isTitle&&titlePosition==='Left'?this.fivePixel+this.legendTitleSize.width:0;}titleHeight=!this.isTitle?0:this.isTop||this.isVertical?this.legendTitleSize.height:0;if(chart.legendSettings.mode==='Gradient'&&this.legendCollections.length>1){this.getLinearLegend(legendBounds,chart,legend,legendTranslateGroup);this.totalPages=1;}else if(firstLegend!==this.legendCollections.length){var legendSeriesGroup=void 0;// legendItem group for each series group element
var count=0;var previousLegend=this.legendCollections[firstLegend];// starting shape center x,y position && to resolve lint error used new line for declaration
var start=new ChartLocation(this.isBulletChartControl?legendBounds.x+titlePlusArrowWidth+padding+legend.shapeWidth/2:legendBounds.x+titlePlusArrowWidth+padding+legend.shapeWidth/2+legend.containerPadding.left,this.isBulletChartControl?legendBounds.y+titleHeight+upArrowHeight+padding+this.maxItemHeight/2:legendBounds.y+titleHeight+upArrowHeight+padding+this.maxItemHeight/2+legend.containerPadding.top);var anchor=chart.isRtlEnabled?'end':'start';var textOptions=new sf.svgbase.TextOption('',start.x,start.y,anchor);var textPadding=legend.shapePadding+padding+legend.shapeWidth;//  initialization for totalPages legend click totalpage again calculate
this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl?this.totalPages:0;this.pageXCollections=[];this.legendCollections[firstLegend].location=start;if(!legend.enablePages&&this.isPaging){var x=start.x-this.fivePixel;var y=start.y-this.fivePixel;var leftSpace=this.isTitle&&!this.isVertical&&titlePosition==='Left'?this.legendTitleSize.width+this.fivePixel:0;var bottomSapce=this.isVertical?this.pageButtonSize+Math.abs(y-legendBounds.y):0;var rightSpace=this.isTitle&&!this.isVertical&&titlePosition==='Right'?this.legendTitleSize.width+this.fivePixel:0;rightSpace+=this.isVertical?0:this.fivePixel+this.pageButtonSize+this.fivePixel;pagingLegendBounds=new sf.svgbase.Rect(x,y,legendBounds.width-rightSpace-leftSpace,legendBounds.height-bottomSapce);requireLegendBounds=pagingLegendBounds;}else{requireLegendBounds=legendBounds;}for(var _i=0,_a=this.legendCollections;_i<_a.length;_i++){var legendOption=_a[_i];if(this.chart.getModuleName()==='accumulationchart'){// eslint-disable-next-line max-len
legendOption.fill=(this.chart||this.chart).visibleSeries[0].points[legendOption.pointIndex].color;}this.accessbilityText=this.isBulletChartControl?'Legend of bullet chart'+''+legendOption.text:'Click to show or hide the '+legendOption.text+' series';if(legendOption.render&&legendOption.text!==''){legendSeriesGroup=chart.renderer.createGroup({id:this.legendID+this.generateId(legendOption,'_g_',count)});if(legendSeriesGroup){legendSeriesGroup.setAttribute('tabindex',legend.tabIndex.toString());legendSeriesGroup.setAttribute('aria-label',legend.description||this.accessbilityText);}this.library.getRenderPoint(legendOption,start,textPadding,previousLegend,requireLegendBounds,count,firstLegend);this.renderSymbol(legendOption,legendSeriesGroup,count);this.renderText(chart,legendOption,legendSeriesGroup,textOptions,count);if(legendSeriesGroup){legendSeriesGroup.setAttribute('style','outline: none; cursor: '+(!legend.toggleVisibility&&(chart.selectionMode==='None'||chart.highlightMode==='None'||chart.selectionMode==='None')||this.isBulletChartControl?'auto':'pointer'));}if(legendTranslateGroup){legendTranslateGroup.appendChild(legendSeriesGroup);}previousLegend=legendOption;}count++;}if(this.isPaging){this.renderPagingElements(chart,legendBounds,textOptions,legendGroup);}else{this.totalPages=1;}}appendChildElement(chart.enableCanvas,chart.svgObject,legendGroup,redraw);};/** @private */BaseLegend.prototype.getLinearLegend=function(legendBounds,chart,legend,legendTranslateGroup){var xmlns='http://www.w3.org/2000/svg';var previousLegend=this.legendCollections[0];var nextLegend=this.legendCollections[1];var defElement=this.chart.renderer.createDefs();var gradientLegendCount=0;var linerGradientEle=document.createElementNS(xmlns,'linearGradient');var opacity=1;var fillColors=[];var numberItems=[];if(legend.title){if(!this.isVertical){if(legend.titlePosition==='Left'){legendBounds.x+=this.legendTitleSize.width;legendBounds.width-=this.legendTitleSize.width;}else if(legend.titlePosition==='Right'){legendBounds.width-=this.legendTitleSize.width;}else if(legend.titlePosition==='Top'){legendBounds.y+=this.legendTitleSize.height;legendBounds.height-=this.legendTitleSize.height;}}else{legendBounds.y+=this.legendTitleSize.height;legendBounds.height-=this.legendTitleSize.height;}}for(var _i=0,_a=this.chart.rangeColorSettings;_i<_a.length;_i++){var colorMap=_a[_i];if(numberItems.indexOf(colorMap.start)<0){numberItems.push(colorMap.start);}if(colorMap.colors.length>2){var diffValue=colorMap.end-colorMap.start;var colorsLength=colorMap.colors.length-1;if(diffValue>0){diffValue=diffValue/colorsLength;for(var index=1;index<colorsLength;index++){var calculatedValue=colorMap.start+diffValue*index;numberItems.push(calculatedValue);}}else{for(var index=1;index<colorsLength;index++){numberItems.push(colorMap.start);}}}if(numberItems.indexOf(colorMap.end)<0){numberItems.push(colorMap.end);}for(var _b=0,_c=colorMap.colors;_b<_c.length;_b++){var fillColor=_c[_b];if(fillColors.indexOf(fillColor)<0){fillColors.push(fillColor);}}if(colorMap.colors.length>0&&colorMap.colors.length<2){fillColors.push(colorMap.colors[0]);}}var x2=this.isVertical?'0':'100';var y2=this.isVertical?'100':'0';linerGradientEle.setAttribute('id',this.generateId(previousLegend,'linearGradient',gradientLegendCount));linerGradientEle.setAttribute('x1',0+'%');linerGradientEle.setAttribute('y1',0+'%');linerGradientEle.setAttribute('x2',x2+'%');linerGradientEle.setAttribute('y2',y2+'%');var full=numberItems[numberItems.length-1]-numberItems[0];for(var b=0;b<fillColors.length;b++){var offsetValue=numberItems[b]-numberItems[0];offsetValue=offsetValue/full;var stopEle=document.createElementNS(xmlns,'stop');stopEle.setAttribute('offset',offsetValue.toString());stopEle.setAttribute('stop-color',fillColors[b]);stopEle.setAttribute('stop-opacity',opacity.toString());linerGradientEle.appendChild(stopEle);}var startLabel=previousLegend.text.toString();var endLabel=nextLegend.text.toString();var startTextSize=sf.svgbase.measureText(startLabel,legend.textStyle);var endTextSize=sf.svgbase.measureText(endLabel,legend.textStyle);var textWidth=startTextSize.width>endTextSize.width?startTextSize.width:endTextSize.width;var textHeight=startTextSize.height>endTextSize.height?startTextSize.height:endTextSize.height;var otherSpaces=2*textWidth+4*legend.padding;var linearBarWidth=legendBounds.width;var linearBarHeight=legendBounds.height;var xValue=legendBounds.x+textWidth+2*legend.padding;var yValue=legendBounds.y+legend.padding;var startLabelY;var endLabelY;var startLabelX;var endLabelX;if(this.isVertical){otherSpaces=2*textHeight+4*legend.padding;linearBarWidth=legendBounds.width-2*legend.padding;linearBarHeight=legendBounds.height-otherSpaces;xValue=legendBounds.x+legend.padding;yValue=legendBounds.y+textHeight+2*legend.padding;startLabelY=legendBounds.y+legend.padding+textHeight;endLabelY=yValue+linearBarHeight+textHeight;startLabelX=legendBounds.x+legendBounds.width*0.5-textWidth*0.5;endLabelX=startLabelX;if(linearBarWidth>30){var diffWidth=linearBarWidth-30;linearBarWidth=30;xValue=xValue+diffWidth/2;}}else{linearBarWidth=legendBounds.width-otherSpaces;linearBarHeight=legendBounds.height-2*legend.padding;startLabelX=legendBounds.x+legend.padding+(textWidth-startTextSize.width);endLabelX=legendBounds.x+linearBarWidth+3*legend.padding+textWidth;startLabelY=legendBounds.y+legendBounds.height*0.5+textHeight*0.25;endLabelY=startLabelY;if(linearBarHeight>30){var diffHeight=linearBarHeight-30;linearBarHeight=30;yValue=yValue+diffHeight/2;}}var textOptions=new sf.svgbase.TextOption('',startLabelX,startLabelY,'',startLabel);var hiddenColor='#D3D3D3';textOptions.id=this.legendID+this.generateId(previousLegend,'_text_',1);var fontcolor=previousLegend.visible?legend.textStyle.color||chart.themeStyle.legendLabel:hiddenColor;var isCanvas=this.chart.enableCanvas;textElement(chart.renderer,textOptions,legend.textStyle,fontcolor,legendTranslateGroup,false,false,false,false,// tslint:disable-next-line:align
null,this.currentPageNumber&&isCanvas?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);textOptions=new sf.svgbase.TextOption('',endLabelX,endLabelY,'',endLabel);textOptions.id=this.legendID+this.generateId(previousLegend,'_text_',2);textElement(chart.renderer,textOptions,legend.textStyle,fontcolor,legendTranslateGroup,false,false,false,false,// tslint:disable-next-line:align
null,this.currentPageNumber&&isCanvas?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);var gradientLegend=chart.renderer.drawRectangle({width:linearBarWidth,height:linearBarHeight,x:xValue,y:yValue,fill:'url(#'+this.generateId(previousLegend,'linearGradient',gradientLegendCount)+')'});defElement.appendChild(linerGradientEle);legendTranslateGroup.appendChild(defElement);legendTranslateGroup.appendChild(gradientLegend);};/**
     * To find first valid legend text index for chart and accumulation chart
     *
     * @param legendCollection
     * @returns {number}
     * @private
     */BaseLegend.prototype.findFirstLegendPosition=function(legendCollection){var count=0;for(var _i=0,legendCollection_1=legendCollection;_i<legendCollection_1.length;_i++){var legend=legendCollection_1[_i];if(legend.render&&legend.text!==''){break;}count++;}return count;};/**
     * To get the legend title text width and height.
     *
     * @param legend
     * @param legendBounds
     */BaseLegend.prototype.calculateLegendTitle=function(legend,legendBounds){if(legend.title){this.isTop=legend.titlePosition==='Top';var padding=legend.titleStyle.textOverflow==='Trim'?2*legend.padding:0;if(this.isTop||this.isVertical){this.legendTitleCollections=getTitle(legend.title,legend.titleStyle,legendBounds.width-padding);}else{this.legendTitleCollections[0]=textTrim(legend.maximumTitleWidth,legend.title,legend.titleStyle);}var text=this.isTop?legend.title:this.legendTitleCollections[0];this.legendTitleSize=sf.svgbase.measureText(text,legend.titleStyle);this.legendTitleSize.height*=this.legendTitleCollections.length;}else{this.legendTitleSize=new sf.svgbase.Size(0,0);}};/**
     * Render the legend title
     *
     * @param chart
     * @param legend
     * @param legendBounds
     * @param legendGroup
     */BaseLegend.prototype.renderLegendTitle=function(chart,legend,legendBounds,legendGroup){var padding=legend.padding;var alignment=legend.titleStyle.textAlignment;this.isTop=legend.titlePosition==='Top';var anchor=alignment==='Near'?'start':alignment==='Far'?'end':'middle';var x=titlePositionX(legendBounds,legend.titleStyle);anchor=this.isTop||this.isVertical?anchor:'';x=alignment==='Near'?x+padding:alignment==='Far'?x-padding:x;x=this.isTop||this.isVertical?x:legendBounds.x+(legend.titlePosition==='Left'?5:legendBounds.width-this.legendTitleSize.width-5);var topPadding=legendBounds.height/2+this.legendTitleSize.height/4;var y=legendBounds.y+(!this.isTop&&!this.isVertical?topPadding:this.legendTitleSize.height/this.legendTitleCollections.length);var legendTitleTextOptions=new sf.svgbase.TextOption(this.legendID+'_title',x,y,anchor,this.legendTitleCollections);textElement(chart.renderer,legendTitleTextOptions,legend.titleStyle,legend.titleStyle.color,legendGroup);};/**
     * To create legend rendering elements for chart and accumulation chart
     *
     * @param chart
     * @param legendBounds
     * @param legendGroup
     * @param legend
     * @param id
     * @param redraw
     */BaseLegend.prototype.createLegendElements=function(chart,legendBounds,legendGroup,legend,id,redraw){var padding=legend.padding;var options=new RectOption(id+'_element',legend.background,legend.border,legend.opacity,legendBounds);var legendItemsGroup=chart.renderer.createGroup({id:id+'_collections'});var isCanvas=chart.enableCanvas;var clippath=chart.renderer.createClipPath({id:id+'_clipPath'});if(legendGroup){legendGroup.appendChild(chart.renderer.drawRectangle(options));}else{chart.renderer.drawRectangle(options);}if(legend.title){this.renderLegendTitle(chart,legend,legendBounds,legendGroup);}if(!isCanvas){legendGroup.appendChild(legendItemsGroup);}this.legendTranslateGroup=chart.renderer.createGroup({id:id+'_translate_g'});if(!isCanvas){legendItemsGroup.appendChild(this.legendTranslateGroup);}options.y+=padding+(this.isTop?this.legendTitleSize.height:0);options.id+='_clipPath_rect';options.width=!this.isChartControl&&chart.getModuleName()!=='bulletChart'&&this.isVertical?this.maxWidth-padding+legend.containerPadding.left+legend.containerPadding.right:legendBounds.width;if(!isCanvas){this.clipRect=chart.renderer.drawRectangle(options);clippath.appendChild(this.clipRect);}else{this.pagingClipRect=options;}appendChildElement(isCanvas,chart.svgObject,clippath,redraw);if(!isCanvas){legendItemsGroup.setAttribute('style','clip-path:url(#'+clippath.id+')');}return this.legendTranslateGroup;};/**
     * To render legend symbols for chart and accumulation chart
     *
     * @param legendOption
     * @param group
     * @param i
     * @param legendOption
     * @param group
     * @param i
     * @param legendOption
     * @param group
     * @param i
     */BaseLegend.prototype.renderSymbol=function(legendOption,group,i){var control=this.isBulletChartControl?this.chart:null;var symbolColor=legendOption.visible?legendOption.fill:'#D3D3D3';var isStrokeWidth=this.chart.getModuleName()==='chart'&&legendOption.shape==='SeriesType'&&legendOption.type.toLowerCase().indexOf('line')>-1&&legendOption.type.toLowerCase().indexOf('area')===-1;var isCustomBorder=this.chart.getModuleName()==='chart'&&(legendOption.type==='Scatter'||legendOption.type==='Bubble');var isCanvas=this.chart.enableCanvas;var borderColor;var shape=legendOption.shape==='SeriesType'?legendOption.type:legendOption.shape;var strokewidth=isStrokeWidth?this.legend.mode==='Series'?this.chart.visibleSeries[i].width:this.chart.visibleSeries[0].width:this.isBulletChartControl&&legendOption.shape==='Multiply'?4:1;var regionPadding;shape=shape==='Scatter'?legendOption.markerShape:shape;if(isCustomBorder&&i<this.chart.visibleSeries.length){var seriesBorder=this.chart.visibleSeries[i].border;borderColor=seriesBorder.color?seriesBorder.color:symbolColor;strokewidth=seriesBorder.width?seriesBorder.width:1;}var symbolOption=new sf.svgbase.PathOption(this.legendID+this.generateId(legendOption,'_shape_',i),symbolColor,strokewidth,isCustomBorder?borderColor:symbolColor,1,'','');if(!isCanvas){group.appendChild(drawSymbol(legendOption.location,shape,new sf.svgbase.Size(this.legend.shapeWidth,this.legend.shapeHeight),legendOption.url,symbolOption,this.accessbilityText,this.chart.renderer,null,this.isBulletChartControl,control));}else{regionPadding=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber);drawSymbol(legendOption.location,shape,new sf.svgbase.Size(this.legend.shapeWidth,this.legend.shapeHeight),'',symbolOption,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new sf.svgbase.Rect(0,regionPadding,0,0):null,this.isBulletChartControl,control);this.legendRegions.push({rect:new sf.svgbase.Rect(legendOption.location.x,legendOption.location.y,this.legend.shapeWidth,this.legend.shapeHeight+regionPadding),index:i});}if(shape==='Line'&&legendOption.markerVisibility&&legendOption.markerShape!=='Image'||legendOption.type==='Doughnut'){symbolOption.id=this.legendID+this.generateId(legendOption,'_shape_marker_',i);shape=legendOption.type==='Doughnut'?'Circle':legendOption.markerShape;symbolOption.fill=legendOption.type==='Doughnut'?'#FFFFFF':symbolOption.fill;if(!isCanvas){// eslint-disable-next-line max-len
group.appendChild(drawSymbol(legendOption.location,shape,new sf.svgbase.Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),'',symbolOption,this.accessbilityText,null,null,this.isBulletChartControl,control));}else{drawSymbol(legendOption.location,shape,new sf.svgbase.Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),'',symbolOption,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,control);}}};/**
     * To render legend text for chart and accumulation chart
     *
     * @param chart
     * @param legendOption
     * @param group
     * @param textOptions
     * @param i
     * @param chart
     * @param legendOption
     * @param group
     * @param textOptions
     * @param i
     * @param chart
     * @param legendOption
     * @param group
     * @param textOptions
     * @param i
     * @param chart
     * @param legendOption
     * @param group
     * @param textOptions
     * @param i
     * @param chart
     * @param legendOption
     * @param group
     * @param textOptions
     * @param i
     */BaseLegend.prototype.renderText=function(chart,legendOption,group,textOptions,i){var legend=chart.legendSettings;var hiddenColor='#D3D3D3';var fontcolor=legendOption.visible?legend.textStyle.color||chart.themeStyle.legendLabel:hiddenColor;var isCanvas=this.chart.enableCanvas;textOptions.id=this.legendID+this.generateId(legendOption,'_text_',i);textOptions.text=legendOption.text;textOptions.x=legendOption.location.x+legend.shapeWidth/2+legend.shapePadding;textOptions.y=legendOption.location.y+this.maxItemHeight/4;var element=textElement(chart.renderer,textOptions,legend.textStyle,fontcolor,group,false,false,false,false,null,this.currentPageNumber&&isCanvas?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(element){element.setAttribute('aria-label',legend.description||this.accessbilityText);}if(isCanvas){var textSize=sf.svgbase.measureText(textOptions.text,legend.textStyle);this.legendRegions[i].rect.y=textOptions.y<this.legendRegions[i].rect.y?textOptions.y:this.legendRegions[i].rect.y;this.legendRegions[i].rect.width+=textSize.width;this.legendRegions[i].rect.height=textSize.height;this.legendRegions[i].rect.y-=textSize.height*0.5;}};/**
     * To render legend paging elements for chart and accumulation chart
     *
     * @param chart
     * @param bounds
     * @param textOption
     * @param legendGroup
     * @param chart
     * @param bounds
     * @param textOption
     * @param legendGroup
     * @param chart
     * @param bounds
     * @param textOption
     * @param legendGroup
     * @param chart
     * @param bounds
     * @param textOption
     * @param legendGroup
     */BaseLegend.prototype.renderPagingElements=function(chart,bounds,textOption,legendGroup){var paginggroup=chart.renderer.createGroup({id:this.legendID+'_navigation'});var isCanvas=chart.enableCanvas;var titleHeight=this.isBulletChartControl?0:this.legendTitleSize.height;var grayColor='#545454';var legend=chart.legendSettings;// to solve parameter lint error, legend declaration is here
var padding=8;// const padding for paging elements
var symbolOption=new sf.svgbase.PathOption(this.legendID+'_pageup','transparent',5,grayColor,1,'','');var iconSize=this.pageButtonSize;// Page left arrow drawing calculation started here
var rowCount=!legend.enablePages&&this.isPaging&&!this.isVertical&&!this.isBulletChartControl?1:this.rowCount-1;var titleWidth=this.isTitle&&legend.titlePosition==='Left'?this.legendTitleSize.width:0;this.pagingRegions=[];this.backwardArrowOpacity=this.currentPage!==1?1:0;this.forwardArrowOpacity=this.currentPage===this.totalPages?0:1;if(!isCanvas){legendGroup.appendChild(paginggroup);}if(this.isChartControl||this.isBulletChartControl||!this.isVertical){this.totalPages=Math.ceil(this.totalPages/Math.max(1,this.rowCount-1));}else{this.totalPages=Math.ceil(this.totalPages/this.maxColumns);}if(paginggroup){paginggroup.setAttribute('style','cursor: pointer');}this.clipPathHeight=rowCount*(this.maxItemHeight+legend.padding);if(!isCanvas){this.clipRect.setAttribute('height',this.clipPathHeight.toString());}else{//paging clipRect only for canvas mode
this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-legend.border.width;this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight;this.pagingClipRect.x+=legend.border.width;this.pagingClipRect.width-=legend.border.width+legend.border.width/2;this.chart.renderer.clearRect(new sf.svgbase.Rect(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height));}var pageTextElement;var x=bounds.x+iconSize/2;var y=bounds.y+this.clipPathHeight+(titleHeight+bounds.height-this.clipPathHeight)/2;if(this.isPaging&&!legend.enablePages&&!this.isVertical&&!this.isBulletChartControl){x=bounds.x+this.fivePixel+this.pageButtonSize+titleWidth;y=legend.title&&this.isTop?bounds.y+padding+titleHeight+iconSize/1+0.5:bounds.y+padding+iconSize+0.5;}var size=sf.svgbase.measureText(this.totalPages+'/'+this.totalPages,legend.textStyle);if(!isCanvas){if(this.isVertical&&!legend.enablePages&&!this.isBulletChartControl){x=bounds.x+bounds.width/2;y=bounds.y+iconSize/2+padding+titleHeight;symbolOption.opacity=this.backwardArrowOpacity;paginggroup.appendChild(drawSymbol({x:x,y:y},'UpArrow',new sf.svgbase.Size(iconSize,iconSize),'',symbolOption,'UpArrow'));}else{symbolOption.opacity=this.isBulletChartControl?symbolOption.opacity:legend.enablePages?1:this.backwardArrowOpacity;paginggroup.appendChild(drawSymbol({x:x,y:y},'LeftArrow',new sf.svgbase.Size(iconSize,iconSize),'',symbolOption,'LeftArrow'));}}else{drawSymbol({x:x,y:y},'LeftArrow',new sf.svgbase.Size(iconSize,iconSize),'',symbolOption,'LeftArrow',this.chart.renderer,new sf.svgbase.Rect(bounds.width-(2*(iconSize+padding)+padding+size.width),0,0,0));}this.pagingRegions.push(new sf.svgbase.Rect(x+bounds.width-(2*(iconSize+padding)+padding+size.width)-iconSize*0.5,y-iconSize*0.5,iconSize,iconSize));// Page numbering rendering calculation started here
textOption.x=x+iconSize/2+padding;textOption.y=y+size.height/4;textOption.id=this.legendID+'_pagenumber';textOption.text='1/'+this.totalPages;if(isCanvas&&this.totalNoOfPages){textOption.text=this.currentPageNumber+'/'+this.totalNoOfPages;}if(legend.enablePages||this.isBulletChartControl){pageTextElement=textElement(chart.renderer,textOption,legend.textStyle,legend.textStyle.color,paginggroup,false,false,false,false,null,new sf.svgbase.Rect(bounds.width-(2*(iconSize+padding)+padding+size.width),0,0,0));}// Page right arrow rendering calculation started here
x=textOption.x+padding+iconSize/2+size.width;if(this.isPaging&&!legend.enablePages&&!this.isVertical){x=bounds.x+bounds.width-this.fivePixel-this.pageButtonSize-(legend.title&&legend.titlePosition==='Right'?this.legendTitleSize.width+this.fivePixel:0);}symbolOption.id=this.legendID+'_pagedown';symbolOption.opacity=!legend.enablePages?this.forwardArrowOpacity:1;if(!isCanvas){if(this.isVertical&&!legend.enablePages&&!this.isBulletChartControl){x=bounds.x+bounds.width/2;y=bounds.y+bounds.height-iconSize/2-padding;paginggroup.appendChild(drawSymbol({x:x,y:y},'DownArrow',new sf.svgbase.Size(iconSize,iconSize),'',symbolOption,'DownArrow'));}else{paginggroup.appendChild(drawSymbol({x:x,y:y},'RightArrow',new sf.svgbase.Size(iconSize,iconSize),'',symbolOption,'RightArrow'));}}else{drawSymbol({x:x,y:y},'RightArrow',new sf.svgbase.Size(iconSize,iconSize),'',symbolOption,'RightArrow',this.chart.renderer,new sf.svgbase.Rect(bounds.width-(2*(iconSize+padding)+padding+size.width),0,0,0));}this.pagingRegions.push(new sf.svgbase.Rect(x+(bounds.width-(2*(iconSize+padding)+padding+size.width)-iconSize*0.5),y-iconSize*0.5,iconSize,iconSize));if(!isCanvas&&(legend.enablePages||this.isBulletChartControl)){//placing the navigation buttons and page numbering in legend right corner
paginggroup.setAttribute('transform','translate('+(bounds.width-(2*(iconSize+padding)+padding+size.width))+', '+0+')');}else{if(this.currentPageNumber===1&&this.calTotalPage&&(legend.enablePages||this.isBulletChartControl)){this.totalNoOfPages=this.totalPages;this.calTotalPage=false;}if(!legend.enablePages&&!this.isBulletChartControl){// For new legend page navigation
this.translatePage(null,this.currentPage-1,this.currentPage,legend);}}if(legend.enablePages||this.isBulletChartControl){this.translatePage(pageTextElement,this.currentPage-1,this.currentPage,legend);}};/**
     * To translate legend pages for chart and accumulation chart
     *
     * @param pagingText
     * @param page
     * @param pageNumber
     * @param legend
     * @param pagingText
     * @param page
     * @param pageNumber
     * @param legend
     * @param pagingText
     * @param page
     * @param pageNumber
     * @param legend
     * @param pagingText
     * @param page
     * @param pageNumber
     * @param legend
     */BaseLegend.prototype.translatePage=function(pagingText,page,pageNumber,legend){var size=this.clipPathHeight*page;var translate='translate(0,-'+size+')';if(!this.isChartControl&&!this.isBulletChartControl&&this.isVertical){size=this.pageXCollections[page*this.maxColumns]-this.legendBounds.x;size=size<0?0:size;// to avoid small pixel variation
translate='translate(-'+size+',0)';}if(!this.chart.enableCanvas){this.legendTranslateGroup.setAttribute('transform',translate);}if(!this.chart.enableCanvas&&(legend.enablePages||this.isBulletChartControl)){pagingText.textContent=pageNumber+'/'+this.totalPages;}this.currentPage=pageNumber;return size;};/**
     * To change legend pages for chart and accumulation chart
     *
     * @param event
     * @param pageUp
     * @param event
     * @param pageUp
     */BaseLegend.prototype.changePage=function(event,pageUp){var legend=this.chart.legendSettings;var backwardArrow=document.getElementById(this.legendID+'_pageup');var forwardArrow=document.getElementById(this.legendID+'_pagedown');var pageText=legend.enablePages||this.isBulletChartControl?document.getElementById(this.legendID+'_pagenumber'):null;var page=legend.enablePages||this.isBulletChartControl?parseInt(pageText.textContent.split('/')[0],10):this.currentPage;if(pageUp&&page>1){this.translatePage(pageText,page-2,page-1,legend);}else if(!pageUp&&page<this.totalPages){this.translatePage(pageText,page,page+1,legend);}if(this.isPaging&&!legend.enablePages&&!this.isBulletChartControl){// eslint-disable-next-line @typescript-eslint/no-unused-expressions
this.currentPage===this.totalPages?this.hideArrow(forwardArrow):this.showArrow(forwardArrow);// eslint-disable-next-line @typescript-eslint/no-unused-expressions
this.currentPage===1?this.hideArrow(backwardArrow):this.showArrow(backwardArrow);}};/**
     * To hide the backward and forward arrow
     *
     * @param arrowElement
     */BaseLegend.prototype.hideArrow=function(arrowElement){arrowElement.setAttribute('opacity','0');};/**
     * To show the  backward and forward arrow
     *
     * @param arrowElement
     */BaseLegend.prototype.showArrow=function(arrowElement){arrowElement.setAttribute('opacity','1');};/**
     * To find legend elements id based on chart or accumulation chart
     *
     * @param option
     * @param prefix
     * @param count
     * @param option
     * @param prefix
     * @param count
     * @param option
     * @param prefix
     * @param count
     * @private
     */BaseLegend.prototype.generateId=function(option,prefix,count){if(this.isChartControl){return prefix+count;}else{return prefix+option.pointIndex;}};/**
     * To show or hide trimmed text tooltip for legend.
     *
     * @param event
     * @returns {void}
     * @private
     */BaseLegend.prototype.move=function(event){var _this=this;var x=this.chart.mouseX;var y=this.chart.mouseY;if(event.target.textContent.indexOf('...')>-1){var targetId=event.target.id.split(this.legendID+'_text_');if(targetId.length===2){var index=parseInt(targetId[1],10);var element=this.chart.element;if(!isNaN(index)){if(this.chart.isTouch){removeElement(this.chart.element.id+'_EJ2_Legend_Tooltip');}if(this.isChartControl){showTooltip(this.chart.series[index].name,x,y,element.offsetWidth,element.id+'_EJ2_Legend_Tooltip',getElement$1(this.chart.element.id+'_Secondary_Element'));}else{showTooltip(this.chart.visibleSeries[0].points[index].x.toString(),x+10,y+10,element.offsetWidth,element.id+'_EJ2_Legend_Tooltip',getElement$1(this.chart.element.id+'_Secondary_Element'));}}}}else{removeElement(this.chart.element.id+'_EJ2_Legend_Tooltip');}if(this.chart.isTouch){clearTimeout(this.clearTooltip);this.clearTooltip=+setTimeout(function(){removeElement(_this.chart.element.id+'_EJ2_Legend_Tooltip');},1000);}};return BaseLegend;}();/**
 * Class for legend options
 *
 * @private
 */var LegendOptions=/** @class */function(){function LegendOptions(text,fill,shape,visible,type,url,markerShape,markerVisibility,pointIndex,seriesIndex){this.location={x:0,y:0};this.text=text;this.fill=fill;this.shape=shape;this.url=url;this.visible=visible;this.type=type;this.markerVisibility=markerVisibility;this.markerShape=markerShape;this.pointIndex=pointIndex;this.seriesIndex=seriesIndex;}return LegendOptions;}();var __extends$13=undefined&&undefined.__extends||function(){var _extendStatics13=function extendStatics(d,b){_extendStatics13=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics13(d,b);};return function(d,b){_extendStatics13(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$8=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ // eslint-disable-next-line @typescript-eslint/triple-slash-reference
/// <reference path='../series/chart-series-model.d.ts' />
/**
 * Defines how to represent the market trend using technical indicators
 */var TechnicalIndicator=/** @class */function(_super){__extends$13(TechnicalIndicator,_super);function TechnicalIndicator(){var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.clipRect=new sf.svgbase.Rect(0,0,0,0);return _this;}/** @private */TechnicalIndicator.prototype.setDataSource=function(series,chart){if(series){this.xData=series.xData;this.yData=series.yData;this.points=series.points;}var type=firstToLowerCase(this.type);chart[type+'IndicatorModule'].initDataSource(this,chart);chart.visibleSeriesCount+=this.targetSeries.length;};__decorate$8([sf.base.Property('Sma')],TechnicalIndicator.prototype,"type",void 0);__decorate$8([sf.base.Property(14)],TechnicalIndicator.prototype,"period",void 0);__decorate$8([sf.base.Property(14)],TechnicalIndicator.prototype,"kPeriod",void 0);__decorate$8([sf.base.Property(3)],TechnicalIndicator.prototype,"dPeriod",void 0);__decorate$8([sf.base.Property(80)],TechnicalIndicator.prototype,"overBought",void 0);__decorate$8([sf.base.Property(20)],TechnicalIndicator.prototype,"overSold",void 0);__decorate$8([sf.base.Property(2)],TechnicalIndicator.prototype,"standardDeviation",void 0);__decorate$8([sf.base.Property('Close')],TechnicalIndicator.prototype,"field",void 0);__decorate$8([sf.base.Property(12)],TechnicalIndicator.prototype,"slowPeriod",void 0);__decorate$8([sf.base.Property(26)],TechnicalIndicator.prototype,"fastPeriod",void 0);__decorate$8([sf.base.Property(true)],TechnicalIndicator.prototype,"showZones",void 0);__decorate$8([sf.base.Complex({color:'#ff9933',width:2},Connector)],TechnicalIndicator.prototype,"macdLine",void 0);__decorate$8([sf.base.Property('Both')],TechnicalIndicator.prototype,"macdType",void 0);__decorate$8([sf.base.Property('#2ecd71')],TechnicalIndicator.prototype,"macdPositiveColor",void 0);__decorate$8([sf.base.Property('#e74c3d')],TechnicalIndicator.prototype,"macdNegativeColor",void 0);__decorate$8([sf.base.Property('rgba(211,211,211,0.25)')],TechnicalIndicator.prototype,"bandColor",void 0);__decorate$8([sf.base.Complex({color:'#ffb735',width:1},Connector)],TechnicalIndicator.prototype,"upperLine",void 0);__decorate$8([sf.base.Complex({color:'#f2ec2f',width:1},Connector)],TechnicalIndicator.prototype,"lowerLine",void 0);__decorate$8([sf.base.Complex({color:'#f2ec2f',width:1},Connector)],TechnicalIndicator.prototype,"periodLine",void 0);__decorate$8([sf.base.Property('')],TechnicalIndicator.prototype,"seriesName",void 0);return TechnicalIndicator;}(SeriesBase);/* eslint-disable @typescript-eslint/no-inferrable-types */var ExportUtils=/** @class */function(){/**
     * Constructor for chart and accumulation annotation
     *
     * @param control
     */function ExportUtils(control){this.control=control;}/**
     * To print the accumulation and chart elements
     *
     * @param elements
     */ExportUtils.prototype.print=function(elements){this.printWindow=window.open('','print','height='+window.outerHeight+',width='+window.outerWidth+',tabbar=no');this.printWindow.moveTo(0,0);this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var argsData={cancel:false,htmlContent:this.getHTMLContent(elements),name:beforePrint};this.control.trigger(beforePrint,argsData);if(!argsData.cancel){sf.base.print(argsData.htmlContent,this.printWindow);}};/**
     * To get the html string of the chart and accumulation
     *
     * @param elements
     * @private
     */ExportUtils.prototype.getHTMLContent=function(elements){var div=sf.base.createElement('div');if(elements){if(elements instanceof Array){for(var j=0;j<elements.length;j++){var value=elements[j];div.appendChild(getElement$1(value).cloneNode(true));}}else if(elements instanceof Element){div.appendChild(elements.cloneNode(true));}else{div.appendChild(getElement$1(elements).cloneNode(true));}}else{div.appendChild(this.control.element.cloneNode(true));}return div;};/**
     * To export the file as image/svg format
     *
     * @param type
     * @param fileName
     */ExportUtils.prototype["export"]=function(type,fileName,orientation,controls,width,height,isVertical,header,footer){var _this=this;var controlValue=this.getControlsValue(controls,isVertical);width=width?width:controlValue.width;height=height?height:controlValue.height;var element=this.control.svgObject;var isCanvas=this.control.enableCanvas;var image;if(!isCanvas){element=sf.base.createElement('canvas',{id:'ej2-canvas',attrs:{'width':width.toString(),'height':height.toString()}});}var isDownload=!(sf.base.Browser.userAgent.toString().indexOf('HeadlessChrome')>-1);orientation=sf.base.isNullOrUndefined(orientation)?sf.pdfexport.PdfPageOrientation.Landscape:orientation;var svgData='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+controlValue.svg.outerHTML+'</svg>';var url=window.URL.createObjectURL(new Blob(type==='SVG'?[svgData]:[new XMLSerializer().serializeToString(controlValue.svg)],{type:'image/svg+xml'}));if(type==='SVG'){if(sf.base.Browser.info.name==='msie'){var svg=new Blob([new XMLSerializer().serializeToString(controlValue.svg)],{type:'application/octet-stream'});window.navigator.msSaveOrOpenBlob(svg,fileName+'.'+type.toLocaleLowerCase());}else{this.triggerDownload(fileName,type,url,isDownload);}}else if(sf.base.Browser.info.name==='msie'){var canvas=element;if(!isCanvas){canvas=this.createCanvas();}image=canvas.toDataURL();if(type==='PDF'){this.exportPdf(canvas,orientation,width,height,isDownload,fileName,header,footer);}else{this.doexport(type,image,fileName);}}else{var image_1=new Image();var ctx_1=element.getContext('2d');image_1.onload=function(){ctx_1.drawImage(image_1,0,0);window.URL.revokeObjectURL(url);if(type==='PDF'){_this.exportPdf(element,orientation,width,height,isDownload,fileName,header,footer);}else{if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(element.toBlob(null),fileName+'.'+type.toLocaleLowerCase());}else{_this.triggerDownload(fileName,type,element.toDataURL('image/'+type.toLowerCase()),isDownload);}}};image_1.src=url;}if(!isCanvas){removeElement(document.getElementById(this.control.element.id+'_canvas'));}};/**
     * To get data url for charts.
     *
     * @param chart
     */ExportUtils.prototype.getDataUrl=function(chart){var controlValue=this.getControlsValue([chart]);var element=this.control.svgObject;var isCanvas=this.control.enableCanvas;if(!isCanvas){element=sf.base.createElement('canvas',{id:'ej2-canvas',attrs:{'width':controlValue.width.toString(),'height':controlValue.height.toString()}});}var url=window.URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(controlValue.svg)],{type:'image/svg+xml'}));if(sf.base.Browser.info.name==='msie'){var canvas=element;if(!isCanvas){canvas=this.createCanvas();}var argsData={name:afterExport,cancel:false,dataUrl:element.toDataURL('image/png')};chart.trigger(afterExport,argsData);return{element:canvas,dataUrl:canvas.toDataURL()};}else{var image_2=new Image();var ctx_2=element.getContext('2d');image_2.onload=function(){ctx_2.drawImage(image_2,0,0);window.URL.revokeObjectURL(url);var argsData={name:afterExport,cancel:false,dataUrl:element.toDataURL('image/png')};chart.trigger(afterExport,argsData);return argsData.dataUrl;};image_2.src=url;return{element:element,blobUrl:url};}};/**
     * To trigger the download element
     *
     * @param fileName
     * @param type
     * @param url
     */ExportUtils.prototype.triggerDownload=function(fileName,type,url,isDownload){sf.base.createElement('a',{attrs:{'download':fileName+'.'+type.toLocaleLowerCase(),'href':url}}).dispatchEvent(new MouseEvent(isDownload?'click':'move',{view:window,bubbles:false,cancelable:true}));};/**
     * To get the maximum size value
     *
     * @param controls
     * @param name
     */ // eslint-disable-next-line max-len
ExportUtils.prototype.getControlsValue=function(controls,isVertical){var width=0;var height=0;var isCanvas=this.control.enableCanvas;var svgObject=new sf.svgbase.SvgRenderer('').createSvg({id:'Svg_Export_Element',width:200,height:200});controls.map(function(control){var svg=control.svgObject.cloneNode(true);var groupEle=control.renderer.createGroup({style:sf.base.isNullOrUndefined(isVertical)||isVertical?'transform: translateY('+height+'px)':'transform: translateX('+width+'px)'});if(!isCanvas){groupEle.appendChild(svg);}width=sf.base.isNullOrUndefined(isVertical)||isVertical?Math.max(control.availableSize.width,width):width+control.availableSize.width;height=sf.base.isNullOrUndefined(isVertical)||isVertical?height+control.availableSize.height:Math.max(control.availableSize.height,height);if(!isCanvas){svgObject.appendChild(groupEle);}});if(!isCanvas){svgObject.setAttribute('width',width+'');svgObject.setAttribute('height',height+'');}return{'width':width,'height':height,'svg':svgObject};};ExportUtils.prototype.createCanvas=function(){var chart=this.control;this.canvasRender(true,chart);var canvas=chart.svgObject;this.canvasRender(false,chart);return canvas;};/**
     * To convert svg chart into canvas chart to fix export issue in IE
     * We cant export svg to other formats in IE
     *
     * @param enableCanvas
     * @param chart
     * @param enableCanvas
     * @param chart
     */ExportUtils.prototype.canvasRender=function(enableCanvas,chart){chart.enableCanvas=enableCanvas;chart['preRender']();chart['render']();};// eslint-disable-next-line max-len
ExportUtils.prototype.exportPdf=function(element,orientation,width,height,isDownload,fileName,header,footer){var document=new sf.pdfexport.PdfDocument();var margin=document.pageSettings.margins;var pdfDefaultWidth=document.pageSettings.width;var pdfDefaultHeight=document.pageSettings.height;var imageString=element.toDataURL('image/jpeg').replace('image/jpeg','image/octet-stream');document.pageSettings.orientation=orientation;var exactWidth=pdfDefaultWidth<width?width+margin.left+margin.right:pdfDefaultWidth;var exactHeight=pdfDefaultHeight<height?height+margin.top+margin.bottom:pdfDefaultHeight;if(header!==undefined){var font=new sf.pdfexport.PdfStandardFont(1,header.fontSize||15);var pdfHeader=new sf.pdfexport.PdfPageTemplateElement(exactWidth,40);pdfHeader.graphics.drawString(header.content+'',font,null,new sf.pdfexport.PdfSolidBrush(new sf.pdfexport.PdfColor(0,0,0)),header.x,header.y,null);document.template.top=pdfHeader;}if(footer!==undefined){var font=new sf.pdfexport.PdfStandardFont(1,footer.fontSize||15);var pdfFooter=new sf.pdfexport.PdfPageTemplateElement(exactWidth,40);pdfFooter.graphics.drawString(footer.content+'',font,null,new sf.pdfexport.PdfSolidBrush(new sf.pdfexport.PdfColor(0,0,0)),footer.x,footer.y,null);document.template.bottom=pdfFooter;}document.pageSettings.size=new sf.pdfexport.SizeF(exactWidth,exactHeight);imageString=imageString.slice(imageString.indexOf(',')+1);document.pages.add().graphics.drawImage(new sf.pdfexport.PdfBitmap(imageString),0,0,width,height);if(isDownload){document.save(fileName+'.pdf');document.destroy();}};ExportUtils.prototype.doexport=function(type,image,fileName){var images=[];var fileType=type||'JPG';images=[image];this.exportImage(images,fileName,fileType,image);};ExportUtils.prototype.exportImage=function(images,fileName,fileType,image){var buffers=[];var length=!(images instanceof HTMLElement)?images.length:0;for(var g=0;g<length;g++){image=images[g];image=image.replace(/^data:[a-z]*;,/,'');var image1=image.split(',');var byteString=atob(image1[1]);var buffer=new ArrayBuffer(byteString.length);var intArray=new Uint8Array(buffer);for(var i=0;i<byteString.length;i++){intArray[i]=byteString.charCodeAt(i);}buffers.push(buffer);}for(var j=0;j<buffers.length;j++){var b=new Blob([buffers[j]],{type:'application/octet-stream'});if(sf.base.Browser.info.name==='msie'){window.navigator.msSaveOrOpenBlob(b,fileName+'.'+fileType.toLocaleLowerCase());}}};return ExportUtils;}();var __extends$9=undefined&&undefined.__extends||function(){var _extendStatics14=function extendStatics(d,b){_extendStatics14=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics14(d,b);};return function(d,b){_extendStatics14(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __decorate$6=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};/* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /* eslint-disable valid-jsdoc */ /* eslint-disable @typescript-eslint/ban-types */ /**
 * Configures the RangeColorSetting in the chart.
 */var RangeColorSetting=/** @class */function(_super){__extends$9(RangeColorSetting,_super);function RangeColorSetting(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$6([sf.base.Property()],RangeColorSetting.prototype,"start",void 0);__decorate$6([sf.base.Property()],RangeColorSetting.prototype,"end",void 0);__decorate$6([sf.base.Property([])],RangeColorSetting.prototype,"colors",void 0);__decorate$6([sf.base.Property('')],RangeColorSetting.prototype,"label",void 0);return RangeColorSetting;}(sf.base.ChildProperty);/**
 * Configures the crosshair in the chart.
 */var CrosshairSettings$1=/** @class */function(_super){__extends$9(CrosshairSettings$$1,_super);function CrosshairSettings$$1(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$6([sf.base.Property(false)],CrosshairSettings$$1.prototype,"enable",void 0);__decorate$6([sf.base.Property('')],CrosshairSettings$$1.prototype,"dashArray",void 0);__decorate$6([sf.base.Complex({color:null,width:1},Border)],CrosshairSettings$$1.prototype,"line",void 0);__decorate$6([sf.base.Property('Both')],CrosshairSettings$$1.prototype,"lineType",void 0);return CrosshairSettings$$1;}(sf.base.ChildProperty);/**
 * Configures the zooming behavior for the chart.
 */var ZoomSettings$1=/** @class */function(_super){__extends$9(ZoomSettings$$1,_super);function ZoomSettings$$1(){return _super!==null&&_super.apply(this,arguments)||this;}__decorate$6([sf.base.Property(false)],ZoomSettings$$1.prototype,"enableSelectionZooming",void 0);__decorate$6([sf.base.Property(false)],ZoomSettings$$1.prototype,"enablePinchZooming",void 0);__decorate$6([sf.base.Property(false)],ZoomSettings$$1.prototype,"enableMouseWheelZooming",void 0);__decorate$6([sf.base.Property(true)],ZoomSettings$$1.prototype,"enableDeferredZooming",void 0);__decorate$6([sf.base.Property('XY')],ZoomSettings$$1.prototype,"mode",void 0);__decorate$6([sf.base.Property(['Zoom','ZoomIn','ZoomOut','Pan','Reset'])],ZoomSettings$$1.prototype,"toolbarItems",void 0);__decorate$6([sf.base.Property(false)],ZoomSettings$$1.prototype,"enablePan",void 0);__decorate$6([sf.base.Property(false)],ZoomSettings$$1.prototype,"enableScrollbar",void 0);return ZoomSettings$$1;}(sf.base.ChildProperty);/**
 * Represents the Chart control.
 * ```html
 * <div id="chart"/>
 * <script>
 *   var chartObj = new Chart({ isResponsive : true });
 *   chartObj.appendTo("#chart");
 * </script>
 * ```
 *
 * @public
 */var Chart$1=/** @class */function(_super){__extends$9(Chart$$1,_super);/**
     * Constructor for creating the widget
     *
     * @hidden
     */function Chart$$1(options,element){var _this=_super.call(this,options,element)||this;/** @private */_this.rotatedDataLabelCollections=[];/** @public */_this.animated=false;/** @private */_this.isPointMouseDown=false;/** @private */_this.isScrolling=false;/** @private */_this.checkResize=0;/** @private */_this.visible=0;/** @private */_this.clickCount=0;/** @private */_this.singleClickTimer=0;/** @private */_this.chartAreaType='Cartesian';/** @private */_this.isRtlEnabled=false;_this.chartid=57723;sf.base.setValue('mergePersistData',_this.mergePersistChartData,_this);return _this;}/**
     * To manage persist chart data
     */Chart$$1.prototype.mergePersistChartData=function(){var data=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!(sf.base.isNullOrUndefined(data)||data==='')){var dataObj=JSON.parse(data);var keys=Object.keys(dataObj);this.isProtectedOnChange=true;for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var key=keys_1[_i];if(_typeof(this[key])==='object'&&!sf.base.isNullOrUndefined(this[key])){sf.base.extend(this[key],dataObj[key]);}else{this[key]=dataObj[key];}}this.isProtectedOnChange=false;}};/**
     * Initialize the event handler.
     */Chart$$1.prototype.preRender=function(){// It is used for checking blazor framework or not.
var blazor='Blazor';this.isBlazor=window[blazor];this.allowServerDataBinding=false;this.unWireEvents();this.initPrivateVariable();this.setCulture();this.wireEvents();if(this.stockChart){if(this.stockChart.tooltip.header===null){this.tooltip.header='<b>${point.x}</b>';}if(this.stockChart.tooltip.format===null){this.tooltip.format='High : <b>${point.high}</b><br/>Low :'+' <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>';if(this.stockChart.series[0].volume!==''){this.tooltip.format+='<br/>Volume : <b>${point.volume}</b>';}}this.animateSeries=false;}};Chart$$1.prototype.initPrivateVariable=function(){this.animateSeries=true;this.delayRedraw=false;this.horizontalAxes=[];this.verticalAxes=[];this.refreshAxis();this.refreshDefinition(this.rows);this.refreshDefinition(this.columns);if(this.tooltipModule){this.tooltipModule.previousPoints=[];}if(this.element.id===''){var collection=document.getElementsByClassName('e-chart').length;this.element.id='chart_'+this.chartid+'_'+collection;}//seperate ID to differentiate chart and stock chart
this.svgId=this.stockChart?this.stockChart.element.id+'_stockChart_chart':this.element.id+(this.enableCanvas?'_canvas':'_svg');};/**
     * To Initialize the control rendering.
     */Chart$$1.prototype.render=function(){var _this=this;this.svgRenderer=new sf.svgbase.SvgRenderer(this.element.id);var loadEventData={chart:this.isBlazor?{}:this,theme:this.theme,name:load,cancel:false};if(!this.stockChart){/**
             * Load event for the chart will be triggered only chart componet, if this is stock chart, load event did not triggered.
             */this.trigger(load,loadEventData,function(){if(!loadEventData.cancel){_this.cartesianChartRendering(loadEventData);}});}else{// The fix is specific for nextjs app, as window is set as not defined for server side application like nextjs.
this.isRtlEnabled=window.getComputedStyle(document.querySelector('body')).direction==='rtl';this.cartesianChartRendering(loadEventData);}};Chart$$1.prototype.cartesianChartRendering=function(beforeRenderData){this.theme=this.isBlazor?beforeRenderData.theme:this.theme;this.createChartSvg();this.setTheme();this.markerRender=new Marker(this);this.calculateAreaType();this.calculateVisibleSeries();this.initTechnicalIndicators();this.initTrendLines();this.calculateVisibleAxis();this.processData();this.renderComplete();this.allowServerDataBinding=true;};/**
     * Gets the localized label by locale keyword.
     *
     * @param  {string} key key
     * @returns {string} localized label
     */Chart$$1.prototype.getLocalizedLabel=function(key){return this.localeObject.getConstant(key);};/**
     * Animate the series bounds.
     *
     * @private
     */Chart$$1.prototype.animate=function(duration){this.redraw=true;this.animated=true;//used to set duration as 1000 for animation at default 300
this.duration=duration?duration:1000;};/**
     * Refresh the chart bounds.
     *
     * @private
     */Chart$$1.prototype.refreshBound=function(){if(this.legendModule&&this.legendSettings.visible){this.legendModule.getLegendOptions(this.visibleSeries,this);}/**
         * I264230, EJ2-36761
         * Issue: Tooltip doesnot appears after zooming and hovering on same point
         * Root cause: While performing zoom, previous points in tooltip restore.
         * Fix: previous points set to empty array
         */if(this.tooltip.enable&&this.tooltipModule){this.tooltipModule.previousPoints=[];}this.calculateStackValues();this.calculateBounds();//this prevents the initial rendering of stock chart
if(this.stockChart&&!this.stockChart.rangeFound){if(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector){return null;}}this.renderElements();removeElement('chartmeasuretext');this.removeSelection();};/**
     * To calcualte the stack values
     */Chart$$1.prototype.calculateStackValues=function(){var series;var isCalculateStacking=false;for(var i=0,len=this.visibleSeries.length;i<len;i++){series=this.visibleSeries[i];series.position=series.rectCount=undefined;if((series.type.indexOf('Stacking')!==-1||series.drawType.indexOf('Stacking')!==-1&&this.chartAreaType==='PolarRadar')&&!isCalculateStacking){series.calculateStackedValue(series.type.indexOf('100')>-1,this);isCalculateStacking=true;}}};Chart$$1.prototype.removeSelection=function(){for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(series.visible){for(var _b=0,_c=series.points;_b<_c.length;_b++){var point=_c[_b];point.isSelect=false;}}}if(getElement$1(this.element.id+'_ej2_drag_multi_group')){if(this.selectionMode.indexOf('Drag')>-1){this.selectionModule.filterArray=[];}removeElement(this.element.id+'_ej2_drag_multi_group');this.selectionModule.calculateDragSelectedElements(this,new sf.svgbase.Rect(0,0,0,0),true);}else if(getElement$1(this.element.id+'_ej2_drag_group')){if(this.selectionMode!=='Lasso'){this.selectionModule.filterArray=[];}removeElement(this.element.id+'_ej2_drag_group');this.selectionModule.calculateDragSelectedElements(this,new sf.svgbase.Rect(0,0,0,0),true);}};Chart$$1.prototype.renderElements=function(){this.renderBorder();this.renderTitle();this.renderAreaBorder();this.renderSeriesElements(this.renderAxes());this.renderLegend();this.applyZoomkit();this.performSelection();this.setSecondaryElementPosition();for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var value=_a[_i];sf.base.updateBlazorTemplate(this.element.id+'_DataLabel','Template',value.marker.dataLabel);}this.renderAnnotation();};/**
     * To render the legend
     *
     * @private
     */Chart$$1.prototype.renderAxes=function(){this.yAxisElements=this.renderer.createGroup({id:this.element.id+'yAxisCollection'});var axisElement;if(this.rows.length>0&&this.columns.length>0){axisElement=this.chartAxisLayoutPanel.renderAxes();}if(this.stripLineModule){this.stripLineModule.renderStripLine(this,'Behind',this.axisCollections);}return axisElement;};/**
     * To render the legend
     */Chart$$1.prototype.renderLegend=function(){if(this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible){this.legendModule.calTotalPage=true;var borderWidth=this.legendSettings.border.width;var bounds=this.legendModule.legendBounds;var rect=new sf.svgbase.Rect(bounds.x,bounds.y,bounds.width,bounds.height);if(this.enableCanvas){rect=new sf.svgbase.Rect(rect.x-borderWidth/2,rect.y-borderWidth/2,rect.width+borderWidth,rect.height+borderWidth);this.renderer.canvasClip(rect);}this.legendModule.renderLegend(this,this.legendSettings,bounds);if(this.enableCanvas){this.renderer.canvasRestore();}}if(!this.redraw){if(!this.stockChart){this.element.appendChild(this.svgObject);}else{if(!getElement$1(this.stockChart.chartObject.id)){this.stockChart.mainObject.appendChild(this.svgObject);}}}};/**
     * To set the left and top position for data label template for center aligned chart
     */Chart$$1.prototype.setSecondaryElementPosition=function(){var element=getElement$1(this.element.id+'_Secondary_Element');if(!element){return;}var rect=this.element.getBoundingClientRect();var svgRect=getElement$1(this.svgId).getBoundingClientRect();element.style.left=Math.max(svgRect.left-rect.left,0)+'px';element.style.top=Math.max(svgRect.top-rect.top,0)+'px';};Chart$$1.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var elementId=this.element.id;if(this.series.length){this.seriesElements=this.series[0].type==='Scatter'||this.series[0].type==='Bubble'?this.svgRenderer.createGroup({id:elementId+'SeriesCollection'}):this.renderer.createGroup({id:elementId+'SeriesCollection'});}if(this.indicators.length){this.indicatorElements=this.renderer.createGroup({id:elementId+'IndicatorCollection'});}if(this.hasTrendlines()){this.trendLineElements=this.renderer.createGroup({id:elementId+'TrendLineCollection'});}this.dataLabelElements=this.renderer.createGroup({id:elementId+'DataLabelCollection'});};Chart$$1.prototype.hasTrendlines=function(){var isTrendline;for(var _i=0,_a=this.series;_i<_a.length;_i++){var series=_a[_i];isTrendline=series.trendlines.length?true:false;if(isTrendline){break;}}return isTrendline;};Chart$$1.prototype.renderSeriesElements=function(axisElement){// Initialize the series elements values
this.initializeModuleElements();var elementId=this.element.id;if(this.element.tagName!=='g'){var tooltipDiv=redrawElement(this.redraw,elementId+'_Secondary_Element')||this.createElement('div');tooltipDiv.id=elementId+'_Secondary_Element';tooltipDiv.setAttribute('style','position: relative');appendChildElement(false,this.element,tooltipDiv,this.redraw);}// For canvas
if(this.enableCanvas){var tooltipdiv=document.getElementById(elementId+'_Secondary_Element');tooltipdiv=!tooltipdiv?this.createElement('div',{id:elementId+'_Secondary_Element',attrs:{'style':'position: relative; left:0px; top:0px'}}):tooltipdiv;var svg=this.svgRenderer.createSvg({id:elementId+'_tooltip_svg',width:this.availableSize.width,height:this.availableSize.height});svg.setAttribute('style','position: absolute; pointer-events: none');tooltipdiv.appendChild(svg);}// For userInteraction
if(this.tooltip.enable){appendChildElement(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:elementId+'_UserInteraction',style:'pointer-events:none;'}),this.redraw);}if(this.rows.length>0&&this.columns.length>0){this.initializeIndicator();this.initializeTrendLine();this.renderSeries();// Trendline is append to DOM after the series
if(this.trendLineElements){appendChildElement(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw);}this.appendElementsAfterSeries(axisElement);}};/**
     * @private
     */Chart$$1.prototype.renderSeries=function(){var visibility;for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var item=_a[_i];if(item.category==='TrendLine'){visibility=this.series[item.sourceIndex].trendlines[item.index].visible;}else{visibility=item.visible;}if(visibility){this.visible++;findClipRect(item);if(this.enableCanvas){// To render scatter and bubble series in canvas
this.renderCanvasSeries(item);// To clip the series rect for canvas
this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);}item.renderSeries(this);if(this.enableCanvas){this.renderer.canvasRestore();}}}this.visible=0;var options={'id':this.element.id+'_ChartAreaClipRect_','x':this.chartAxisLayoutPanel.seriesClipRect.x,'y':this.chartAxisLayoutPanel.seriesClipRect.y,'width':this.chartAxisLayoutPanel.seriesClipRect.width,'height':this.chartAxisLayoutPanel.seriesClipRect.height,'fill':'transparent','stroke-width':1,'stroke':'Gray'};if(!this.seriesElements){return;}if(!this.enableCanvas){this.seriesElements.appendChild(appendClipElement(this.redraw,options,this.renderer));}var seriesSvg=document.getElementById(this.element.id+'_series_svg');if(seriesSvg){appendChildElement(false,seriesSvg,this.seriesElements,this.redraw);}else{appendChildElement(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw);}};Chart$$1.prototype.renderCanvasSeries=function(item){var svgElement;var divElement;if(item.type==='Bubble'||item.type==='Scatter'){svgElement=!svgElement?this.svgRenderer.createSvg({id:this.element.id+'_series_svg',width:this.availableSize.width,height:this.availableSize.height}):svgElement;divElement=!divElement?this.createElement('div',{id:this.element.id+'_series'}):divElement;divElement.setAttribute('style','position: absolute');var mainElement=document.getElementById(this.element.id+'_Secondary_Element');divElement.appendChild(svgElement);mainElement.appendChild(divElement);}svgElement=this.enableCanvas&&(item.type==='Bubble'||item.type==='Scatter')?svgElement:this.svgObject;// eslint-disable-next-line @typescript-eslint/no-unused-vars
var canvas=this.enableCanvas&&(item.type==='Bubble'||item.type==='Scatter')?false:this.enableCanvas;};Chart$$1.prototype.initializeIndicator=function(){for(var _i=0,_a=this.indicators;_i<_a.length;_i++){var indicator=_a[_i];if(this[firstToLowerCase(indicator.type)+'IndicatorModule']){this[firstToLowerCase(indicator.type)+'IndicatorModule'].createIndicatorElements(this,indicator,indicator.index);}}if(this.indicatorElements){appendChildElement(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw);}};Chart$$1.prototype.initializeTrendLine=function(){for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(series.trendlines.length){this.trendLineModule.getTrendLineElements(series,this);}}};Chart$$1.prototype.appendElementsAfterSeries=function(axisElement){if(this.chartAreaType==='PolarRadar'){appendChildElement(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw);}appendChildElement(this.enableCanvas,this.svgObject,axisElement,this.redraw);if(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount){appendChildElement(false,getElement$1(this.element.id+'_Secondary_Element'),this.scrollElement,this.redraw);}if(this.stripLineModule){this.stripLineModule.renderStripLine(this,'Over',this.axisCollections);}if(!this.tooltip.enable){appendChildElement(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+'_UserInteraction',style:'pointer-events:none;'}),this.redraw);}if(this.stockChart){this.stockChart.calculateStockEvents();}};Chart$$1.prototype.applyZoomkit=function(){/**
         * Issue: Zoomkit not visible after performing refresh()
         * Fix: this method called without checking `zoomModule.isZoomed`
         */if(this.chartAreaType==='PolarRadar'){return;}if(!this.redraw&&this.zoomModule&&(!this.zoomSettings.enablePan||this.zoomModule.performedUI)){this.zoomModule.applyZoomToolkit(this,this.axisCollections);}};/**
     * Render annotation perform here
     *
     * @private
     */Chart$$1.prototype.renderAnnotation=function(){if(this.annotationModule){//for stock chart, stock chart's id is added to render the annotations
this.annotationModule.renderAnnotations(getElement$1((this.stockChart?this.stockChart.element.id:this.element.id)+'_Secondary_Element'));}};Chart$$1.prototype.performSelection=function(){var selectedDataIndexes=[];if(this.selectionModule){selectedDataIndexes=sf.base.extend([],this.selectionModule.selectedDataIndexes,null,true);this.selectionModule.invokeSelection(this);}if(this.highlightModule){this.highlightModule.invokeHighlight(this);}if(selectedDataIndexes.length>0){this.selectionModule.selectedDataIndexes=selectedDataIndexes;this.selectionModule.redrawSelection(this,this.selectionMode);}};Chart$$1.prototype.processData=function(render){if(render===void 0){render=true;}this.visibleSeriesCount=0;var check=true;for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(!series.visible&&!this.legendSettings.visible){this.visibleSeriesCount++;continue;}if(series.category!=='Indicator'&&series.category!=='TrendLine'){this.initializeDataModule(series);}}for(var _b=0,_c=this.indicators;_b<_c.length;_b++){var indicator=_c[_b];if(indicator.dataSource){var techIndicator=indicator;this.initializeDataModule(techIndicator);check=false;}}if(render&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&check)){this.refreshBound();this.trigger('loaded',{chart:this.isBlazor?{}:this});}};Chart$$1.prototype.initializeDataModule=function(series){series.xData=[];series.yData=[];var dataSource;var isAngular='isAngular';if(this[isAngular]){dataSource=Object.keys(series.dataSource).length?series.dataSource:this.dataSource;}else{dataSource=series.dataSource||this.dataSource;}series.dataModule=new Data(dataSource,series.query);series.points=[];series.refreshDataManager(this);};Chart$$1.prototype.calculateBounds=function(){var margin=this.margin;// Title Height;
var titleHeight=0;var subTitleHeight=0;var titleWidth=0;var padding=15;var left=margin.left;var width=this.availableSize.width-left-margin.right-this.border.width;this.titleCollection=[];this.subTitleCollection=[];if(this.title){this.titleCollection=getTitle(this.title,this.titleStyle,width);titleHeight=sf.svgbase.measureText(this.title,this.titleStyle).height*this.titleCollection.length+padding;if(this.subTitle){var maxWidth=0;for(var _i=0,_a=this.titleCollection;_i<_a.length;_i++){var titleText=_a[_i];titleWidth=sf.svgbase.measureText(titleText,this.titleStyle).width;maxWidth=titleWidth>maxWidth?titleWidth:maxWidth;}this.subTitleCollection=getTitle(this.subTitle,this.subTitleStyle,maxWidth);subTitleHeight=sf.svgbase.measureText(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length+padding;}}var top=margin.top+subTitleHeight+titleHeight+this.chartArea.border.width*0.5;var height=this.availableSize.height-top-this.border.width-margin.bottom;this.initialClipRect=new sf.svgbase.Rect(left,top,width,height);if(this.legendModule&&this.legendSettings.visible){this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null);}this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);};/**
     * Handles the print method for chart control.
     */Chart$$1.prototype.print=function(id){var exportChart=new ExportUtils(this);exportChart.print(id);};/**
     * Defines the trendline initialization
     */Chart$$1.prototype.initTrendLines=function(){this.isProtectedOnChange=true;for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var series=_a[_i];var trendIndex=0;for(var _b=0,_c=series.trendlines;_b<_c.length;_b++){var trendline=_c[_b];var trendLine=trendline;if(this.trendLineModule){trendLine.index=trendIndex;trendLine.sourceIndex=series.index;this.trendLineModule.initSeriesCollection(trendLine,this);if(trendLine.targetSeries){trendLine.targetSeries.xAxisName=series.xAxisName;trendLine.targetSeries.yAxisName=series.yAxisName;this.visibleSeries.push(trendLine.targetSeries);}}trendIndex++;}}this.isProtectedOnChange=false;};Chart$$1.prototype.calculateAreaType=function(){var series=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width;if(series){this.requireInvertedAxis=series.type.indexOf('Bar')!==-1&&!this.isTransposed||series.type.indexOf('Bar')===-1&&this.isTransposed&&this.chartAreaType!=='PolarRadar';}this.chartAxisLayoutPanel=this.chartAreaType==='PolarRadar'?this.polarSeriesModule||this.radarSeriesModule:new CartesianAxisLayoutPanel(this);};/**
     * Calculate the visible axis
     *
     * @private
     */Chart$$1.prototype.calculateVisibleAxis=function(){var axis;var axes=[this.primaryXAxis,this.primaryYAxis];axes=this.chartAreaType==='Cartesian'?axes.concat(this.axes):axes;if(this.paretoSeriesModule&&this.series[0].type==='Pareto'){axes=axes.concat(this.paretoSeriesModule.paretoAxes);}this.axisCollections=[];if(this.zoomModule){this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(axes)&&this.zoomSettings.enablePan;this.svgObject.setAttribute('cursor',this.zoomModule.isPanning?'pointer':'auto');if(this.scrollBarModule){this.scrollBarModule.axes=axes;}}if(this.scrollSettingEnabled){if(this.scrollBarModule){this.scrollBarModule.axes=axes;}}for(var i=0,len=axes.length;i<len;i++){axis=axes[i];axis.series=[];axis.labels=[];for(var _i=0,_a=this.visibleSeries;_i<_a.length;_i++){var series=_a[_i];this.initAxis(series,axis,true);}for(var _b=0,_c=this.indicators;_b<_c.length;_b++){var indicator=_c[_b];this.initAxis(indicator,axis,false);}if(this.scrollBarModule&&!axis.zoomingScrollBar){this.scrollBarModule.injectTo(axis,this);}if(axis.orientation!=null){this.axisCollections.push(axis);}}if(this.rows.length>0&&this.columns.length>0){this.chartAxisLayoutPanel.measure();}};Chart$$1.prototype.initAxis=function(series,axis,isSeries){if(series.xAxisName===axis.name||series.xAxisName==null&&axis.name==='primaryXAxis'){axis.orientation=this.requireInvertedAxis?'Vertical':'Horizontal';series.xAxis=axis;if(isSeries){axis.series.push(series);}}else if(series.yAxisName===axis.name||series.yAxisName==null&&axis.name==='primaryYAxis'){axis.orientation=this.requireInvertedAxis?'Horizontal':'Vertical';series.yAxis=axis;if(isSeries){axis.series.push(series);}}};Chart$$1.prototype.initTechnicalIndicators=function(){var i=0;for(var _i=0,_a=this.indicators;_i<_a.length;_i++){var indicator=_a[_i];var techIndicator=indicator;var type=firstToLowerCase(techIndicator.type);if(this[type+'IndicatorModule']){techIndicator.index=i;this[type+'IndicatorModule'].initSeriesCollection(techIndicator,this);for(var _b=0,_c=techIndicator.targetSeries;_b<_c.length;_b++){var targetSeries=_c[_b];if(indicator.seriesName||indicator.dataSource){this.visibleSeries.push(targetSeries);}}}i++;}};/** @private */Chart$$1.prototype.refreshTechnicalIndicator=function(series){if(this.indicators.length){var targetIndicator=null;if(series instanceof Series&&series.category!=='Indicator'){for(var _i=0,_a=this.indicators;_i<_a.length;_i++){var indicator=_a[_i];if(indicator.seriesName===series.name&&!indicator.dataSource){targetIndicator=indicator;targetIndicator.setDataSource(series,this);}}}else if(series instanceof TechnicalIndicator){targetIndicator=series;targetIndicator.setDataSource(series instanceof Series?series:null,this);}}};Chart$$1.prototype.calculateVisibleSeries=function(){var series;this.visibleSeries=[];var colors=this.palettes.length?this.palettes:getSeriesColor(this.theme);var count=colors.length;var seriesCollection=this.series.sort(function(a,b){return a.zOrder-b.zOrder;});for(var i=0,len=seriesCollection.length;i<len;i++){series=seriesCollection[i];// for y axis label issue during chart navigation
series.category=seriesCollection[0].type==='Pareto'?'Pareto':'Series';series.index=i;series.interior=series.fill||colors[i%count];switch(series.type){case'Bar':case'StackingBar':case'StackingBar100':if(seriesCollection[0].type.indexOf('Bar')===-1){continue;}break;case'Polar':case'Radar':if(this.chartAreaType!=='PolarRadar'){continue;}if(this.chartAreaType==='PolarRadar'&&(series.xAxisName===null&&series.yAxisName!==null||series.xAxisName!==null&&series.yAxisName===null||series.xAxisName!==null&&series.yAxisName!==null)){continue;}break;case'Pareto':this.visibleSeries.push(series);this.paretoSeriesModule.initSeries(series,this);continue;default:if(this.chartAreaType==='PolarRadar'||seriesCollection[0].type.indexOf('Bar')>-1){continue;}break;}this.visibleSeries.push(series);seriesCollection[i]=series;}};Chart$$1.prototype.renderTitle=function(){var rect;var margin=this.margin;if(this.title){var alignment=this.titleStyle.textAlignment;var getAnchor=alignment==='Near'?'start':alignment==='Far'?'end':'middle';var elementSize=sf.svgbase.measureText(this.title,this.titleStyle);rect=new sf.svgbase.Rect(margin.left,0,this.availableSize.width-margin.left-margin.right,0);var options=new sf.svgbase.TextOption(this.element.id+'_ChartTitle',titlePositionX(rect,this.titleStyle),this.margin.top+elementSize.height*3/4,getAnchor,this.titleCollection,'','auto');var element=redrawElement(this.redraw,this.element.id+'_ChartTitle',options,this.renderer)||textElement(this.renderer,options,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject);if(element){element.setAttribute('aria-label',this.description||this.title);element.setAttribute('tabindex',this.tabIndex.toString());}if(this.subTitle){this.renderSubTitle(options);}}};Chart$$1.prototype.renderSubTitle=function(options){var maxWidth=0;var titleWidth=0;var padding=10;var anchor=function anchor(alignment){return alignment==='Near'?'start':alignment==='Far'?'end':'middle';};var alignment=this.titleStyle.textAlignment;for(var _i=0,_a=this.titleCollection;_i<_a.length;_i++){var titleText=_a[_i];titleWidth=sf.svgbase.measureText(titleText,this.titleStyle).width;maxWidth=titleWidth>maxWidth?titleWidth:maxWidth;}var subTitleElementSize=sf.svgbase.measureText(this.subTitle,this.subTitleStyle);var rect=new sf.svgbase.Rect(alignment==='Center'?options.x-maxWidth*0.5:alignment==='Far'?options.x-maxWidth:options.x,0,maxWidth,0);var subTitleOptions=new sf.svgbase.TextOption(this.element.id+'_ChartSubTitle',titlePositionX(rect,this.subTitleStyle),options.y*options.text.length+subTitleElementSize.height*3/4+padding,anchor(this.subTitleStyle.textAlignment),this.subTitleCollection,'','auto');var element=redrawElement(this.redraw,this.element.id+'_ChartSubTitle',subTitleOptions,this.renderer)||textElement(this.renderer,subTitleOptions,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject);if(element){element.setAttribute('aria-label',this.description||this.subTitle);element.setAttribute('tabindex',this.tabIndex.toString());}};Chart$$1.prototype.renderBorder=function(){var width=this.border.width;var backGroundImage=this.backgroundImage;var fillColor=backGroundImage?'transparent':this.background||this.themeStyle.background;var rect=new RectOption(this.element.id+'_ChartBorder',fillColor,this.border,1,new sf.svgbase.Rect(width*0.5,width*0.5,this.availableSize.width-width,this.availableSize.height-width));this.htmlObject=redrawElement(this.redraw,this.element.id+'_ChartBorder',rect,this.renderer)||this.renderer.drawRectangle(rect);appendChildElement(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw);// to draw back ground image for chart
if(backGroundImage){var image=new ImageOption(this.availableSize.height-width,this.availableSize.width-width,backGroundImage,0,0,this.element.id+'_ChartBackground','visible','none');this.htmlObject=redrawElement(this.redraw,this.element.id+'_ChartBackground',image,this.renderer)||this.renderer.drawImage(image);appendChildElement(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw);}};/**
     * @private
     */Chart$$1.prototype.renderAreaBorder=function(){if(this.chartAreaType==='PolarRadar'){return null;}else{var element=getElement$1(this.element.id+'_ChartAreaBorder');var previousRect=element?new sf.svgbase.Rect(+element.getAttribute('x'),+element.getAttribute('y'),+element.getAttribute('width'),+element.getAttribute('height')):null;var rect=new RectOption(this.element.id+'_ChartAreaBorder',this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect);this.htmlObject=this.renderer.drawRectangle(rect);appendChildElement(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,true,'x','y',null,null,true,true,previousRect);this.htmlObject=null;}// to draw back ground image for chart area
var backGroundImage=this.chartArea.backgroundImage;if(backGroundImage){var width=this.chartArea.border.width;var image=new ImageOption(this.initialClipRect.height-width,this.initialClipRect.width-width,backGroundImage,this.initialClipRect.x,this.initialClipRect.y,this.element.id+'_ChartAreaBackground','visible','none');this.htmlObject=this.renderer.drawImage(image);appendChildElement(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,true,'x','y',null,null,true,true);}};/**
     * To add series for the chart
     *
     * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.
     * @returns {void}.
     */Chart$$1.prototype.addSeries=function(seriesCollection){for(var _i=0,seriesCollection_1=seriesCollection;_i<seriesCollection_1.length;_i++){var series=seriesCollection_1[_i];series=new Series(this,'series',series);this.series.push(series);}this.refresh();};/**
     * To Remove series for the chart
     *
     * @param {number} index - Defines the series index to be remove in chart series
     * @returns {void}
     */Chart$$1.prototype.removeSeries=function(index){this.redraw=false;//fix for remove svg not working when use animatemethod.
this.series.splice(index,1);this.refresh();};/**
     * To Clear all series for the chart
     *
     * @returns {void}.
     */Chart$$1.prototype.clearSeries=function(){this.series=[];this.refresh();};/**
     * To add secondary axis for the chart
     *
     * @param {AxisModel[]} axisCollection - Defines the axis collection to be added in chart.
     * @returns {void}.
     */Chart$$1.prototype.addAxes=function(axisCollection){for(var _i=0,axisCollection_1=axisCollection;_i<axisCollection_1.length;_i++){var axis=axisCollection_1[_i];axis=new Axis(this,'axes',axis);if(this.isBlazor){axis.interval=isNaN(axis.interval)?null:axis.interval;axis.desiredIntervals=isNaN(axis.desiredIntervals)?null:axis.desiredIntervals;}this.axes.push(axis);}this.refresh();};/**
     * To remove secondary axis for the chart
     *
     * @param {number} index - Defines the axis collection to be removed in chart.
     * @returns {void}
     */Chart$$1.prototype.removeAxis=function(index){this.redraw=false;this.axes.splice(index,1);this.refresh();};/**
     * To destroy the widget
     *
     * @function destroy
     * @returns {void}.
     * @member of Chart
     */Chart$$1.prototype.destroy=function(){if(this.scrollBarModule){this.scrollBarModule.destroy();}if(this.markerRender){this.markerRender.removeEventListener();this.markerRender=null;}this.horizontalAxes=[];this.verticalAxes=[];this.visibleSeries=[];this.axisCollections=[];this.rotatedDataLabelCollections=[];this.seriesElements=null;this.chartAxisLayoutPanel=null;this.dataLabelCollections=null;this.dataLabelElements=null;this.yAxisElements=null;/**
         * To fix react timeout destroy issue.
         */if(this.element){this.unWireEvents();// eslint-disable-next-line @typescript-eslint/no-explicit-any
if(this.isReact){this.clearTemplate();}_super.prototype.destroy.call(this);if(!this.enableCanvas){this.removeSvg();this.svgObject=null;}}};/**
     * Get component name
     */Chart$$1.prototype.getModuleName=function(){return'chart';};/**
     * Get the properties to be maintained in the persisted state.
     *
     * @private
     */Chart$$1.prototype.getPersistData=function(){var keyEntity=['loaded','animationComplete','primaryXAxis','primaryYAxis'];return this.addOnPersist(keyEntity);};/**
     * Method to create SVG element.
     */Chart$$1.prototype.createChartSvg=function(){this.removeSvg();createSvg(this);};/**
     * Method to bind events for chart
     */Chart$$1.prototype.unWireEvents=function(){var startEvent=sf.base.Browser.touchStartEvent;var moveEvent=sf.base.Browser.touchMoveEvent;var stopEvent=sf.base.Browser.touchEndEvent;var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';/*! UnBind the Event handler */sf.base.EventHandler.remove(this.element,startEvent,this.chartOnMouseDown);sf.base.EventHandler.remove(this.element,moveEvent,this.mouseMove);sf.base.EventHandler.remove(this.element,stopEvent,this.mouseEnd);sf.base.EventHandler.remove(this.element,'click',this.chartOnMouseClick);sf.base.EventHandler.remove(this.element,'contextmenu',this.chartRightClick);sf.base.EventHandler.remove(this.element,cancelEvent,this.mouseLeave);window.removeEventListener(sf.base.Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.resizeBound);/**
         * To fix memory issue
         */if(this.touchObject){this.touchObject.destroy();this.touchObject=null;}};Chart$$1.prototype.wireEvents=function(){/**
         * To fix react timeout destroy issue.
         */if(!this.element){return;}/*! Find the Events type */var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';/*! Bind the Event handler */sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.chartOnMouseDown,this);sf.base.EventHandler.add(this.element,sf.base.Browser.touchMoveEvent,this.mouseMove,this);sf.base.EventHandler.add(this.element,sf.base.Browser.touchEndEvent,this.mouseEnd,this);sf.base.EventHandler.add(this.element,'click',this.chartOnMouseClick,this);sf.base.EventHandler.add(this.element,'contextmenu',this.chartRightClick,this);sf.base.EventHandler.add(this.element,cancelEvent,this.mouseLeave,this);this.resizeBound=this.chartResize.bind(this);window.addEventListener(sf.base.Browser.isTouch&&'orientation'in window&&'onorientationchange'in window?'orientationchange':'resize',this.resizeBound);this.longPressBound=this.longPress.bind(this);this.touchObject=new sf.base.Touch(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500});/*! Apply the style for chart */this.setStyle(this.element);};Chart$$1.prototype.chartRightClick=function(event){if(this.crosshair.enable&&this.crosshairModule&&(event.buttons===2||event.which===0||event.pointerType==='touch')){event.preventDefault();event.stopPropagation();return false;}return true;};Chart$$1.prototype.setStyle=function(element){var zooming=this.zoomSettings;var disableScroll=zooming.enableSelectionZooming||zooming.enablePinchZooming||this.selectionMode!=='None'||this.crosshair.enable||this.highlightMode!=='None';element.style.touchAction=disableScroll?'none':'element';element.style.msTouchAction=disableScroll?'none':'element';element.style.msContentZooming='none';element.style.msUserSelect='none';element.style.webkitUserSelect='none';element.style.position='relative';element.style.display='block';// To fix angular and react tooltip div scrollbar issue
element.style.overflow='hidden';};/**
     * Finds the orientation.
     *
     * @returns {boolean}
     * @private
     */Chart$$1.prototype.isOrientation=function(){return'orientation'in window&&'onorientationchange'in window;};/**
     * Handles the long press on chart.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.longPress=function(e){this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0;this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0;this.startMove=true;this.setMouseXY(this.mouseX,this.mouseY);this.notify('tapHold',e);return false;};/**
     * To find mouse x, y for aligned chart element svg position
     */Chart$$1.prototype.setMouseXY=function(pageX,pageY){if(getElement$1(this.svgId)){var svgRect=getElement$1(this.svgId).getBoundingClientRect();var rect=this.element.getBoundingClientRect();this.mouseY=pageY-rect.top-Math.max(svgRect.top-rect.top,0);this.mouseX=pageX-rect.left-Math.max(svgRect.left-rect.left,0);}};/**
     * Export method for the chart.
     */Chart$$1.prototype["export"]=function(type,fileName){if(this.exportModule){this.exportModule["export"](type,fileName);if(this.afterExport){this.exportModule.getDataUrl(this);}}};/**
     * Handles the chart resize.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.chartResize=function(){var _this=this;this.animateSeries=false;var arg={chart:this.isBlazor?{}:this,name:resized,currentSize:new sf.svgbase.Size(0,0),previousSize:new sf.svgbase.Size(this.availableSize.width,this.availableSize.height)};var beforeResizeArgs={name:'beforeResize',cancelResizedEvent:false};if(this.resizeTo){clearTimeout(this.resizeTo);}this.trigger(beforeResize,beforeResizeArgs);if(!beforeResizeArgs.cancelResizedEvent){this.resizeTo=+setTimeout(function(){if(_this.isDestroyed||_this.stockChart){clearTimeout(_this.resizeTo);return;}_this.createChartSvg();arg.currentSize=_this.availableSize;_this.rotatedDataLabelCollections=[];_this.trigger(resized,arg);_this.refreshAxis();_this.refreshBound();_this.trigger('loaded',{chart:_this.isBlazor?{}:_this});},500);}return false;};/**
     * Handles the mouse move.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.mouseMove=function(e){var pageX;var pageY;var touchArg;if(e.type==='touchmove'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;}else{this.isTouch=e.pointerType==='touch'||e.pointerType==='2'||this.isTouch;pageX=e.clientX;pageY=e.clientY;}if(getElement$1(this.svgId)){this.setMouseXY(pageX,pageY);this.chartOnMouseMove(e);}return false;};/**
     * Handles the mouse leave.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.mouseLeave=function(e){var pageX;var pageY;var touchArg;if(e.type==='touchleave'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;}else{this.isTouch=e.pointerType==='touch'||e.pointerType==='2';pageX=e.clientX;pageY=e.clientY;}this.setMouseXY(pageX,pageY);this.chartOnMouseLeave(e);return false;};/**
     * Handles the mouse leave on chart.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.chartOnMouseLeave=function(e){var element=e.target;var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';this.trigger(chartMouseLeave,{target:element.id,x:this.mouseX,y:this.mouseY});removeElement(this.element.id+'_EJ2_AxisLabel_Tooltip');this.isChartDrag=this.isPointMouseDown=false;this.notify(cancelEvent,e);return false;};/**
     * Handles the mouse click on chart.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.chartOnMouseClick=function(e){var _this=this;var element=e.target;this.trigger(chartMouseClick,{target:element.id,x:this.mouseX,y:this.mouseY});this.clickCount++;var timeInterval=0;var isAngular='isAngular';if(this[isAngular]){var observers='observers';timeInterval=this.pointDoubleClick[observers].length>0?400:0;}else{timeInterval=this.pointDoubleClick?400:0;}if(this.clickCount===1&&this.pointClick){this.singleClickTimer=+setTimeout(function(){_this.clickCount=0;_this.triggerPointEvent(pointClick,e);},timeInterval);}else if(this.clickCount===2&&this.pointDoubleClick){clearTimeout(this.singleClickTimer);this.clickCount=0;this.triggerPointEvent(pointDoubleClick,e);}if(this.axisLabelClick){this.triggerAxisLabelClickEvent(axisLabelClick,e);}this.notify('click',e);return false;};Chart$$1.prototype.triggerPointEvent=function(event,e){var evt=e;var data=new ChartData(this);var pointData=data.getData();if(pointData.series&&pointData.point){this.trigger(event,{series:this.isBlazor?{}:pointData.series,point:pointData.point,seriesIndex:pointData.series.index,pointIndex:pointData.point.index,x:this.mouseX,y:this.mouseY,pageX:evt.pageX,pageY:evt.pageY});}};Chart$$1.prototype.triggerAxisLabelClickEvent=function(event,e){var targetElement=e.target;var clickEvt=e;if(targetElement.id.indexOf('_AxisLabel_')!==-1){var index=targetElement.id.split('_AxisLabel_');var axisIndex=+index[0].slice(-1);var labelIndex=+index[1];var currentAxis=this.axisCollections[axisIndex];if(currentAxis.visible&&(axisIndex===0||axisIndex===1)){this.trigger(event,{chart:this,axis:currentAxis,text:currentAxis.visibleLabels[labelIndex].text,labelID:targetElement.id,index:labelIndex,location:new ChartLocation(clickEvt.pageX,clickEvt.pageY),value:currentAxis.visibleLabels[labelIndex].value});}}};/**
     * Handles the mouse move on chart.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.chartOnMouseMove=function(e){var element=e.target;this.trigger(chartMouseMove,{target:element.id,x:this.mouseX,y:this.mouseY});if(this.pointMove){this.triggerPointEvent(pointMove,e);}// Tooltip for chart series.
if(!this.isTouch){this.titleTooltip(e,this.mouseX,this.mouseY);this.axisTooltip(e,this.mouseX,this.mouseY);}if(this.dataEditingModule){this.dataEditingModule.pointMouseMove(e);}this.notify(sf.base.Browser.touchMoveEvent,e);this.isTouch=false;return false;};Chart$$1.prototype.titleTooltip=function(event,x,y,isTouch){var targetId=event.target.id;var id=targetId===this.element.id+'_ChartTitle'||targetId===this.element.id+'_ChartSubTitle'||targetId.indexOf('_AxisTitle')>-1||targetId.indexOf('_legend_title')>-1;var index=0;if(targetId.indexOf('_AxisTitle')>-1){index=parseInt(targetId.replace(this.element.id,'').replace('AxisLabel_','').split('_')[2],10);}if(id&&event.target.textContent.indexOf('...')>-1){var title=targetId===this.element.id+'_ChartTitle'?this.title:targetId.indexOf('_AxisTitle')>-1?this.axisCollections[index].title:targetId.indexOf('_ChartSubTitle')>-1?this.subTitle:this.legendSettings.title;showTooltip(title,x,y,this.element.offsetWidth,this.element.id+'_EJ2_Title_Tooltip',getElement$1(this.element.id+'_Secondary_Element'),isTouch);}else{removeElement(this.element.id+'_EJ2_Title_Tooltip');}};Chart$$1.prototype.axisTooltip=function(event,x,y,isTouch){var targetId=event.target.id;if((targetId.indexOf('AxisLabel')>-1||targetId.indexOf('Axis_MultiLevelLabel')>-1)&&event.target.textContent.indexOf('...')>-1){var isTitleOrLegendEnabled=this.legendSettings.visible||this.primaryXAxis.title==='';showTooltip(this.findAxisLabel(targetId),x,y,this.element.offsetWidth,this.element.id+'_EJ2_AxisLabel_Tooltip',getElement$1(this.element.id+'_Secondary_Element'),isTouch,isTitleOrLegendEnabled);}else{removeElement(this.element.id+'_EJ2_AxisLabel_Tooltip');}};Chart$$1.prototype.findAxisLabel=function(text){var texts;if(text.indexOf('AxisLabel')>-1){texts=text.replace(this.element.id,'').replace('AxisLabel_','').split('_');return this.axisCollections[parseInt(texts[0],10)].visibleLabels[parseInt(texts[1],10)].originalText;}else{texts=text.replace(this.element.id,'').replace('Axis_MultiLevelLabel_Level_','').replace('Text_','').split('_');return this.axisCollections[parseInt(texts[0],10)].multiLevelLabels[parseInt(texts[1],10)].categories[parseInt(texts[2],10)].text;}};/**
     * Handles the mouse down on chart.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.chartOnMouseDown=function(e){var pageX;var pageY;var target;var touchArg;var offset=sf.base.Browser.isDevice?20:30;var rect=this.element.getBoundingClientRect();var element=e.target;this.trigger(chartMouseDown,{target:element.id,x:this.mouseX,y:this.mouseY});if(e.type==='touchstart'){this.isTouch=true;touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;target=touchArg.target;}else{this.isTouch=e.pointerType==='touch';pageX=e.clientX;pageY=e.clientY;target=e.target;}var svgRect=getElement$1(this.svgId).getBoundingClientRect();this.mouseDownX=this.previousMouseMoveX=pageX-rect.left-Math.max(svgRect.left-rect.left,0);this.mouseDownY=this.previousMouseMoveY=pageY-rect.top-Math.max(svgRect.top-rect.top,0);if(this.isTouch){this.isDoubleTap=new Date().getTime()<this.threshold&&target.id.indexOf(this.element.id+'_Zooming_')===-1&&(this.mouseDownX-offset>=this.mouseX||this.mouseDownX+offset>=this.mouseX)&&(this.mouseDownY-offset>=this.mouseY||this.mouseDownY+offset>=this.mouseY)&&(this.mouseX-offset>=this.mouseDownX||this.mouseX+offset>=this.mouseDownX)&&(this.mouseY-offset>=this.mouseDownY||this.mouseY+offset>=this.mouseDownY);}if(this.dataEditingModule){this.dataEditingModule.pointMouseDown();}this.notify(sf.base.Browser.touchStartEvent,e);return false;};/**
     * Handles the mouse up.
     *
     * @returns {boolean} false
     * @private
     */Chart$$1.prototype.mouseEnd=function(e){var pageY;var pageX;var touchArg;if(e.type==='touchend'){touchArg=e;pageX=touchArg.changedTouches[0].clientX;this.isTouch=true;pageY=touchArg.changedTouches[0].clientY;}else{pageY=e.clientY;pageX=e.clientX;this.isTouch=e.pointerType==='touch'||e.pointerType==='2';}this.setMouseXY(pageX,pageY);this.chartOnMouseUp(e);return false;};/**
     * Handles the mouse up.
     *
     * @returns {boolean}
     * @private
     */Chart$$1.prototype.chartOnMouseUp=function(e){var element=e.target;this.trigger(chartMouseUp,{target:element.id,x:this.mouseX,y:this.mouseY});this.isChartDrag=false;if(this.isTouch){this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch);this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch);this.threshold=new Date().getTime()+300;}if(this.dataEditingModule){this.dataEditingModule.pointMouseUp();}if(!this.enableCanvas&&this.seriesElements){this.seriesElements.removeAttribute('clip-path');}this.notify(sf.base.Browser.touchEndEvent,e);return false;};/**
     * Method to set culture for chart
     */Chart$$1.prototype.setCulture=function(){this.intl=new sf.base.Internationalization();this.setLocaleConstants();this.localeObject=new sf.base.L10n(this.getModuleName(),this.defaultLocalConstants,this.locale);};/**
     * Method to set the annotation content dynamically for chart.
     */Chart$$1.prototype.setAnnotationValue=function(annotationIndex,content){var parentNode=getElement$1(this.element.id+'_Annotation_Collections');var annotation=this.annotations[annotationIndex];var element;if(content!==null){annotation.content=content;if(parentNode){removeElement(this.element.id+'_Annotation_'+annotationIndex);element=this.createElement('div');this.annotationModule.processAnnotation(annotation,annotationIndex,element);parentNode.appendChild(element.children[0]);}else{this.annotationModule.renderAnnotations(getElement$1(this.element.id+'_Secondary_Element'));}}};/**
     * Method to set locale constants
     */Chart$$1.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:'Zoom in',Zoom:'Zoom',ZoomOut:'Zoom out',Pan:'Pan',Reset:'Reset',ResetZoom:'Reset Zoom'};};/**
     * Theming for chart
     */Chart$$1.prototype.setTheme=function(){/*! Set theme */this.themeStyle=getThemeColor(this.theme);};/**
     * To provide the array of modules needed for control rendering
     *
     * @returns {ModuleDeclaration[]}
     * @private
     */ /* eslint-disable  */Chart$$1.prototype.requiredModules=function(){var _this=this;var modules=[];var series=this.series;var enableAnnotation=false;var moduleName;var errorBarVisible=false;var isPointDrag=false;var dataLabelEnable=false;var zooming=this.zoomSettings;this.chartAreaType=series.length>0&&(series[0].type==='Polar'||series[0].type==='Radar')?'PolarRadar':'Cartesian';if(this.tooltip.enable){modules.push({member:'Tooltip',args:[this]});}series.map(function(value){_this.isLegend=_this.legendSettings.visible&&(value.name!==''||!!_this.isLegend);moduleName=value.type.indexOf('100')!==-1?value.type.replace('100','')+'Series':value.type+'Series';errorBarVisible=value.errorBar.visible||errorBarVisible;dataLabelEnable=value.marker.dataLabel.visible||dataLabelEnable;isPointDrag=value.dragSettings.enable||isPointDrag;if(!modules.some(function(currentModule){return currentModule.member===moduleName;})){modules.push({member:moduleName,args:[_this,series]});}if(_this.chartAreaType==='PolarRadar'){modules.push({member:value.drawType+'Series',args:[_this,series]});}if(value.type==='Pareto'){modules.push({member:'ColumnSeries',args:[_this,series]});modules.push({member:'LineSeries',args:[_this,series]});}});this.findIndicatorModules(modules);this.findTrendLineModules(modules);modules=this.findAxisModule(modules);enableAnnotation=this.annotations.some(function(value){return value.content!==null;});if(errorBarVisible){modules.push({member:'ErrorBar',args:[this,series]});}if(this.isLegend){modules.push({member:'Legend',args:[this]});}if(this.enableExport||this.allowExport){modules.push({member:'Export',args:[this]});}if(this.chartAreaType!=='PolarRadar'&&!this.scrollSettingEnabled&&(zooming.enableSelectionZooming||zooming.enableMouseWheelZooming||zooming.enablePinchZooming||zooming.enablePan||zooming.enableScrollbar)){modules.push({member:'Zoom',args:[this,this.zoomSettings]});if(zooming.enableScrollbar){modules.push({member:'ScrollBar',args:[this]});}}if(this.selectionMode!=='None'&&!(this.chartAreaType==='PolarRadar'&&this.selectionMode.indexOf('Drag')>-1)){modules.push({member:'Selection',args:[this]});}if(this.highlightMode!=='None'){modules.push({member:'Highlight',args:[this]});}if(dataLabelEnable){modules.push({member:'DataLabel',args:[this,series]});}if(isPointDrag){modules.push({member:'DataEditing',args:[this]});}if(enableAnnotation){modules.push({member:'Annotation',args:[this]});}if(this.chartAreaType!=='PolarRadar'&&this.crosshair.enable){modules.push({member:'Crosshair',args:[this]});}return modules;};Chart$$1.prototype.findAxisModule=function(modules){var axisCollections=[];axisCollections.push(this.primaryXAxis);axisCollections.push(this.primaryYAxis);axisCollections=axisCollections.concat(this.axes);var datetimeEnabled=false;var categoryEnabled=false;var logarithmicEnabled=false;var striplineEnabled=false;var dateTimeCategoryEnabled=false;var multiLevelEnabled=false;for(var _i=0,axisCollections_1=axisCollections;_i<axisCollections_1.length;_i++){var axis=axisCollections_1[_i];datetimeEnabled=axis.valueType==='DateTime'||datetimeEnabled;categoryEnabled=axis.valueType==='Category'||categoryEnabled;logarithmicEnabled=axis.valueType==='Logarithmic'||logarithmicEnabled;dateTimeCategoryEnabled=axis.valueType==='DateTimeCategory'||dateTimeCategoryEnabled;striplineEnabled=this.findStriplineVisibility(axis.stripLines)||striplineEnabled;multiLevelEnabled=axis.multiLevelLabels.length>0||multiLevelEnabled;this.scrollSettingEnabled=axis.scrollbarSettings.enable?true:this.scrollSettingEnabled;}if(datetimeEnabled){modules.push({member:'DateTime',args:[this]});}if(categoryEnabled){modules.push({member:'Category',args:[this]});}if(logarithmicEnabled){modules.push({member:'Logarithmic',args:[this]});}if(striplineEnabled){modules.push({member:'StripLine',args:[this]});}if(multiLevelEnabled){modules.push({member:'MultiLevelLabel',args:[this]});}if(dateTimeCategoryEnabled){modules.push({member:'DateTimeCategory',args:[this]});}if(this.scrollSettingEnabled){modules.push({member:'ScrollBar',args:[this]});}return modules;};Chart$$1.prototype.findIndicatorModules=function(modules){var macdEnable;var bandEnable;var indicators=this.indicators;if(this.indicators.length){modules.push({member:'LineSeries',args:[this]});indicators.map(function(indicator){macdEnable=macdEnable||indicator.type==='Macd';bandEnable=bandEnable||indicator.type==='BollingerBands';});if(macdEnable){modules.push({member:'ColumnSeries',args:[this]});}if(bandEnable){modules.push({member:'RangeAreaSeries',args:[this]});}for(var _i=0,_a=this.indicators;_i<_a.length;_i++){var indicator=_a[_i];modules.push({member:indicator.type+'Indicator',args:[this]});}}};Chart$$1.prototype.findTrendLineModules=function(modules){var isLine;var isSpline;var _loop_1=function _loop_1(series){var markerEnable;series.trendlines.map(function(trendline){markerEnable=markerEnable||trendline.marker.visible;isLine=isLine||trendline.type==='Linear'||trendline.type==='MovingAverage'?true:false;isSpline=isSpline||!isLine?true:false;});if(markerEnable){modules.push({member:'Marker',args:[this_1,series]});}};var this_1=this;for(var _i=0,_a=this.series;_i<_a.length;_i++){var series=_a[_i];_loop_1(series);}if(isLine||isSpline){modules.push({member:'TrendLine',args:[this]});}if(isLine){modules.push({member:'LineSeries',args:[this]});}if(isSpline){modules.push({member:'SplineSeries',args:[this]});}};Chart$$1.prototype.findStriplineVisibility=function(striplines){var visible=false;for(var _i=0,striplines_1=striplines;_i<striplines_1.length;_i++){var stripline=striplines_1[_i];if(stripline.visible){visible=true;break;}}return visible;};/**
     * To Remove the SVG.
     * @return {boolean}
     * @private
     */Chart$$1.prototype.removeSvg=function(){if(this.redraw){return null;}blazorTemplatesReset(this);if(this.enableCanvas&&this.svgObject&&this.svgObject.tagName==='CANVAS'){this.renderer.clearRect(new sf.svgbase.Rect(0,0,this.availableSize.width,this.availableSize.height));if(this.svgObject.parentNode){sf.base.remove(this.svgObject);}return null;}removeElement(this.element.id+'_Secondary_Element');if(this.isReact){this.clearTemplate();}var removeLength=0;if(this.zoomModule&&this.zoomModule.pinchTarget){this.zoomModule.pinchTarget.id='';this.zoomModule.pinchTarget.setAttribute('opacity','0');this.svgObject.appendChild(this.zoomModule.pinchTarget);removeLength=1;}// Fix for blazor resize issue
if(!sf.base.isNullOrUndefined(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount){var containerCollection=document.querySelectorAll('.e-chart');for(var index=0;index<containerCollection.length;index++){var container=containerCollection[index];while(container.firstChild){sf.base.remove(container.firstChild);}}}this.checkResize=this.resizeTo;}if(this.svgObject){while(this.svgObject.childNodes.length>removeLength){this.svgObject.removeChild(this.svgObject.firstChild);}if(!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&!this.stockChart){sf.base.remove(this.svgObject);}}};Chart$$1.prototype.refreshDefinition=function(definitions){for(var _i=0,definitions_1=definitions;_i<definitions_1.length;_i++){var item=definitions_1[_i];item.axes=[];}};/**
     * Refresh the axis default value.
     *
     * @returns {boolean}
     * @private
     */Chart$$1.prototype.refreshAxis=function(){var axis=this.primaryXAxis;axis.rect=new sf.svgbase.Rect(undefined,undefined,0,0);axis=this.primaryYAxis;axis.isStack100=false;axis.rect=new sf.svgbase.Rect(undefined,undefined,0,0);for(var _i=0,_a=this.axes;_i<_a.length;_i++){var item=_a[_i];axis=item;axis.rect=new sf.svgbase.Rect(undefined,undefined,0,0);axis.isStack100=false;}if(this.paretoSeriesModule&&this.series[0].type==='Pareto'){for(var _b=0,_c=this.paretoSeriesModule.paretoAxes;_b<_c.length;_b++){var item=_c[_b];axis=item;axis.rect=new sf.svgbase.Rect(undefined,undefined,0,0);axis.isStack100=false;}}};Chart$$1.prototype.axisChange=function(axis){if(!axis.name&&!axis.valueType){return false;}this.refreshDefinition(this.columns);this.refreshDefinition(this.rows);this.calculateVisibleAxis();this.processData();return true;};/**
     * Get visible series by index
     */Chart$$1.prototype.getVisibleSeries=function(visibleSeries,index){for(var _i=0,visibleSeries_1=visibleSeries;_i<visibleSeries_1.length;_i++){var series=visibleSeries_1[_i];if(index===series.index){return series;}}return null;};/**
     * Fix for live data update flicker issue
     */Chart$$1.prototype.refreshLiveData=function(){this.calculateVisibleSeries();this.initTechnicalIndicators();this.initTrendLines();this.refreshDefinition(this.columns);this.refreshDefinition(this.rows);this.calculateVisibleAxis();this.processData(false);if(!this.isBlazor){this.enableCanvas?this.createChartSvg():this.removeSvg();this.refreshAxis();this.refreshBound();this.trigger('loaded',{chart:this.isBlazor?{}:this});}};/**
     * To remove style element
     */Chart$$1.prototype.removeStyles=function(){removeElement(this.element.id+'_ej2_chart_selection');removeElement(this.element.id+'_ej2_chart_highlight');};/**
     * Called internally if any of the property value changed.
     * @private
     */Chart$$1.prototype.onPropertyChanged=function(newProp,oldProp){var renderer=false;var refreshBounds=false;if(Object.keys(newProp).length===1&&Object.keys(newProp)[0]==='indicators'){//add valid check,it should happen only when property change is triggered for target series
return;}this.animateSeries=false;if(!this.delayRedraw){for(var _i=0,_a=Object.keys(newProp);_i<_a.length;_i++){var prop=_a[_i];switch(prop){case'primaryXAxis':refreshBounds=this.axisChange(newProp.primaryXAxis);if(newProp.primaryXAxis.edgeLabelPlacement){renderer=true;}if(!newProp.primaryXAxis.crosshairTooltip){refreshBounds=true;}break;case'primaryYAxis':refreshBounds=this.axisChange(newProp.primaryYAxis);if(newProp.primaryYAxis.edgeLabelPlacement){renderer=true;}if(!newProp.primaryYAxis.crosshairTooltip){refreshBounds=true;}break;case'axes':for(var _b=0,_c=Object.keys(newProp.axes);_b<_c.length;_b++){var index=_c[_b];refreshBounds=refreshBounds||this.axisChange(newProp.axes[index]);if(!newProp.axes[index].crosshairTooltip){refreshBounds=true;}}break;case'height':case'width':this.createChartSvg();refreshBounds=true;break;case'subTitle':case'title':refreshBounds=true;break;case'titleStyle':if(newProp.titleStyle&&(newProp.titleStyle.size||newProp.titleStyle.textOverflow)){refreshBounds=true;}else{renderer=true;}break;case'subTitleStyle':if(newProp.subTitleStyle&&(newProp.subTitleStyle.size||newProp.subTitleStyle.textOverflow)){refreshBounds=true;}else{renderer=true;}break;case'border':renderer=true;break;case'dataSource':this.processData(false);refreshBounds=true;break;case'enableCanvas':this.refresh();break;case'series':var len=this.series.length;var seriesRefresh=false;var series=void 0;var blazorProp=void 0;for(var i=0;i<len;i++){series=newProp.series[i];// I264774 blazor series visible property binding not working issue fixed.
if(this.isBlazor&&series&&(series.visible!==oldProp.series[i].visible||series.isClosed||series.marker||series.emptyPointSettings||series.type||series.boxPlotMode||series.showMean)){blazorProp=true;}if(series&&(series.dataSource||series.query||series.errorBar||series.xName||series.yName||series.size||series.high||series.low||series.open||series.close||series.fill||series.name||series.marker||blazorProp)){sf.base.extend(this.getVisibleSeries(this.visibleSeries,i),series,null,true);seriesRefresh=true;}}if(seriesRefresh){this.calculateVisibleSeries();this.initTechnicalIndicators();this.initTrendLines();this.refreshDefinition(this.columns);this.refreshDefinition(this.rows);this.calculateVisibleAxis();this.processData(false);refreshBounds=true;}break;case'zoomSettings':if(newProp.zoomSettings.enableScrollbar||oldProp.zoomSettings.enableScrollbar){refreshBounds=true;}renderer=true;break;case'background':renderer=true;break;case'chartArea':if(newProp.chartArea.border&&newProp.chartArea.border.width){refreshBounds=true;}renderer=true;break;case'legendSettings':if(!newProp.legendSettings.background||!newProp.legendSettings.opacity){refreshBounds=true;}renderer=true;break;case'palettes':this.calculateVisibleSeries();renderer=true;break;case'selectedDataIndexes':case'selectionMode':if(this.selectionModule&&newProp.selectionMode&&newProp.selectionMode.indexOf('Drag')===-1){this.selectionModule.currentMode=this.selectionMode;this.selectionModule.styleId=this.element.id+'_ej2_chart_selection';this.selectionModule.redrawSelection(this,oldProp.selectionMode);}break;case'isMultiSelect':if(this.selectionModule&&!newProp.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1){this.selectionModule.currentMode=this.selectionMode;this.selectionModule.styleId=this.element.id+'_ej2_chart_selection';this.selectionModule.redrawSelection(this,oldProp.selectionMode);}break;case'highlightMode':case'selectionPattern':case'highlightPattern':this.removeStyles();renderer=true;break;case'theme':this.animateSeries=true;break;case'locale':case'currencyCode':if(this.isBlazor){this.setCulture();renderer=true;}else{this.refresh();}break;case'tooltip':if(this.tooltipModule){// To check the tooltip enable is true.
this.tooltipModule.previousPoints=[];}break;}}if(!refreshBounds&&renderer){this.removeSvg();this.renderElements();this.trigger('loaded',{chart:this.isBlazor?{}:this});}if(refreshBounds){this.enableCanvas?this.createChartSvg():this.removeSvg();if(this.isReact){this.clearTemplate();}this.refreshAxis();this.refreshBound();this.trigger('loaded',{chart:this.isBlazor?{}:this});this.redraw=false;this.animated=false;}}};__decorate$6([sf.base.Property(null)],Chart$$1.prototype,"width",void 0);__decorate$6([sf.base.Property(null)],Chart$$1.prototype,"height",void 0);__decorate$6([sf.base.Property('')],Chart$$1.prototype,"title",void 0);__decorate$6([sf.base.Property('')],Chart$$1.prototype,"dataSource",void 0);__decorate$6([sf.base.Complex(Theme.chartTitleFont,Font)],Chart$$1.prototype,"titleStyle",void 0);__decorate$6([sf.base.Property('')],Chart$$1.prototype,"subTitle",void 0);__decorate$6([sf.base.Complex(Theme.chartSubTitleFont,Font)],Chart$$1.prototype,"subTitleStyle",void 0);__decorate$6([sf.base.Complex({},Margin)],Chart$$1.prototype,"margin",void 0);__decorate$6([sf.base.Complex({color:'#DDDDDD',width:0},Border)],Chart$$1.prototype,"border",void 0);__decorate$6([sf.base.Property(null)],Chart$$1.prototype,"background",void 0);__decorate$6([sf.base.Complex({border:{color:null,width:0.5},background:'transparent'},ChartArea)],Chart$$1.prototype,"chartArea",void 0);__decorate$6([sf.base.Complex({name:'primaryXAxis'},Axis)],Chart$$1.prototype,"primaryXAxis",void 0);__decorate$6([sf.base.Complex({name:'primaryYAxis'},Axis)],Chart$$1.prototype,"primaryYAxis",void 0);__decorate$6([sf.base.Collection([{}],Row)],Chart$$1.prototype,"rows",void 0);__decorate$6([sf.base.Collection([{}],Column)],Chart$$1.prototype,"columns",void 0);__decorate$6([sf.base.Collection([{}],Axis)],Chart$$1.prototype,"axes",void 0);__decorate$6([sf.base.Collection([{}],Series)],Chart$$1.prototype,"series",void 0);__decorate$6([sf.base.Collection([{}],ChartAnnotationSettings)],Chart$$1.prototype,"annotations",void 0);__decorate$6([sf.base.Property([])],Chart$$1.prototype,"palettes",void 0);__decorate$6([sf.base.Property('Material')],Chart$$1.prototype,"theme",void 0);__decorate$6([sf.base.Complex({},TooltipSettings)],Chart$$1.prototype,"tooltip",void 0);__decorate$6([sf.base.Complex({},CrosshairSettings$1)],Chart$$1.prototype,"crosshair",void 0);__decorate$6([sf.base.Complex({},LegendSettings)],Chart$$1.prototype,"legendSettings",void 0);__decorate$6([sf.base.Collection([{}],RangeColorSetting)],Chart$$1.prototype,"rangeColorSettings",void 0);__decorate$6([sf.base.Complex({},ZoomSettings$1)],Chart$$1.prototype,"zoomSettings",void 0);__decorate$6([sf.base.Property('None')],Chart$$1.prototype,"selectionMode",void 0);__decorate$6([sf.base.Property('None')],Chart$$1.prototype,"highlightMode",void 0);__decorate$6([sf.base.Property('None')],Chart$$1.prototype,"selectionPattern",void 0);__decorate$6([sf.base.Property('None')],Chart$$1.prototype,"highlightPattern",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"isMultiSelect",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"allowMultiSelection",void 0);__decorate$6([sf.base.Property(true)],Chart$$1.prototype,"enableExport",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"allowExport",void 0);__decorate$6([sf.base.Collection([],Indexes)],Chart$$1.prototype,"selectedDataIndexes",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"useGroupingSeparator",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"enableAutoIntervalOnBothAxis",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"isTransposed",void 0);__decorate$6([sf.base.Property(false)],Chart$$1.prototype,"enableCanvas",void 0);__decorate$6([sf.base.Property(null)],Chart$$1.prototype,"backgroundImage",void 0);__decorate$6([sf.base.Collection([],TechnicalIndicator)],Chart$$1.prototype,"indicators",void 0);__decorate$6([sf.base.Property(true)],Chart$$1.prototype,"enableAnimation",void 0);__decorate$6([sf.base.Property(null)],Chart$$1.prototype,"description",void 0);__decorate$6([sf.base.Property(1)],Chart$$1.prototype,"tabIndex",void 0);__decorate$6([sf.base.Property(true)],Chart$$1.prototype,"enableSideBySidePlacement",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"resized",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"beforeResize",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"annotationRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"beforePrint",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"loaded",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"beforeExport",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"afterExport",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"load",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"animationComplete",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"legendRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"textRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"pointRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"seriesRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"axisLabelRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"axisLabelClick",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"axisRangeCalculated",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"axisMultiLabelRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"legendClick",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"multiLevelLabelClick",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"tooltipRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"sharedTooltipRender",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"chartMouseMove",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"chartMouseClick",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"pointClick",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"pointDoubleClick",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"pointMove",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"chartMouseLeave",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"chartMouseDown",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"chartMouseUp",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"dragComplete",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"selectionComplete",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"zoomComplete",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"onZooming",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"scrollStart",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"scrollEnd",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"scrollChanged",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"dragStart",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"drag",void 0);__decorate$6([sf.base.Event()],Chart$$1.prototype,"dragEnd",void 0);__decorate$6([sf.base.Property('USD')],Chart$$1.prototype,"currencyCode",void 0);Chart$$1=__decorate$6([sf.base.NotifyPropertyChanges],Chart$$1);return Chart$$1;}(sf.base.Component);var __extends$15=undefined&&undefined.__extends||function(){var _extendStatics15=function extendStatics(d,b){_extendStatics15=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics15(d,b);};return function(d,b){_extendStatics15(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /**
 * Common axis classes
 *
 * @private
 */var NiceInterval=/** @class */function(_super){__extends$15(NiceInterval,_super);function NiceInterval(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Method to calculate numeric datetime interval
     */NiceInterval.prototype.calculateDateTimeNiceInterval=function(axis,size,start,end,isChart){if(isChart===void 0){isChart=true;}var oneDay=24*60*60*1000;var startDate=new Date(start);var endDate=new Date(end);//var axisInterval ;
var totalDays=Math.abs((startDate.getTime()-endDate.getTime())/oneDay);var interval;axis.actualIntervalType=axis.intervalType;var type=axis.intervalType;switch(type){case'Years':interval=this.calculateNumericNiceInterval(axis,totalDays/365,size);break;case'Quarter':interval=this.calculateNumericNiceInterval(axis,totalDays/365*4,size);break;case'Months':interval=this.calculateNumericNiceInterval(axis,totalDays/30,size);break;case'Weeks':interval=this.calculateNumericNiceInterval(axis,totalDays/7,size);break;case'Days':interval=this.calculateNumericNiceInterval(axis,totalDays,size);break;case'Hours':interval=this.calculateNumericNiceInterval(axis,totalDays*24,size);break;case'Minutes':interval=this.calculateNumericNiceInterval(axis,totalDays*24*60,size);break;case'Seconds':interval=this.calculateNumericNiceInterval(axis,totalDays*24*60*60,size);break;case'Auto':interval=this.calculateNumericNiceInterval(axis,totalDays/365,size);if(interval>=1){axis.actualIntervalType='Years';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays/365*4,size);if(interval>=1&&!isChart){axis.actualIntervalType='Quarter';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays/30,size);if(interval>=1){axis.actualIntervalType='Months';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays/7,size);if(interval>=1&&!isChart){axis.actualIntervalType='Weeks';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays,size);if(interval>=1){axis.actualIntervalType='Days';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays*24,size);if(interval>=1){axis.actualIntervalType='Hours';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays*24*60,size);if(interval>=1){axis.actualIntervalType='Minutes';return interval;}interval=this.calculateNumericNiceInterval(axis,totalDays*24*60*60,size);axis.actualIntervalType='Seconds';return interval;}return interval;};/**
     * To get the skeleton for the DateTime axis.
     *
     * @returns {string} skeleton format
     * @private
     */NiceInterval.prototype.getSkeleton=function(axis,currentValue,previousValue,isBlazor){var skeleton;var intervalType=axis.actualIntervalType;if(axis.skeleton){return axis.skeleton;}if(intervalType==='Years'){if(isBlazor){skeleton=axis.isChart?axis.valueType==='DateTime'?'y':'y':'y';}else{skeleton=axis.isChart?axis.valueType==='DateTime'&&axis.isIntervalInDecimal?'y':'yMMM':'y';}}else if(intervalType==='Quarter'){skeleton=isBlazor?'y':'yMMM';}else if(intervalType==='Months'){if(isBlazor){skeleton=axis.isChart?'m':'m';}else{skeleton=axis.isChart?'MMMd':'MMM';}}else if(intervalType==='Weeks'){skeleton=isBlazor?'m':'MEd';}else if(intervalType==='Days'){if(isBlazor){skeleton='d';}else{skeleton=axis.isChart?this.getDayFormat(axis,currentValue,previousValue):'MMMd';}}else if(intervalType==='Hours'){if(isBlazor){skeleton='t';}else{skeleton=axis.isChart?axis.valueType==='DateTime'?'Hm':'EHm':'h';}}else if(intervalType==='Minutes'){if(isBlazor){skeleton='T';}else{skeleton=axis.isChart?'Hms':'hm';}}else{if(isBlazor){skeleton='T';}else{skeleton=axis.isChart?'Hms':'hms';}}return skeleton;};/**
     * Get intervalType month format
     *
     * @param {Axis} axis axis
     * @param {number} currentValue currentValue
     * @param {number} previousValue previousValue
     */NiceInterval.prototype.getMonthFormat=function(axis,currentValue,previousValue){return new Date(currentValue).getFullYear()===new Date(previousValue).getFullYear()?axis.isIntervalInDecimal?'MMM':'MMM d':'y MMM';};/**
     * Get intervalType day label format for the axis
     *
     * @param {Axis} axis axis
     * @param {number} currentValue currentValue
     * @param {number} previousValue previousValue
     */NiceInterval.prototype.getDayFormat=function(axis,currentValue,previousValue){return axis.valueType==='DateTime'?new Date(currentValue).getMonth()!==new Date(previousValue).getMonth()?'MMMd':axis.isIntervalInDecimal?'d':'Ehm':'yMd';};/**
     * Find label format for axis
     *
     * @param {Axis} axis axis
     * @param {number} currentValue currentValue
     * @param {number} previousValue previousValue
     * @private
     */NiceInterval.prototype.findCustomFormats=function(axis,currentValue,previousValue){var labelFormat=axis.labelFormat?axis.labelFormat:'';if(axis.isChart&&!axis.skeleton&&axis.actualIntervalType==='Months'&&!labelFormat){labelFormat=axis.valueType==='DateTime'?this.getMonthFormat(axis,currentValue,previousValue):'yMMM';}return labelFormat;};return NiceInterval;}(Double);var __extends$14=undefined&&undefined.__extends||function(){var _extendStatics16=function extendStatics(d,b){_extendStatics16=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics16(d,b);};return function(d,b){_extendStatics16(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `DateTime` module is used to render datetime axis.
 */var DateTime=/** @class */function(_super){__extends$14(DateTime,_super);/**
     * Constructor for the dateTime module.
     *
     * @private
     */function DateTime(chart){return _super.call(this,chart)||this;}/**
     * The function to calculate the range and labels for the axis.
     *
     * @returns {void}
     */DateTime.prototype.calculateRangeAndInterval=function(size,axis){this.calculateRange(axis);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis,this.chart);};/**
     * Actual Range for the axis.
     *
     * @private
     */DateTime.prototype.getActualRange=function(axis,size){var option={skeleton:'full',type:'dateTime'};var dateParser=this.chart.intl.getDateParser(option);var dateFormatter=this.chart.intl.getDateFormat(option);// Axis min
if(axis.minimum!==null){this.min=this.chart.isBlazor?Date.parse(axis.minimum.toString()):Date.parse(dateParser(dateFormatter(new Date(sf.data.DataUtil.parse.parseJson({val:axis.minimum}).val))));}else if(this.min===null||this.min===Number.POSITIVE_INFINITY){this.min=Date.parse(dateParser(dateFormatter(new Date(1970,1,1))));}// Axis Max
if(axis.maximum!==null){this.max=this.chart.isBlazor?Date.parse(axis.maximum.toString()):Date.parse(dateParser(dateFormatter(new Date(sf.data.DataUtil.parse.parseJson({val:axis.maximum}).val))));}else if(this.max===null||this.max===Number.NEGATIVE_INFINITY){this.max=Date.parse(dateParser(dateFormatter(new Date(1970,5,1))));}if(this.min===this.max){this.max=this.max+2592000000;this.min=this.min-2592000000;}axis.actualRange={};axis.doubleRange=new DoubleRange(this.min,this.max);var datetimeInterval=this.calculateDateTimeNiceInterval(axis,size,axis.doubleRange.start,axis.doubleRange.end);if(!axis.interval){axis.actualRange.interval=datetimeInterval;}else{axis.actualRange.interval=axis.interval;}axis.actualRange.min=axis.doubleRange.start;axis.actualRange.max=axis.doubleRange.end;};/**
     * Apply padding for the range.
     *
     * @private
     */DateTime.prototype.applyRangePadding=function(axis,size){this.min=axis.actualRange.min;this.max=axis.actualRange.max;var minimum;var maximum;var interval=axis.actualRange.interval;if(!setRange(axis)){var rangePadding=axis.getRangePadding(this.chart);minimum=new Date(this.min);maximum=new Date(this.max);var intervalType=axis.actualIntervalType;if(rangePadding==='None'){this.min=minimum.getTime();this.max=maximum.getTime();}else if(rangePadding==='Additional'||rangePadding==='Round'){switch(intervalType){case'Years':this.getYear(minimum,maximum,rangePadding,interval);break;case'Months':this.getMonth(minimum,maximum,rangePadding,interval);break;case'Days':this.getDay(minimum,maximum,rangePadding,interval);break;case'Hours':this.getHour(minimum,maximum,rangePadding,interval);break;case'Minutes':var minute=minimum.getMinutes()/interval*interval;var endMinute=maximum.getMinutes()+(minimum.getMinutes()-minute);if(rangePadding==='Round'){this.min=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),minimum.getHours(),minute,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),endMinute,59).getTime();}else{this.min=new Date(minimum.getFullYear(),maximum.getMonth(),minimum.getDate(),minimum.getHours(),minute+-interval,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),endMinute+interval,0).getTime();}break;case'Seconds':var second=minimum.getSeconds()/interval*interval;var endSecond=maximum.getSeconds()+(minimum.getSeconds()-second);if(rangePadding==='Round'){this.min=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),minimum.getHours(),minimum.getMinutes(),second,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),maximum.getMinutes(),endSecond,0).getTime();}else{this.min=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),minimum.getHours(),minimum.getMinutes(),second+-interval,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),maximum.getHours(),maximum.getMinutes(),endSecond+interval,0).getTime();}break;}}}axis.actualRange.min=axis.minimum!=null?this.min:this.min;axis.actualRange.max=axis.maximum!=null?this.max:this.max;axis.actualRange.delta=axis.actualRange.max-axis.actualRange.min;axis.doubleRange=new DoubleRange(axis.actualRange.min,axis.actualRange.max);this.calculateVisibleRange(size,axis);};DateTime.prototype.getYear=function(minimum,maximum,rangePadding,interval){var startYear=minimum.getFullYear();var endYear=maximum.getFullYear();if(rangePadding==='Additional'){this.min=new Date(startYear-interval,1,1,0,0,0).getTime();this.max=new Date(endYear+interval,1,1,0,0,0).getTime();}else{this.min=new Date(startYear,0,0,0,0,0).getTime();this.max=new Date(endYear,11,30,23,59,59).getTime();}};DateTime.prototype.getMonth=function(minimum,maximum,rangePadding,interval){var month=minimum.getMonth();var endMonth=maximum.getMonth();if(rangePadding==='Round'){this.min=new Date(minimum.getFullYear(),month,0,0,0,0).getTime();this.max=new Date(maximum.getFullYear(),endMonth,new Date(maximum.getFullYear(),maximum.getMonth(),0).getDate(),23,59,59).getTime();}else{this.min=new Date(minimum.getFullYear(),month+-interval,1,0,0,0).getTime();this.max=new Date(maximum.getFullYear(),endMonth+interval,endMonth===2?28:30,0,0,0).getTime();}};DateTime.prototype.getDay=function(minimum,maximum,rangePadding,interval){var day=minimum.getDate();var endDay=maximum.getDate();if(rangePadding==='Round'){this.min=new Date(minimum.getFullYear(),minimum.getMonth(),day,0,0,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),endDay,23,59,59).getTime();}else{this.min=new Date(minimum.getFullYear(),minimum.getMonth(),day+-interval,0,0,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),endDay+interval,0,0,0).getTime();}};DateTime.prototype.getHour=function(minimum,maximum,rangePadding,interval){var hour=minimum.getHours()/interval*interval;var endHour=maximum.getHours()+(minimum.getHours()-hour);if(rangePadding==='Round'){this.min=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),hour,0,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),endHour,59,59).getTime();}else{this.min=new Date(minimum.getFullYear(),minimum.getMonth(),minimum.getDate(),hour+-interval,0,0).getTime();this.max=new Date(maximum.getFullYear(),maximum.getMonth(),maximum.getDate(),endHour+interval,0,0).getTime();}};/**
     * Calculate visible range for axis.
     *
     * @private
     */DateTime.prototype.calculateVisibleRange=function(size,axis){axis.visibleRange={min:axis.actualRange.min,max:axis.actualRange.max,interval:axis.actualRange.interval,delta:axis.actualRange.delta};var isLazyLoad=sf.base.isNullOrUndefined(axis.zoomingScrollBar)?false:axis.zoomingScrollBar.isLazyLoad;if(isZoomSet(axis)&&!isLazyLoad){axis.calculateVisibleRangeOnZooming(this.chart);axis.calculateAxisRange(size,this.chart);axis.visibleRange.interval=axis.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(axis,size,axis.visibleRange.min,axis.visibleRange.max):axis.visibleRange.interval;}axis.dateTimeInterval=this.increaseDateTimeInterval(axis,axis.visibleRange.min,axis.visibleRange.interval).getTime()-axis.visibleRange.min;axis.triggerRangeRender(this.chart,axis.visibleRange.min,axis.visibleRange.max,axis.visibleRange.interval);};/**
     * Calculate visible labels for the axis.
     *
     * @param {Axis} axis axis
     * @param {Chart | RangeNavigator} chart chart
     * @returns {void}
     * @private
     */DateTime.prototype.calculateVisibleLabels=function(axis,chart){axis.visibleLabels=[];var tempInterval=axis.visibleRange.min;var labelStyle;var previousValue;var axisLabels=axis.visibleLabels;if(!setRange(axis)){tempInterval=this.alignRangeStart(axis,tempInterval,axis.visibleRange.interval).getTime();}while(tempInterval<=axis.visibleRange.max){labelStyle=sf.base.extend({},sf.base.getValue('properties',axis.labelStyle),null,true);previousValue=axisLabels.length?axis.visibleLabels[axisLabels.length-1].value:tempInterval;axis.format=chart.intl.getDateFormat({format:this.findCustomFormats(axis,tempInterval,previousValue)||this.blazorCustomFormat(axis),type:firstToLowerCase(axis.skeletonType),skeleton:this.getSkeleton(axis,tempInterval,previousValue,chart.isBlazor)});axis.startLabel=axis.format(new Date(axis.visibleRange.min));axis.endLabel=axis.format(new Date(axis.visibleRange.max));if(withIn(tempInterval,axis.visibleRange)){triggerLabelRender(chart,tempInterval,axis.format(new Date(tempInterval)),labelStyle,axis);}tempInterval=this.increaseDateTimeInterval(axis,tempInterval,axis.visibleRange.interval).getTime();}//tooltip and crosshair formats for 'Months' and 'Days' interval types
if((axis.actualIntervalType==='Months'||axis.actualIntervalType==='Days')&&axis.isChart){axis.format=chart.intl.getDateFormat({format:axis.labelFormat||(axis.actualIntervalType==='Months'&&!axis.skeleton?'y MMM':''),type:firstToLowerCase(axis.skeletonType),skeleton:axis.skeleton||(axis.actualIntervalType==='Days'?'MMMd':'')});}if(axis.getMaxLabelWidth){axis.getMaxLabelWidth(this.chart);}};/** @private */DateTime.prototype.blazorCustomFormat=function(axis){if(this.chart.isBlazor){return axis.actualIntervalType==='Years'?axis.isIntervalInDecimal?'yyyy':'MMM y':axis.actualIntervalType==='Days'&&!axis.isIntervalInDecimal?'ddd HH tt':'';}else{return'';}};/** @private */DateTime.prototype.increaseDateTimeInterval=function(axis,value,interval){var result=new Date(value);if(axis.interval){axis.isIntervalInDecimal=interval%1===0;axis.visibleRange.interval=interval;}else{interval=Math.ceil(interval);axis.visibleRange.interval=interval;}var intervalType=axis.actualIntervalType;if(axis.isIntervalInDecimal){switch(intervalType){case'Years':result.setFullYear(result.getFullYear()+interval);return result;case'Quarter':result.setMonth(result.getMonth()+3*interval);return result;case'Months':result.setMonth(result.getMonth()+interval);return result;case'Weeks':result.setDate(result.getDate()+interval*7);return result;case'Days':result.setDate(result.getDate()+interval);return result;case'Hours':result.setHours(result.getHours()+interval);return result;case'Minutes':result.setMinutes(result.getMinutes()+interval);return result;case'Seconds':result.setSeconds(result.getSeconds()+interval);return result;}}else{result=this.getDecimalInterval(result,interval,intervalType);}return result;};DateTime.prototype.alignRangeStart=function(axis,sDate,intervalSize){var sResult=new Date(sDate);switch(axis.actualIntervalType){case'Years':var year=Math.floor(Math.floor(sResult.getFullYear()/intervalSize)*intervalSize);sResult=new Date(year,sResult.getMonth(),sResult.getDate(),0,0,0);return sResult;case'Months':var month=Math.floor(Math.floor(sResult.getMonth()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),month,sResult.getDate(),0,0,0);return sResult;case'Days':var day=Math.floor(Math.floor(sResult.getDate()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),day,0,0,0);return sResult;case'Hours':var hour=Math.floor(Math.floor(sResult.getHours()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),sResult.getDate(),hour,0,0);return sResult;case'Minutes':var minutes=Math.floor(Math.floor(sResult.getMinutes()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),sResult.getDate(),sResult.getHours(),minutes,0,0);return sResult;case'Seconds':var seconds=Math.floor(Math.floor(sResult.getSeconds()/intervalSize)*intervalSize);sResult=new Date(sResult.getFullYear(),sResult.getMonth(),sResult.getDate(),sResult.getHours(),sResult.getMinutes(),seconds,0);return sResult;}return sResult;};DateTime.prototype.getDecimalInterval=function(result,interval,intervalType){var roundValue=Math.floor(interval);var decimalValue=interval-roundValue;switch(intervalType){case'Years':var month=Math.round(12*decimalValue);result.setFullYear(result.getFullYear()+roundValue);result.setMonth(result.getMonth()+month);return result;case'Quarter':result.setMonth(result.getMonth()+3*interval);return result;case'Months':var days=Math.round(30*decimalValue);result.setMonth(result.getMonth()+roundValue);result.setDate(result.getDate()+days);return result;case'Weeks':result.setDate(result.getDate()+interval*7);return result;case'Days':var hour=Math.round(24*decimalValue);result.setDate(result.getDate()+roundValue);result.setHours(result.getHours()+hour);return result;case'Hours':var min=Math.round(60*decimalValue);result.setHours(result.getHours()+roundValue);result.setMinutes(result.getMinutes()+min);return result;case'Minutes':var sec=Math.round(60*decimalValue);result.setMinutes(result.getMinutes()+roundValue);result.setSeconds(result.getSeconds()+sec);return result;case'Seconds':var milliSec=Math.round(1000*decimalValue);result.setSeconds(result.getSeconds()+roundValue);result.setMilliseconds(result.getMilliseconds()+milliSec);return result;}return result;};/**
     * Get module name
     */DateTime.prototype.getModuleName=function(){/**
         * Returns the module name
         */return'DateTime';};/**
     * To destroy the category axis.
     *
     * @returns {void}
     * @private
     */DateTime.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return DateTime;}(NiceInterval);var __extends$16=undefined&&undefined.__extends||function(){var _extendStatics17=function extendStatics(d,b){_extendStatics17=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics17(d,b);};return function(d,b){_extendStatics17(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `Category` module is used to render category axis.
 */var Category=/** @class */function(_super){__extends$16(Category,_super);/**
     * Constructor for the category module.
     *
     * @private
     */function Category(chart){return _super.call(this,chart)||this;}/**
     * The function to calculate the range and labels for the axis.
     *
     * @returns {void}
     */Category.prototype.calculateRangeAndInterval=function(size,axis){this.calculateRange(axis);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis);};/**
     * Actual Range for the axis.
     *
     * @private
     */Category.prototype.getActualRange=function(axis,size){this.initializeDoubleRange(axis);// axis.doubleRange = new DoubleRange(<number>this.min, <number>this.max);
axis.actualRange={};if(!axis.interval){axis.actualRange.interval=Math.max(1,Math.floor(axis.doubleRange.delta/getActualDesiredIntervalsCount(size,axis)));}else{axis.actualRange.interval=Math.ceil(axis.interval);}axis.actualRange.min=axis.doubleRange.start;axis.actualRange.max=axis.doubleRange.end;axis.actualRange.delta=axis.doubleRange.delta;};/**
     * Padding for the axis.
     *
     * @private
     */Category.prototype.applyRangePadding=function(axis,size){var ticks=axis.labelPlacement==='BetweenTicks'&&this.chart.chartAreaType!=='PolarRadar'?0.5:0;if(ticks>0){axis.actualRange.min-=ticks;axis.actualRange.max+=ticks;}else{axis.actualRange.max+=axis.actualRange.max?0:0.5;}axis.doubleRange=new DoubleRange(axis.actualRange.min,axis.actualRange.max);axis.actualRange.delta=axis.doubleRange.delta;this.calculateVisibleRange(size,axis);};/**
     * Calculate label for the axis.
     *
     * @private
     */Category.prototype.calculateVisibleLabels=function(axis){/*! Generate axis labels */axis.visibleLabels=[];var tempInterval=Math.ceil(axis.visibleRange.min);var labelStyle;if(axis.zoomFactor<1||axis.zoomPosition>0){tempInterval=axis.visibleRange.min-axis.visibleRange.min%axis.visibleRange.interval;}var position;axis.startLabel=axis.labels[Math.round(axis.visibleRange.min)];axis.endLabel=axis.labels[Math.floor(axis.visibleRange.max)];for(;tempInterval<=axis.visibleRange.max;tempInterval+=axis.visibleRange.interval){labelStyle=sf.base.extend({},sf.base.getValue('properties',axis.labelStyle),null,true);if(withIn(tempInterval,axis.visibleRange)&&axis.labels.length>0){position=Math.round(tempInterval);triggerLabelRender(this.chart,position,axis.labels[position]?axis.labels[position].toString():position.toString(),labelStyle,axis);}}if(axis.getMaxLabelWidth){axis.getMaxLabelWidth(this.chart);}};/**
     * Get module name
     */Category.prototype.getModuleName=function(){/**
         * Returns the module name
         */return'Category';};/**
     * To destroy the category axis.
     *
     * @returns {void}
     * @private
     */Category.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return Category;}(NiceInterval);var __extends$17=undefined&&undefined.__extends||function(){var _extendStatics18=function extendStatics(d,b){_extendStatics18=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics18(d,b);};return function(d,b){_extendStatics18(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `Logarithmic` module is used to render log axis.
 */var Logarithmic=/** @class */function(_super){__extends$17(Logarithmic,_super);/**
     * Constructor for the logerithmic module.
     *
     * @private
     */function Logarithmic(chart){return _super.call(this,chart)||this;}/**
     * The method to calculate the range and labels for the axis.
     *
     * @returns {void}
     */Logarithmic.prototype.calculateRangeAndInterval=function(size,axis){this.calculateRange(axis);this.getActualRange(axis,size);this.calculateVisibleRange(size,axis);this.calculateVisibleLabels(axis,this.chart);};/**
     * Calculates actual range for the axis.
     *
     * @private
     */Logarithmic.prototype.getActualRange=function(axis,size){this.initializeDoubleRange(axis);this.min=this.min<0?0:this.min;var logStart=logBase(this.min,axis.logBase);logStart=isFinite(logStart)?logStart:this.min;var logEnd=this.max===1?1:logBase(this.max,axis.logBase);logEnd=isFinite(logStart)?logEnd:this.max;this.min=Math.floor(logStart/1);this.max=Math.ceil(logEnd/1);axis.actualRange.interval=axis.interval||this.calculateLogNiceInterval(this.max-this.min,size,axis);axis.actualRange.min=this.min;axis.actualRange.max=this.max;axis.actualRange.delta=this.max-this.min;};/**
     * Calculates visible range for the axis.
     *
     * @private
     */Logarithmic.prototype.calculateVisibleRange=function(size,axis){axis.visibleRange={interval:axis.actualRange.interval,max:axis.actualRange.max,min:axis.actualRange.min,delta:axis.actualRange.delta};var isLazyLoad=sf.base.isNullOrUndefined(axis.zoomingScrollBar)?false:axis.zoomingScrollBar.isLazyLoad;if((axis.zoomFactor<1||axis.zoomPosition>0)&&!isLazyLoad){axis.calculateVisibleRangeOnZooming(this.chart);axis.visibleRange.interval=axis.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(axis.doubleRange.delta,size,axis):axis.visibleRange.interval;axis.visibleRange.interval=Math.floor(axis.visibleRange.interval)===0?1:Math.floor(axis.visibleRange.interval);axis.triggerRangeRender(this.chart,axis.visibleRange.min,axis.visibleRange.max,axis.visibleRange.interval);}};/**
     * Calculates log iInteval for the axis.
     *
     * @private
     */Logarithmic.prototype.calculateLogNiceInterval=function(delta,size,axis){var actualDesiredIntervalsCount=getActualDesiredIntervalsCount(size,axis);var niceInterval=delta;var minInterval=Math.pow(axis.logBase,Math.floor(logBase(niceInterval,10)));for(var j=0,len=axis.intervalDivs.length;j<len;j++){var currentInterval=minInterval*axis.intervalDivs[j];if(actualDesiredIntervalsCount<delta/currentInterval){break;}niceInterval=currentInterval;}return niceInterval;};/**
     * Calculates labels for the axis.
     *
     * @private
     */Logarithmic.prototype.calculateVisibleLabels=function(axis,chart){/*! Generate axis labels */var tempInterval=axis.visibleRange.min;axis.visibleLabels=[];var labelStyle;if(axis.zoomFactor<1||axis.zoomPosition>0){tempInterval=axis.visibleRange.min-axis.visibleRange.min%axis.visibleRange.interval;}var axisFormat=this.getFormat(axis);var isCustomFormat=axisFormat.match('{value}')!==null;axis.format=chart.intl.getNumberFormat({format:isCustomFormat?'':axisFormat,useGrouping:chart.useGroupingSeparator});axis.startLabel=axis.format(Math.pow(axis.logBase,axis.visibleRange.min));axis.endLabel=axis.format(Math.pow(axis.logBase,axis.visibleRange.max));for(;tempInterval<=axis.visibleRange.max;tempInterval+=axis.visibleRange.interval){labelStyle=sf.base.extend({},sf.base.getValue('properties',axis.labelStyle),null,true);if(withIn(tempInterval,axis.visibleRange)){triggerLabelRender(this.chart,tempInterval,this.formatValue(axis,isCustomFormat,axisFormat,Math.pow(axis.logBase,tempInterval)),labelStyle,axis);}}if(axis.getMaxLabelWidth){axis.getMaxLabelWidth(this.chart);}};/**
     * Get module name
     */Logarithmic.prototype.getModuleName=function(){/**
         * Returns the module name
         */return'Logarithmic';};/**
     * To destroy the category axis.
     *
     * @returns {void}
     * @private
     */Logarithmic.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return Logarithmic;}(Double);var __extends$18=undefined&&undefined.__extends||function(){var _extendStatics19=function extendStatics(d,b){_extendStatics19=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics19(d,b);};return function(d,b){_extendStatics19(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * Category module is used to render category axis.
 */var DateTimeCategory=/** @class */function(_super){__extends$18(DateTimeCategory,_super);/**
     * Constructor for the category module.
     *
     * @private
     */function DateTimeCategory(chart){return _super.call(this,chart)||this;}/**
     * The function to calculate the range and labels for the axis.
     *
     * @returns {void}
     * @private
     */DateTimeCategory.prototype.calculateRangeAndInterval=function(size,axis){this.axisSize=size;this.calculateRange(axis);this.getActualRange(axis,size);this.applyRangePadding(axis,size);this.calculateVisibleLabels(axis);};/**
     * Calculate label for the axis.
     *
     * @private
     */DateTimeCategory.prototype.calculateVisibleLabels=function(axis){/*! Generate axis labels */axis.visibleLabels=[];var labelStyle;var padding=axis.labelPlacement==='BetweenTicks'?0.5:0;if(axis.intervalType==='Auto'){this.calculateDateTimeNiceInterval(axis,this.axisSize,parseInt(axis.labels[0],10),parseInt(axis.labels[axis.labels.length-1],10));}else{axis.actualIntervalType=axis.intervalType;}axis.format=this.chart.intl.getDateFormat({format:axis.labelFormat||this.blazorCustomFormat(axis),type:firstToLowerCase(axis.skeletonType),skeleton:this.getSkeleton(axis,null,null,this.chart.isBlazor)});for(var i=0;i<axis.labels.length;i++){labelStyle=sf.base.extend({},sf.base.getValue('properties',axis.labelStyle),null,true);if(!this.sameInterval(axis.labels.map(Number)[i],axis.labels.map(Number)[i-1],axis.actualIntervalType,i)||axis.isIndexed){if(withIn(i-padding,axis.visibleRange)){triggerLabelRender(this.chart,i,axis.isIndexed?this.getIndexedAxisLabel(axis.labels[i],axis.format):axis.format(new Date(axis.labels.map(Number)[i])),labelStyle,axis);}}}if(axis.getMaxLabelWidth){axis.getMaxLabelWidth(this.chart);}};/** @private */DateTimeCategory.prototype.blazorCustomFormat=function(axis){if(this.chart.isBlazor&&axis.actualIntervalType==='Years'){return'yyyy';}else{return'';}};/**
     * To get the Indexed axis label text with axis format for DateTimeCategory axis
     *
     * @param {string} value value
     * @param {Function} format format
     * @returns {string} Indexed axis label text
     */DateTimeCategory.prototype.getIndexedAxisLabel=function(value,format){var texts=value.split(',');for(var i=0;i<texts.length;i++){texts[i]=format(new Date(parseInt(texts[i],10)));}return texts.join(', ');};/**
     * get same interval
     */DateTimeCategory.prototype.sameInterval=function(currentDate,previousDate,type,index){var sameValue;if(index===0){sameValue=false;}else{switch(type){case'Years':sameValue=new Date(currentDate).getFullYear()===new Date(previousDate).getFullYear();break;case'Months':sameValue=new Date(currentDate).getFullYear()===new Date(previousDate).getFullYear()&&new Date(currentDate).getMonth()===new Date(previousDate).getMonth();break;case'Days':sameValue=Math.abs(currentDate-previousDate)<24*60*60*1000&&new Date(currentDate).getDay()===new Date(previousDate).getDay();break;case'Hours':sameValue=Math.abs(currentDate-previousDate)<60*60*1000&&new Date(currentDate).getDay()===new Date(previousDate).getDay();break;case'Minutes':sameValue=Math.abs(currentDate-previousDate)<60*1000&&new Date(currentDate).getMinutes()===new Date(previousDate).getMinutes();break;case'Seconds':sameValue=Math.abs(currentDate-previousDate)<1000&&new Date(currentDate).getDay()===new Date(previousDate).getDay();break;}}return sameValue;};/**
     * Get module name
     */DateTimeCategory.prototype.getModuleName=function(){/**
         * Returns the module name
         */return'DateTimeCategory';};/**
     * To destroy the category axis.
     *
     * @returns {void}
     * @private
     */DateTimeCategory.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return DateTimeCategory;}(Category);/* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * StripLine src
 */ /**
 * `StripLine` module is used to render the stripLine in chart.
 */var StripLine=/** @class */function(){function StripLine(){}/**
     * Finding x, y, width and height of the strip line
     *
     * @param {Axis} axis axis
     * @param {StripLineSettingsModel} stripline stripline
     * @param {Rect} seriesClipRect seriesClipRect
     * @param {number} startValue startValue
     * @param {Axis} segmentAxis segmentAxis
     */StripLine.prototype.measureStripLine=function(axis,stripline,seriesClipRect,startValue,segmentAxis){var actualStart;var actualEnd;var orientation=axis.orientation;if(stripline.isRepeat&&stripline.size!==null){actualStart=startValue;actualEnd=null;}else{if(axis.valueType==='DateTimeCategory'){var start=stripline.start;var end=stripline.end;actualStart=start!=null&&typeof start!=='number'?axis.labels.indexOf(start.getTime().toString()):start;actualEnd=end!=null&&typeof end!=='number'?axis.labels.indexOf(end.getTime().toString()):end;}else{actualStart=stripline.start===null?null:+stripline.start;actualEnd=stripline.end===null?null:+stripline.end;}}var rect=this.getFromTovalue(actualStart,actualEnd,stripline.size,stripline.startFromAxis,axis,stripline);var height=orientation==='Vertical'?(rect.to-rect.from)*axis.rect.height:seriesClipRect.height;var width=orientation==='Horizontal'?(rect.to-rect.from)*axis.rect.width:seriesClipRect.width;var x=orientation==='Vertical'?seriesClipRect.x:rect.from*axis.rect.width+axis.rect.x;var y=orientation==='Horizontal'?seriesClipRect.y:axis.rect.y+axis.rect.height-(stripline.sizeType==='Pixel'?rect.from:rect.to)*axis.rect.height;if(stripline.isSegmented&&stripline.segmentStart!=null&&stripline.segmentEnd!=null&&stripline.sizeType!=='Pixel'){var segRect=this.getFromTovalue(+stripline.segmentStart,+stripline.segmentEnd,null,null,segmentAxis,stripline);if(segmentAxis.orientation==='Vertical'){y=segmentAxis.rect.y+segmentAxis.rect.height-segRect.to*segmentAxis.rect.height;height=(segRect.to-segRect.from)*segmentAxis.rect.height;}else{x=segRect.from*segmentAxis.rect.width+segmentAxis.rect.x;width=(segRect.to-segRect.from)*segmentAxis.rect.width;}}if(height!==0&&width!==0||stripline.sizeType==='Pixel'&&(stripline.start!==null||stripline.startFromAxis)){return new sf.svgbase.Rect(x,y,width,height);}return new sf.svgbase.Rect(0,0,0,0);};/**
     * To get from to value from start, end, size, start from axis
     *
     * @param {number} start start
     * @param {number} end end
     * @param {number} size size
     * @param {boolean} startFromAxis startFromAxis
     * @param {Axis} axis axis
     * @param {StripLineSettingsModel} stripline stripline
     */StripLine.prototype.getFromTovalue=function(start,end,size,startFromAxis,axis,stripline){var from=!stripline.isRepeat&&startFromAxis?axis.visibleRange.min:start;var to=this.getToValue(Math.max(start,sf.base.isNullOrUndefined(end)?start:end),from,size,axis,end,stripline);from=this.findValue(from,axis);to=this.findValue(to,axis);return{from:valueToCoefficient(axis.isInversed?to:from,axis),to:valueToCoefficient(axis.isInversed?from:to,axis)};};/**
     * Finding end value of the strip line
     *
     * @param {number} to to
     * @param {number} from from
     * @param {number} size size
     * @param {Axis} axis axis
     * @param {number} end end
     * @param {StripLineSettingsModel} stripline stripline
     */StripLine.prototype.getToValue=function(to,from,size,axis,end,stripline){var sizeType=stripline.sizeType;var isEnd=end===null;if(axis.valueType==='DateTime'){var fromValue=new Date(from);if(sizeType==='Auto'){sizeType=axis.actualIntervalType;size*=axis.visibleRange.interval;}switch(sizeType){case'Years':return isEnd?new Date(fromValue.setFullYear(fromValue.getFullYear()+size)):to;case'Months':return isEnd?new Date(fromValue.setMonth(fromValue.getMonth()+size)):to;case'Days':return isEnd?new Date(fromValue.setDate(fromValue.getDate()+size)):to;case'Hours':return isEnd?new Date(fromValue.setHours(fromValue.getHours()+size)):to;case'Minutes':return isEnd?new Date(fromValue.setMinutes(fromValue.getMinutes()+size)):to;case'Seconds':return isEnd?new Date(fromValue.setSeconds(fromValue.getSeconds()+size)):to;default:return from;}}else{return stripline.sizeType==='Pixel'?from:isEnd?from+size:to;}};/**
     * To check the strip line values within range
     *
     * @param {number} value value
     * @param {Axis} axis axis
     */StripLine.prototype.findValue=function(value,axis){if(value<axis.visibleRange.min){value=axis.visibleRange.min;}else if(value>axis.visibleRange.max){value=axis.visibleRange.max;}return value;};/**
     * To render strip lines based start and end.
     *
     * @param {Chart} chart chart
     * @param {ZIndex} position position
     * @param {Axis[]} axes axes
     * @private
     */StripLine.prototype.renderStripLine=function(chart,position,axes){var id=chart.element.id+'_stripline_'+position+'_';var seriesClipRect=chart.chartAxisLayoutPanel.seriesClipRect;var end=0;var limit=0;var startValue=0;var segmentAxis=null;var range;var options=new RectOption(id+'ClipRect','transparent',{width:1,color:'Gray'},1,{x:chart.initialClipRect.x,y:chart.initialClipRect.y,width:chart.initialClipRect.width,height:chart.initialClipRect.height});var striplineGroup=chart.renderer.createGroup({id:id+'collections','clip-path':'url(#'+id+'ClipRect'+')'});if(!chart.enableCanvas){striplineGroup.appendChild(appendClipElement(chart.redraw,options,chart.renderer));}for(var _i=0,axes_1=axes;_i<axes_1.length;_i++){var axis=axes_1[_i];var count=0;for(var _a=0,_b=axis.stripLines;_a<_b.length;_a++){var stripline=_b[_a];if(stripline.visible&&stripline.zIndex===position){if(stripline.isSegmented&&stripline.segmentStart!=null&&stripline.segmentEnd!=null&&stripline.sizeType!=='Pixel'){segmentAxis=this.getSegmentAxis(axes,axis,stripline);}if(stripline.isRepeat&&stripline.repeatEvery!=null&&stripline.size!==null&&stripline.sizeType!=='Pixel'){limit=stripline.repeatUntil!=null?axis.valueType==='DateTime'?stripline.repeatUntil.getTime():+stripline.repeatUntil:axis.actualRange.max;startValue=stripline.start;if(stripline.startFromAxis&&axis.valueType==='DateTime'&&stripline.sizeType==='Auto'||stripline.start<axis.visibleRange.min){startValue=axis.visibleLabels[0].value===axis.visibleRange.min?axis.visibleRange.min:axis.visibleLabels[0].value-(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval);}startValue=stripline.startFromAxis&&axis.valueType!=='DateTime'?axis.visibleRange.min:startValue;while(startValue<limit){end=startValue+(axis.valueType==='DateTime'?axis.dateTimeInterval*+stripline.size:stripline.size);range=withIn(end,axis.visibleRange);if(startValue>=axis.visibleRange.min&&startValue<axis.visibleRange.max||range){this.renderStripLineElement(axis,stripline,seriesClipRect,id,striplineGroup,chart,startValue,segmentAxis,count);}count++;startValue=this.getStartValue(axis,stripline,startValue);}}else{this.renderStripLineElement(axis,stripline,seriesClipRect,id,striplineGroup,chart,null,segmentAxis,count);count++;}}}}appendChildElement(chart.enableCanvas,chart.svgObject,striplineGroup,chart.redraw);};/**
     * To draw the single line strip line
     *
     * @param {StripLineSettingsModel} stripline stripline
     * @param {Rect} rect rect
     * @param {string} id id
     * @param {Element} parent parent
     * @param {Chart} chart chart
     * @param {Axis} axis axis
     */StripLine.prototype.renderPath=function(stripline,rect,id,parent,chart,axis){var element=getElement$1(id);var direction=element?element.getAttribute('d'):'';var d=axis.orientation==='Vertical'?'M'+rect.x+' '+rect.y+' '+'L'+(rect.x+rect.width)+' '+rect.y:'M'+rect.x+' '+rect.y+' '+'L'+rect.x+' '+(rect.y+rect.height);appendChildElement(chart.enableCanvas,parent,chart.renderer.drawPath(new sf.svgbase.PathOption(id,'',stripline.size,stripline.color,stripline.opacity,stripline.dashArray,d)),chart.redraw,true,'x','y',null,direction,true);};/**
     * To draw the rectangle
     *
     * @param {StripLineSettingsModel} stripline stripline
     * @param {Rect} rect rect
     * @param {string} id id
     * @param {Element} parent parent
     * @param {Chart} chart chart
     */StripLine.prototype.renderRectangle=function(stripline,rect,id,parent,chart){var element=getElement$1(id);var previousRect=element?new sf.svgbase.Rect(+element.getAttribute('x'),+element.getAttribute('y'),+element.getAttribute('width'),+element.getAttribute('height')):null;appendChildElement(chart.enableCanvas,parent,chart.renderer.drawRectangle(new RectOption(id,stripline.color,stripline.border,stripline.opacity,rect,0,0,'',stripline.dashArray)),chart.redraw,true,'x','y',null,null,true,true,previousRect);};/**
     * To create the text on strip line
     *
     * @param {StripLineSettingsModel} stripline stripline
     * @param {Rect} rect rect
     * @param {string} id id
     * @param {Element} parent parent
     * @param {Chart} chart chart
     * @param {Axis} axis axis
     */StripLine.prototype.renderText=function(stripline,rect,id,parent,chart,axis){var textSize=sf.svgbase.measureText(stripline.text,stripline.textStyle);var isRotationNull=stripline.rotation===null;var textMid=isRotationNull?3*(textSize.height/8):0;var ty=rect.y+rect.height/2+textMid;var rotation=isRotationNull?axis.orientation==='Vertical'?0:-90:stripline.rotation;var tx=rect.x+rect.width/2;var anchor;var padding=5;if(axis.orientation==='Horizontal'){tx=this.getTextStart(tx+textMid*this.factor(stripline.horizontalAlignment),rect.width,stripline.horizontalAlignment);ty=this.getTextStart(ty-textMid,rect.height,stripline.verticalAlignment)+(stripline.verticalAlignment==='Start'&&!isRotationNull?textSize.height/4:0);anchor=isRotationNull?this.invertAlignment(stripline.verticalAlignment):stripline.horizontalAlignment;}else{tx=this.getTextStart(tx,rect.width,stripline.horizontalAlignment);ty=this.getTextStart(ty+textMid*this.factor(stripline.verticalAlignment)-padding,rect.height,stripline.verticalAlignment);anchor=stripline.horizontalAlignment;}textElement(chart.renderer,new sf.svgbase.TextOption(id,tx,ty,anchor,stripline.text,'rotate('+rotation+' '+tx+','+ty+')','middle'),stripline.textStyle,stripline.textStyle.color,parent);};StripLine.prototype.invertAlignment=function(anchor){switch(anchor){case'Start':anchor='End';break;case'End':anchor='Start';break;}return anchor;};/**
     * To find the next value of the recurrence strip line
     *
     * @param {Axis} axis axis
     * @param {StripLineSettingsModel} stripline stripline
     * @param {number} startValue startValue
     */StripLine.prototype.getStartValue=function(axis,stripline,startValue){if(axis.valueType==='DateTime'){return this.getToValue(null,startValue,+stripline.repeatEvery,axis,null,stripline);}else{return startValue+ +stripline.repeatEvery;}};/**
     * Finding segment axis for segmented strip line
     *
     * @param {Axis[]} axes axes collection
     * @param {Axis} axis axis
     * @param {StripLineSettingsModel} stripline stripline
     */StripLine.prototype.getSegmentAxis=function(axes,axis,stripline){var segment;if(stripline.segmentAxisName==null){return axis.orientation==='Horizontal'?axes[1]:axes[0];}else{for(var i=0;i<axes.length;i++){if(stripline.segmentAxisName===axes[i].name){segment=axes[i];}}return segment;}};/**
     * To render strip line on chart
     *
     * @param {Axis} axis axis
     * @param {StripLineSettingsModel} stripline stripline
     * @param {Rect} seriesClipRect seriesClipRect
     * @param {string} id id
     * @param {Element} striplineGroup striplineGroup
     * @param {Chart} chart chart
     * @param {number} startValue startValue
     * @param {Axis} segmentAxis segmentAxis
     * @param {number} count count
     */StripLine.prototype.renderStripLineElement=function(axis,stripline,seriesClipRect,id,striplineGroup,chart,startValue,segmentAxis,count){var rect=this.measureStripLine(axis,stripline,seriesClipRect,startValue,segmentAxis);if(stripline.sizeType==='Pixel'){this.renderPath(stripline,rect,id+'path_'+axis.name+'_'+count,striplineGroup,chart,axis);}else{if(rect.height!==0&&rect.width!==0){this.renderRectangle(stripline,rect,id+'rect_'+axis.name+'_'+count,striplineGroup,chart);}}if(stripline.text!==''){this.renderText(stripline,rect,id+'text_'+axis.name+'_'+count,striplineGroup,chart,axis);}};/**
     * To find the factor of the text
     *
     * @param {Anchor} anchor text anchor
     */StripLine.prototype.factor=function(anchor){var factor=0;switch(anchor){case'Start':factor=1;break;case'End':factor=-1;break;}return factor;};/**
     * To find the start value of the text
     *
     * @param {number} xy xy values
     * @param {number} size text size
     * @param {Anchor} textAlignment text alignment
     */StripLine.prototype.getTextStart=function(xy,size,textAlignment){var padding=5;switch(textAlignment){case'Start':xy=xy-size/2+padding;break;case'End':xy=xy+size/2-padding;break;}return xy;};/**
     * To get the module name for `StripLine`.
     *
     * @private
     */StripLine.prototype.getModuleName=function(){return'StripLine';};/**
     * To destroy the `StripLine` module.
     *
     * @private
     */StripLine.prototype.destroy=function(){// destroy peform here
};return StripLine;}();/* eslint-disable no-trailing-spaces */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * Base for line type series.
 */var LineBase=/** @class */function(){/** @private */function LineBase(chartModule){this.chart=chartModule;}/**
     * To improve the chart performance.
     *
     * @returns {void}
     * @private
     */LineBase.prototype.enableComplexProperty=function(series){var tempPoints=[];var tempPoints2=[];var xVisibleRange=series.xAxis.visibleRange;var yVisibleRange=series.yAxis.visibleRange;var seriesPoints=series.points;var areaBounds=series.clipRect;var xTolerance=Math.abs(xVisibleRange.delta/areaBounds.width);var yTolerance=Math.abs(yVisibleRange.delta/areaBounds.height);var prevXValue=seriesPoints[0]&&seriesPoints[0].x>xTolerance?0:xTolerance;var prevYValue=seriesPoints[0]&&seriesPoints[0].y>yTolerance?0:yTolerance;var xVal=0;var yVal=0;for(var _i=0,seriesPoints_1=seriesPoints;_i<seriesPoints_1.length;_i++){var currentPoint=seriesPoints_1[_i];currentPoint.symbolLocations=[];xVal=currentPoint.xValue?currentPoint.xValue:xVisibleRange.min;yVal=currentPoint.yValue?currentPoint.yValue:yVisibleRange.min;if(Math.abs(prevXValue-xVal)>=xTolerance||Math.abs(prevYValue-yVal)>=yTolerance){tempPoints.push(currentPoint);prevXValue=xVal;prevYValue=yVal;}}var tempPoint;for(var i=0;i<tempPoints.length;i++){tempPoint=tempPoints[i];if(sf.base.isNullOrUndefined(tempPoint.x)||tempPoint.x===''){continue;}else{tempPoints2.push(tempPoint);}}return tempPoints2;};/**
     * To generate the line path direction
     *
     * @param {Points} firstPoint firstPoint
     * @param {Points} secondPoint secondPoint
     * @param {Series} series series
     * @param {boolean} isInverted isInverted
     * @param {Function} getPointLocation getPointLocation
     * @param {string} startPoint startPoint
     */LineBase.prototype.getLineDirection=function(firstPoint,secondPoint,series,isInverted,getPointLocation,startPoint){var direction='';if(firstPoint!=null){var point1=getPointLocation(firstPoint.xValue,firstPoint.yValue,series.xAxis,series.yAxis,isInverted,series);var point2=getPointLocation(secondPoint.xValue,secondPoint.yValue,series.xAxis,series.yAxis,isInverted,series);direction=startPoint+' '+point1.x+' '+point1.y+' '+'L'+' '+point2.x+' '+point2.y+' ';}return direction;};/**
     * To append the line path.
     *
     * @returns {void}
     * @private
     */LineBase.prototype.appendLinePath=function(options,series,clipRect){var element=getElement$1(options.id);var chart=series.chart;var previousDirection=element?element.getAttribute('d'):null;var htmlObject=series.chart.renderer.drawPath(options,new Int32Array([series.clipRect.x,series.clipRect.y]));if(htmlObject){htmlObject.setAttribute('clip-path',clipRect);}series.pathElement=htmlObject;if(!series.chart.enableCanvas){series.seriesElement.appendChild(htmlObject);}series.isRectSeries=false;pathAnimation(element,options.d,series.chart.redraw,previousDirection,chart.duration);};/**
     * To render the marker for the series.
     *
     * @returns {void}
     * @private
     */LineBase.prototype.renderMarker=function(series){if(series.marker&&series.marker.visible){series.chart.markerRender.render(series);}};/**
     * To do the progressive animation.
     *
     * @returns {void}
     * @private
     */LineBase.prototype.doProgressiveAnimation=function(series,option){var animation=new sf.base.Animation({});var path=series.pathElement;var strokeDashArray=path.getAttribute('stroke-dasharray');var pathLength=series.pathElement.getTotalLength();var currentTime;path.style.visibility='hidden';animation.animate(path,{duration:option.duration,delay:option.delay,progress:function progress(args){if(args.timeStamp>=args.delay){path.style.visibility='visible';currentTime=Math.abs(Math.round((args.timeStamp-args.delay)*pathLength/args.duration));path.setAttribute('stroke-dasharray',currentTime+','+pathLength);}},end:function end(){path.setAttribute('stroke-dasharray',strokeDashArray);series.chart.trigger('animationComplete',{series:series.chart.isBlazor?{}:series});}});};/**
     * To store the symbol location and region
     *
     * @param {Points} point point
     * @param {Series} series series
     * @param {boolean} isInverted isInverted
     * @param {Function} getLocation getLocation
     */LineBase.prototype.storePointLocation=function(point,series,isInverted,getLocation){var markerWidth=series.marker&&series.marker.width?series.marker.width:0;var markerHeight=series.marker&&series.marker.height?series.marker.height:0;point.symbolLocations.push(getLocation(point.xValue,point.yValue,series.xAxis,series.yAxis,isInverted,series));point.regions.push(new sf.svgbase.Rect(point.symbolLocations[0].x-markerWidth,point.symbolLocations[0].y-markerHeight,2*markerWidth,2*markerHeight));};/**
     * To find point with in the visible range
     *
     * @param {Points} point point
     * @param {Axis} yAxis yAxis
     * @private
     */LineBase.prototype.withinYRange=function(point,yAxis){return point.yValue>=yAxis.visibleRange.min&&point.yValue<=yAxis.visibleRange.max;};/**
     * To get first and last visible points
     *
     * @private
     */LineBase.prototype.getFirstLastVisiblePoint=function(points){var first=null;var last=null;for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];if(first===null&&point.visible){first=last=point;}last=point.visible?point:last;}return{first:first?first:points[0],last:last?last:points[points.length-1]};};/**
     * To do the linear animation.
     *
     * @returns {void}
     * @private
     */LineBase.prototype.doLinearAnimation=function(series,animation){var clipRect=series.clipRectElement.childNodes[0].childNodes[0];var duration=series.chart.animated?series.chart.duration:animation.duration;var effect=getAnimationFunction('Linear');var elementHeight=+clipRect.getAttribute('height');var elementWidth=+clipRect.getAttribute('width');var xCenter=+clipRect.getAttribute('x');var yCenter=series.chart.requireInvertedAxis?+clipRect.getAttribute('height')+ +clipRect.getAttribute('y'):+clipRect.getAttribute('y');var value;clipRect.style.visibility='hidden';new sf.base.Animation({}).animate(clipRect,{duration:duration,delay:animation.delay,progress:function progress(args){if(args.timeStamp>=args.delay){clipRect.style.visibility='visible';if(series.chart.requireInvertedAxis){value=effect(args.timeStamp-args.delay,0,elementHeight,args.duration);clipRect.setAttribute('transform','translate('+xCenter+' '+yCenter+') scale(1,'+value/elementHeight+') translate('+-xCenter+' '+-yCenter+')');}else{value=effect(args.timeStamp-args.delay,0,elementWidth,args.duration);clipRect.setAttribute('transform','translate('+xCenter+' '+yCenter+') scale('+value/elementWidth+', 1) translate('+-xCenter+' '+-yCenter+')');}}},end:function end(){clipRect.setAttribute('transform','translate(0,0)');series.chart.trigger('animationComplete',{series:series.chart.isBlazor?{}:series});}});};return LineBase;}();var __extends$19=undefined&&undefined.__extends||function(){var _extendStatics20=function extendStatics(d,b){_extendStatics20=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics20(d,b);};return function(d,b){_extendStatics20(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `LineSeries` module used to render the line series.
 */var LineSeries=/** @class */function(_super){__extends$19(LineSeries,_super);function LineSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Line Series.
     *
     * @returns {void}
     * @private
     */LineSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var point1;var point2;var direction='';var prevPoint=null;var startPoint='M';var isPolar=series.chart&&series.chart.chartAreaType==='PolarRadar';var isDrop=series.emptyPointSettings&&series.emptyPointSettings.mode==='Drop';var getCoordinate=isPolar?TransformToVisible:getPoint;var visiblePoints=series.category==='TrendLine'?series.points:this.enableComplexProperty(series);for(var _i=0,visiblePoints_1=visiblePoints;_i<visiblePoints_1.length;_i++){var point=visiblePoints_1[_i];point.regions=[];point.symbolLocations=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){direction+=this.getLineDirection(prevPoint,point,series,isInverted,getCoordinate,startPoint);startPoint=prevPoint?'L':startPoint;prevPoint=point;this.storePointLocation(point,series,isInverted,getCoordinate);}else{prevPoint=isDrop?prevPoint:null;startPoint=isDrop?startPoint:'M';}}if(isPolar){if(series.isClosed){var points=this.getFirstLastVisiblePoint(visiblePoints);point2=getCoordinate(points.last.xValue,points.last.yValue,xAxis,yAxis,isInverted,series);point1=getCoordinate(points.first.xValue,points.first.yValue,xAxis,yAxis,isInverted,series);direction=direction.concat(startPoint+' '+point2.x+' '+point2.y+' '+'L'+' '+point1.x+' '+point1.y);}}var name=series.category==='Indicator'?series.chart.element.id+'_Indicator_'+series.index+'_'+series.name:series.category==='TrendLine'?series.chart.element.id+'_Series_'+series.sourceIndex+'_TrendLine_'+series.index:series.chart.element.id+'_Series_'+(series.index===undefined?series.category:series.index);var options=new sf.svgbase.PathOption(name,'none',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */LineSeries.prototype.doAnimation=function(series){var option=series.animation;this.doProgressiveAnimation(series,option);};/**
     * Get module name.
     */LineSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'LineSeries';};/**
     * To destroy the line series.
     *
     * @returns {void}
     * @private
     */LineSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return LineSeries;}(LineBase);/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /**
 * Column Series Base
 */var ColumnBase=/** @class */function(){function ColumnBase(){}/**
     * To get the position of the column series.
     *
     * @returns {DoubleRange} doubleRange
     * @private
     */ColumnBase.prototype.getSideBySideInfo=function(series){if(series.chart.enableSideBySidePlacement&&!series.position){this.getSideBySidePositions(series);}var position=!series.chart.enableSideBySidePlacement?0:series.position;var rectCount=!series.chart.enableSideBySidePlacement?1:series.rectCount;series.isRectSeries=true;var visibleSeries=series.chart.visibleSeries;var seriesSpacing=series.chart.enableSideBySidePlacement?series.columnSpacing:0;// Column Spacing
var pointSpacing=series.columnWidth===null||isNaN(+series.columnWidth)?series.type==='Histogram'?1:0.7:series.columnWidth;// Column width
var minimumPointDelta=getMinPointsDelta(series.xAxis,visibleSeries);var width=minimumPointDelta*pointSpacing;var radius;var location=position/rectCount-0.5;var doubleRange=new DoubleRange(location,location+1/rectCount);if(!(isNaN(doubleRange.start)||isNaN(doubleRange.end))){doubleRange=new DoubleRange(doubleRange.start*width,doubleRange.end*width);radius=seriesSpacing*doubleRange.delta;doubleRange=new DoubleRange(doubleRange.start+radius/2,doubleRange.end-radius/2);}return doubleRange;};/**
     * To get the rect values.
     *
     * @returns {Rect} rect region values
     * @private
     */ColumnBase.prototype.getRectangle=function(x1,y1,x2,y2,series){var point1=getPoint(x1,y1,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);var point2=getPoint(x2,y2,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);return new sf.svgbase.Rect(Math.min(point1.x,point2.x),Math.min(point1.y,point2.y),Math.abs(point2.x-point1.x),Math.abs(point2.y-point1.y));};/**
     * To get the position of each series.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.getSideBySidePositions=function(series){var chart=series.chart;for(var _i=0,_a=chart.columns;_i<_a.length;_i++){var columnItem=_a[_i];for(var _b=0,_c=chart.rows;_b<_c.length;_b++){var item=_c[_b];this.findRectPosition(series.findSeriesCollection(columnItem,item,false));}}};ColumnBase.prototype.findRectPosition=function(seriesCollection){var stackingGroup=[];var vSeries={rectCount:0,position:null};for(var i=0;i<seriesCollection.length;i++){var value=seriesCollection[i];if(value.type.indexOf('Stacking')!==-1){if(value.stackingGroup){if(stackingGroup[value.stackingGroup]===undefined){value.position=vSeries.rectCount;stackingGroup[value.stackingGroup]=vSeries.rectCount++;}else{value.position=stackingGroup[value.stackingGroup];}}else{if(vSeries.position===null){value.position=vSeries.rectCount;vSeries.position=vSeries.rectCount++;}else{value.position=vSeries.position;}}}else{value.position=vSeries.rectCount++;}}for(var i=0;i<seriesCollection.length;i++){var value=seriesCollection[i];value.rectCount=vSeries.rectCount;}};/**
     * Updates the symbollocation for points
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.updateSymbolLocation=function(point,rect,series){if(!series.chart.requireInvertedAxis){this.updateXRegion(point,rect,series);}else{this.updateYRegion(point,rect,series);}if(series.type==='Histogram'){point.minimum=+point.x-series.histogramValues.binWidth/2;point.maximum=+point.x+series.histogramValues.binWidth/2;}};/**
     * Update the region for the point.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.updateXRegion=function(point,rect,series){point.symbolLocations.push({x:rect.x+rect.width/2,y:series.seriesType==='BoxPlot'||series.seriesType.indexOf('HighLow')!==-1||point.yValue>=0===!series.yAxis.isInversed?rect.y:rect.y+rect.height});this.getRegion(point,rect,series);if(series.type==='RangeColumn'){point.symbolLocations.push({x:rect.x+rect.width/2,y:rect.y+rect.height});}};/**
     * Update the region for the point in bar series.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.updateYRegion=function(point,rect,series){point.symbolLocations.push({x:series.seriesType==='BoxPlot'||series.seriesType.indexOf('HighLow')!==-1||point.yValue>=0===!series.yAxis.isInversed?rect.x+rect.width:rect.x,y:rect.y+rect.height/2});this.getRegion(point,rect,series);if(series.type==='RangeColumn'){point.symbolLocations.push({x:rect.x,y:rect.y+rect.height/2});}};/**
     * To render the marker for the series.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.renderMarker=function(series){if(series.marker&&series.marker.visible){series.chart.markerRender.render(series);}};/**
     * To get the marker region when Y value is 0
     *
     * @param {Points} point point
     * @param {rect} rect rect
     * @param {Series} series series
     */ColumnBase.prototype.getRegion=function(point,rect,series){if(point.y===0){var markerWidth=series.marker&&series.marker.width?series.marker.width:0;var markerHeight=series.marker&&series.marker.height?series.marker.height:0;point.regions.push(new sf.svgbase.Rect(point.symbolLocations[0].x-markerWidth,point.symbolLocations[0].y-markerHeight,2*markerWidth,2*markerHeight));}else{point.regions.push(rect);}};/**
     * To trigger the point rendering event.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.triggerEvent=function(series,point,fill,border){var argsData={cancel:false,name:pointRender,series:series,point:point,fill:series.setPointColor(point,fill),border:series.setBorderColor(point,border)};series.chart.trigger(pointRender,argsData);point.color=argsData.fill;return argsData;};/**
     * To draw the rectangle for points.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.drawRectangle=function(series,point,rect,argsData){var chart=series.chart;var check=chart.requireInvertedAxis?rect.height:rect.width;if(check<=0){return null;}var direction;if(point.y===0){// For 0 values corner radius will not calculate
direction=this.calculateRoundedRectPath(rect,0,0,0,0);}else{direction=this.calculateRoundedRectPath(rect,series.cornerRadius.topLeft,series.cornerRadius.topRight,series.cornerRadius.bottomLeft,series.cornerRadius.bottomRight);}var name=series.category==='Indicator'?chart.element.id+'_Indicator_'+series.index+'_'+series.name+'_Point_'+point.index:chart.element.id+'_Series_'+series.index+'_Point_'+point.index;var previousElement=redrawElement(chart.redraw,name);var previousDirection=previousElement?previousElement.getAttribute('d'):'';var options=new sf.svgbase.PathOption(name,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction);var element=chart.renderer.drawPath(options,new Int32Array([series.clipRect.x,series.clipRect.y]));switch(series.seriesType){case'XY':element.setAttribute('aria-label',point.x.toString()+':'+point.yValue.toString());break;case'HighLow':element.setAttribute('aria-label',point.x.toString()+':'+point.high.toString()+':'+point.low.toString());break;}appendChildElement(series.chart.enableCanvas,series.seriesElement,element,chart.redraw);if(!series.chart.enableCanvas){pathAnimation(element,direction,chart.redraw,previousDirection,chart.duration);}};/**
     * To animate the series.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.animate=function(series){var rectElements=series.seriesElement.childNodes;var count=series.category==='Indicator'?0:1;var visiblePoints=getVisiblePoints(series);for(var _i=0,visiblePoints_1=visiblePoints;_i<visiblePoints_1.length;_i++){var point=visiblePoints_1[_i];if(!point.symbolLocations.length&&!(series.type==='BoxAndWhisker'&&point.regions.length)){continue;}this.animateRect(rectElements[count],series,point);count++;}};/**
     * To animate the series.
     *
     * @returns {void}
     * @private
     */ColumnBase.prototype.animateRect=function(element,series,point){var option=series.animation;var duration=series.chart.animated?series.chart.duration:option.duration;var effect=getAnimationFunction('Linear');var isPlot=point.yValue<0;var x;var y;var elementHeight=+point.regions[0].height;var elementWidth=+point.regions[0].width;var centerX;var centerY;if(!series.chart.requireInvertedAxis){x=+point.regions[0].x;if(series.type.indexOf('Stacking')>-1){y=(1-valueToCoefficient(0,series.yAxis))*series.yAxis.rect.height;centerX=x;centerY=y;}else{y=+point.regions[0].y;centerY=series.seriesType.indexOf('HighLow')!==-1||series.type.indexOf('Waterfall')!==-1?y+elementHeight/2:isPlot!==series.yAxis.isInversed?y:y+elementHeight;centerX=isPlot?x:x+elementWidth;}}else{y=+point.regions[0].y;if(series.type.indexOf('Stacking')>-1){x=valueToCoefficient(0,series.yAxis)*series.yAxis.rect.width;centerX=x;centerY=y;}else{x=+point.regions[0].x;centerY=isPlot?y:y+elementHeight;centerX=series.seriesType.indexOf('HighLow')!==-1||series.type.indexOf('Waterfall')!==-1?x+elementWidth/2:isPlot!==series.yAxis.isInversed?x+elementWidth:x;}}var value;if(!sf.base.isNullOrUndefined(element)){element.style.visibility='hidden';new sf.base.Animation({}).animate(element,{duration:duration,delay:option.delay,progress:function progress(args){if(args.timeStamp>=args.delay){element.style.visibility='visible';if(!series.chart.requireInvertedAxis){elementHeight=elementHeight?elementHeight:1;value=effect(args.timeStamp-args.delay,0,elementHeight,args.duration);element.setAttribute('transform','translate('+centerX+' '+centerY+') scale(1,'+value/elementHeight+') translate('+-centerX+' '+-centerY+')');}else{elementWidth=elementWidth?elementWidth:1;value=effect(args.timeStamp-args.delay,0,elementWidth,args.duration);element.setAttribute('transform','translate('+centerX+' '+centerY+') scale('+value/elementWidth+', 1) translate('+-centerX+' '+-centerY+')');}}},end:function end(){element.setAttribute('transform','translate(0,0)');var seriesElement=series.seriesElement;if(element===seriesElement.lastElementChild||point.index===series.points.length-1||series.type==='Waterfall'&&element===seriesElement.children[seriesElement.childElementCount-2]){series.chart.trigger('animationComplete',{series:series.chart.isBlazor?{}:series});if(series.type==='Waterfall'){var rectElements=seriesElement.childNodes;for(var i=0;i<rectElements.length;i++){if(rectElements[i].id.indexOf('Connector')!==-1){rectElements[i].style.visibility='visible';rectElements[i].setAttribute('transform','translate(0,0)');}}}}}});}};/**
     * To get rounded rect path direction
     */ColumnBase.prototype.calculateRoundedRectPath=function(rect,topLeft,topRight,bottomLeft,bottomRight){return'M'+' '+rect.x+' '+(topLeft+rect.y)+' Q '+rect.x+' '+rect.y+' '+(rect.x+topLeft)+' '+rect.y+' '+'L'+' '+(rect.x+rect.width-topRight)+' '+rect.y+' Q '+(rect.x+rect.width)+' '+rect.y+' '+(rect.x+rect.width)+' '+(rect.y+topRight)+' '+'L '+(rect.x+rect.width)+' '+(rect.y+rect.height-bottomRight)+' Q '+(rect.x+rect.width)+' '+(rect.y+rect.height)+' '+(rect.x+rect.width-bottomRight)+' '+(rect.y+rect.height)+' '+'L '+(rect.x+bottomLeft)+' '+(rect.y+rect.height)+' Q '+rect.x+' '+(rect.y+rect.height)+' '+rect.x+' '+(rect.y+rect.height-bottomLeft)+' '+'L'+' '+rect.x+' '+(topLeft+rect.y)+' '+'Z';};return ColumnBase;}();var __extends$20=undefined&&undefined.__extends||function(){var _extendStatics21=function extendStatics(d,b){_extendStatics21=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics21(d,b);};return function(d,b){_extendStatics21(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /**
 * `ColumnSeries` Module used to render the column series.
 */var ColumnSeries=/** @class */function(_super){__extends$20(ColumnSeries,_super);function ColumnSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Column series.
     *
     * @returns {void}
     * @private
     */ColumnSeries.prototype.render=function(series){var rect;var sideBySideInfo=this.getSideBySideInfo(series);var origin=Math.max(series.yAxis.visibleRange.min,0);var argsData;for(var _i=0,_a=series.points;_i<_a.length;_i++){var pointColumn=_a[_i];pointColumn.symbolLocations=[];pointColumn.regions=[];if(pointColumn.visible&&withInRange(series.points[pointColumn.index-1],pointColumn,series.points[pointColumn.index+1],series)){rect=this.getRectangle(pointColumn.xValue+sideBySideInfo.start,pointColumn.yValue,pointColumn.xValue+sideBySideInfo.end,origin,series);var color=series.category==='Indicator'?pointColumn.color:series.interior;argsData=this.triggerEvent(series,pointColumn,color,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.updateSymbolLocation(pointColumn,rect,series);this.drawRectangle(series,pointColumn,rect,argsData);}}}this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */ColumnSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * Get module name.
     */ColumnSeries.prototype.getModuleName=function(){return'ColumnSeries';/**
         * return the module name
         */};/**
     * To destroy the column series.
     *
     * @returns {void}
     * @private
     */ColumnSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return ColumnSeries;}(ColumnBase);var __extends$22=undefined&&undefined.__extends||function(){var _extendStatics22=function extendStatics(d,b){_extendStatics22=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics22(d,b);};return function(d,b){_extendStatics22(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-param */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /**
 * Base class for multi colored series
 */var MultiColoredSeries=/** @class */function(_super){__extends$22(MultiColoredSeries,_super);function MultiColoredSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * To Generate the area path direction
     *
     * @param {number} xValue xValue
     * @param {number} yValue yValue
     * @param {Series} series series
     * @param {boolean} isInverted isInverted
     * @param {Function} getPointLocation getPointLocation
     * @param {ChartLocation} startPoint startPoint
     * @param {string} startPath startPath
     */MultiColoredSeries.prototype.getAreaPathDirection=function(xValue,yValue,series,isInverted,getPointLocation,startPoint,startPath){var direction='';var firstPoint;if(startPoint===null){firstPoint=getPointLocation(xValue,yValue,series.xAxis,series.yAxis,isInverted,series);direction+=startPath+' '+firstPoint.x+' '+firstPoint.y+' ';}return direction;};/**
     * To Generate the empty point direction
     *
     * @param {ChartLocation} firstPoint firstPoint
     * @param {ChartLocation} secondPoint secondPoint
     * @param {Series} series series
     * @param {boolean} isInverted isInverted
     * @param {Function} getPointLocation getPointLocation
     */MultiColoredSeries.prototype.getAreaEmptyDirection=function(firstPoint,secondPoint,series,isInverted,getPointLocation){var direction='';direction+=this.getAreaPathDirection(firstPoint.x,firstPoint.y,series,isInverted,getPointLocation,null,'L');direction+=this.getAreaPathDirection(secondPoint.x,secondPoint.y,series,isInverted,getPointLocation,null,'L');return direction;};/**
     * To set point color
     */MultiColoredSeries.prototype.setPointColor=function(currentPoint,previous,series,isXSegment,segments){if(series.pointColorMapping===''){var segment=void 0;var value=void 0;for(var i=0;i<segments.length;i++){segment=segments[i];value=isXSegment?currentPoint.xValue:currentPoint.yValue;if(value<=this.getAxisValue(segment.value,isXSegment?series.xAxis:series.yAxis,series.chart)||!segment.value){currentPoint.interior=segment.color;break;}}if(currentPoint.interior==null){currentPoint.interior=series.interior;}return false;}else{if(previous){return series.setPointColor(currentPoint,series.interior)!==series.setPointColor(previous,series.interior);}else{return false;}}};MultiColoredSeries.prototype.sortSegments=function(series,chartSegments){var _this=this;var axis=series.segmentAxis==='X'?series.xAxis:series.yAxis;var segments=[].concat(chartSegments);return segments.sort(function(a,b){return _this.getAxisValue(a.value,axis,series.chart)-_this.getAxisValue(b.value,axis,series.chart);});};/**
     * Segment calculation performed here
     *
     * @param {Series} series series
     * @param {PathOption[]} options options
     * @param {ChartSegmentModel[]} segments chartSegments
     */MultiColoredSeries.prototype.applySegmentAxis=function(series,options,segments){var _this=this;if(series.pointColorMapping!==''){options.map(function(option){_this.appendLinePath(option,series,'');});return null;}var isXSegment=series.segmentAxis==='X';var axis=isXSegment?series.xAxis:series.yAxis;var chart=series.chart;var segment;this.includeSegment(segments,axis,series,segments.length);var length=segments.length;var value;var clipPath;var attributeOptions;var _loop_1=function _loop_1(index){segment=segments[index];value=this_1.getAxisValue(segment.value,axis,series.chart);clipPath=this_1.createClipRect(index?this_1.getAxisValue(segments[index-1].value,axis,series.chart):axis.visibleRange.min,value,series,index,isXSegment);if(clipPath){options.map(function(option){attributeOptions={'clip-path':clipPath,'stroke-dasharray':segment.dashArray,'opacity':option.opacity,'stroke':series.type.indexOf('Line')>-1?segment.color||series.interior:series.border.color,'stroke-width':option['stroke-width'],'fill':series.type.indexOf('Line')>-1?'none':segment.color||series.interior,'id':option.id+'_Segment_'+index,'d':option.d};pathAnimation(getElement$1(attributeOptions.id),attributeOptions.d,chart.redraw);series.seriesElement.appendChild(chart.renderer.drawPath(attributeOptions));});}};var this_1=this;for(var index=0;index<length;index++){_loop_1(index);}};MultiColoredSeries.prototype.includeSegment=function(segments,axis,series,length){if(length<=0){segments.push({value:axis.visibleRange.max,color:series.interior});return null;}if(this.getAxisValue(segments[length-1].value,axis,series.chart)<axis.visibleRange.max){segments.push({value:axis.visibleRange.max,color:series.interior});}};/**
     * To create clip rect for segment axis
     *
     * @param {number} startValue startValue
     * @param {number} endValue endValue
     * @param {Series} series series
     * @param {number} index index
     * @param {boolean} isX isX
     */MultiColoredSeries.prototype.createClipRect=function(startValue,endValue,series,index,isX){var isRequired=series.chart.requireInvertedAxis;var startPointLocation=getPoint(isX?startValue:series.xAxis.visibleRange.min,isX?series.yAxis.visibleRange.max:endValue,series.xAxis,series.yAxis,isRequired);var endPointLocation=getPoint(isX?endValue:series.xAxis.visibleRange.max,isX?series.yAxis.visibleRange.min:startValue,series.xAxis,series.yAxis,isRequired);endPointLocation=isRequired?[startPointLocation,startPointLocation=endPointLocation][0]:endPointLocation;var options;if(endPointLocation.x-startPointLocation.x>0&&endPointLocation.y-startPointLocation.y>0){options=new RectOption(series.chart.element.id+'_ChartSegment'+series.index+'ClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:startPointLocation.x,y:startPointLocation.y,width:endPointLocation.x-startPointLocation.x,height:endPointLocation.y-startPointLocation.y});series.seriesElement.appendChild(appendClipElement(series.chart.redraw,options,series.chart.renderer));return'url(#'+series.chart.element.id+'_ChartSegment'+series.index+'ClipRect_'+index+')';}return null;};/**
     * To get exact value from segment value
     *
     * @param {Object} segmentValue segmentValue
     * @param {Axis} axis axis
     * @param {Chart} chart chart
     */MultiColoredSeries.prototype.getAxisValue=function(segmentValue,axis,chart){if(segmentValue===null){segmentValue=axis.visibleRange.max;}if(axis.valueType==='DateTime'){var option={skeleton:'full',type:'dateTime'};return Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(sf.data.DataUtil.parse.parseJson({val:segmentValue}).val))));}else if(axis.valueType.indexOf('Category')>-1){var xValue=axis.valueType==='DateTimeCategory'?segmentValue.getTime().toString():segmentValue;return axis.labels.indexOf(xValue)<0?+segmentValue:axis.labels.indexOf(xValue);}else{return+segmentValue;}};return MultiColoredSeries;}(LineBase);var __extends$21=undefined&&undefined.__extends||function(){var _extendStatics23=function extendStatics(d,b){_extendStatics23=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics23(d,b);};return function(d,b){_extendStatics23(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `AreaSeries` module is used to render the area series.
 */var AreaSeries=/** @class */function(_super){__extends$21(AreaSeries,_super);function AreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Area series.
     *
     * @returns {void}
     * @private
     */AreaSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var startPoint=null;var direction='';var isPolar=series.chart&&series.chart.chartAreaType==='PolarRadar';var origin=Math.max(series.yAxis.visibleRange.min,0);if(isPolar){var connectPoints=this.getFirstLastVisiblePoint(series.points);origin=connectPoints.first.yValue;}var currentXValue;var isDropMode=series.emptyPointSettings&&series.emptyPointSettings.mode==='Drop';var borderWidth=series.border?series.border.width:0;var borderColor=series.border?series.border.color:'transparent';var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var visiblePoints=this.enableComplexProperty(series);var point;for(var i=0;i<visiblePoints.length;i++){point=visiblePoints[i];currentXValue=point.xValue;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[i-1],point,visiblePoints[i+1],series)){direction+=this.getAreaPathDirection(currentXValue,origin,series,isInverted,getCoordinate,startPoint,'M');startPoint=startPoint||new ChartLocation(currentXValue,origin);// First Point to draw the area path
direction+=this.getAreaPathDirection(currentXValue,point.yValue,series,isInverted,getCoordinate,null,'L');if(visiblePoints[i+1]&&!visiblePoints[i+1].visible&&(!isPolar||isPolar&&this.withinYRange(visiblePoints[i+1],yAxis))&&!isDropMode){direction+=this.getAreaEmptyDirection({'x':currentXValue,'y':origin},startPoint,series,isInverted,getCoordinate);startPoint=null;}this.storePointLocation(point,series,isInverted,getCoordinate);}}if(isPolar&&direction!==''){var endPoint='';var chart=this.chart;endPoint+=this.getAreaPathDirection(0,origin,series,isInverted,getCoordinate,null,'L');if(xAxis.isInversed||yAxis.isInversed){direction+=series.type==='Polar'?chart.polarSeriesModule.getPolarIsInversedPath(xAxis,endPoint):chart.radarSeriesModule.getRadarIsInversedPath(xAxis,endPoint);}direction=direction.concat(direction+' '+'Z');}this.appendLinePath(new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,borderWidth,borderColor,series.opacity,series.dashArray,series.points.length>1&&direction!==''?direction+this.getAreaPathDirection(series.points[series.points.length-1].xValue,series.chart.chartAreaType==='PolarRadar'?series.points[series.points.length-1].yValue:origin,series,isInverted,getCoordinate,null,'L'):''),series,'');this.renderMarker(series);};/**
     * To destroy the area series.
     *
     * @returns {void}
     * @private
     */AreaSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name
     */AreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'AreaSeries';};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */AreaSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};return AreaSeries;}(MultiColoredSeries);var __extends$23=undefined&&undefined.__extends||function(){var _extendStatics24=function extendStatics(d,b){_extendStatics24=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics24(d,b);};return function(d,b){_extendStatics24(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `BarSeries` module is used to render the bar series.
 */var BarSeries=/** @class */function(_super){__extends$23(BarSeries,_super);function BarSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Bar series.
     *
     * @returns {void}
     * @private
     */BarSeries.prototype.render=function(series){var origin=Math.max(series.yAxis.visibleRange.min,0);var sideBySideInfo=this.getSideBySideInfo(series);var rect;var argsData;for(var _i=0,_a=series.points;_i<_a.length;_i++){var pointBar=_a[_i];pointBar.symbolLocations=[];pointBar.regions=[];if(pointBar.visible&&withInRange(series.points[pointBar.index-1],pointBar,series.points[pointBar.index+1],series)){rect=this.getRectangle(pointBar.xValue+sideBySideInfo.start,pointBar.yValue,pointBar.xValue+sideBySideInfo.end,origin,series);argsData=this.triggerEvent(series,pointBar,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.updateSymbolLocation(pointBar,rect,series);this.drawRectangle(series,pointBar,rect,argsData);}}}this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */BarSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * To destroy the bar series.
     *
     * @returns {void}
     * @private
     */BarSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};/**
     * Get module name
     */BarSeries.prototype.getModuleName=function(){return'BarSeries';};return BarSeries;}(ColumnBase);var __extends$25=undefined&&undefined.__extends||function(){var _extendStatics25=function extendStatics(d,b){_extendStatics25=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics25(d,b);};return function(d,b){_extendStatics25(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * Specifies the Polar Axis Layout.
 */var PolarRadarPanel=/** @class */function(_super){__extends$25(PolarRadarPanel,_super);function PolarRadarPanel(){var _this=_super!==null&&_super.apply(this,arguments)||this;/** @private */_this.visibleAxisLabelRect=[];return _this;}/**
     * Measure the polar radar axis size.
     *
     * @returns {void}
     * @private
     */PolarRadarPanel.prototype.measureAxis=function(rect){var chart=this.chart;this.initialClipRect=rect;this.seriesClipRect=new sf.svgbase.Rect(rect.x,rect.y,rect.width,rect.height);//Measure axis size calculation
this.measureRowAxis(chart,this.initialClipRect);this.measureColumnAxis(chart,this.initialClipRect);this.calculateAxisSize();};PolarRadarPanel.prototype.measureRowAxis=function(chart,rect){this.calculateRowSize(rect);var row=chart.rows[0];this.measureDefinition(row,chart,new sf.svgbase.Size(chart.availableSize.width,row.computedHeight));};PolarRadarPanel.prototype.measureColumnAxis=function(chart,rect){this.calculateColumnSize(rect);var column=chart.columns[0];this.measureDefinition(column,chart,new sf.svgbase.Size(column.computedWidth,chart.availableSize.height));};/**
     * Measure the column and row in chart.
     *
     * @returns {void}
     * @private
     */PolarRadarPanel.prototype.measureDefinition=function(definition,chart,size){for(var _i=0,_a=definition.axes;_i<_a.length;_i++){var axis=_a[_i];axis.getModule(chart);axis.baseModule.calculateRangeAndInterval(size,axis);}};/**
     * Measure the axis.
     *
     * @returns {void}
     * @private
     */PolarRadarPanel.prototype.calculateAxisSize=function(){var chart=this.chart;var axis;var padding=5;this.centerX=this.initialClipRect.width*0.5+this.initialClipRect.x;this.centerY=this.initialClipRect.height*0.5+this.initialClipRect.y;chart.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-padding-chart.primaryXAxis.majorTickLines.height-chart.primaryXAxis.maxLabelSize.height;chart.radius=chart.primaryXAxis.coefficient*chart.radius/100;this.seriesClipRect.y=this.centerY-chart.radius;this.seriesClipRect.x=this.centerX-chart.radius;this.seriesClipRect.height=2*chart.radius;this.seriesClipRect.width=2*chart.radius;this.calculateRowSize(this.seriesClipRect);axis=chart.primaryYAxis;axis.rect=this.seriesClipRect;this.calculateColumnSize(this.seriesClipRect);axis=chart.primaryXAxis;axis.rect=this.seriesClipRect;};/**
     * Measure the axis.
     *
     * @returns {void}
     * @private
     */PolarRadarPanel.prototype.measure=function(){var chart=this.chart;chart.verticalAxes.push(chart.primaryYAxis);var row=chart.rows[0];row.axes[0]=chart.primaryYAxis;chart.rows[0]=row;chart.horizontalAxes.push(chart.primaryXAxis);var column=chart.columns[0];column.axes[0]=chart.primaryXAxis;chart.columns[0]=column;};/**
     * Measure the row size.
     *
     * @returns {void}
     */PolarRadarPanel.prototype.calculateRowSize=function(rect){/*! Calculate row size */var chart=this.chart;var row=chart.rows[0];row.computedHeight=rect.height/2;row.computedTop=rect.y;chart.rows[0]=row;};/**
     * Measure the row size.
     *
     * @returns {void}
     */PolarRadarPanel.prototype.calculateColumnSize=function(rect){/*! Calculate column size */var chart=this.chart;var column=chart.columns[0];column.computedLeft=rect.x;column.computedWidth=rect.width;chart.columns[0]=column;};/**
     * To render the axis element.
     *
     * @returns {void}
     * @private
     */PolarRadarPanel.prototype.renderAxes=function(){var axis;var chart=this.chart;this.startAngle=chart.primaryXAxis.startAngle;var axisElement=chart.renderer.createGroup({id:chart.element.id+'AxisCollection'});var axisLineElement=chart.renderer.createGroup({id:chart.element.id+'AxisOutsideCollection'});for(var i=0,len=chart.axisCollections.length;i<len;i++){this.element=chart.renderer.createGroup({id:chart.element.id+'AxisGroup'+i});axis=chart.axisCollections[i];if(axis.orientation==='Horizontal'){if(axis.majorGridLines.width>0||axis.majorTickLines.width>0){this.drawXAxisGridLine(axis,i);}if(axis.visible&&axis.internalVisibility){this.drawXAxisLabels(axis,i);}}else{this.drawYAxisGridLine(axis,i);if(axis.lineStyle.width>0){this.drawYAxisLine(axis,i);}if(axis.visible&&axis.internalVisibility){this.drawYAxisLabels(axis,i);}}axisElement.appendChild(this.element);}axisElement.appendChild(this.element);appendChildElement(chart.enableCanvas,chart.svgObject,axisElement,chart.redraw);return axisLineElement;};PolarRadarPanel.prototype.drawYAxisLine=function(axis,index){var chart=this.chart;var optionsLine={};var vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value,axis),this.startAngle);var axisLine='M '+this.centerX+' '+this.centerY+'L '+(this.centerX+chart.radius*vector.x)+' '+(this.centerY+chart.radius*vector.y);optionsLine={'id':chart.element.id+'AxisLine_'+index,'d':axisLine,'stroke-dasharray':axis.lineStyle.dashArray,'stroke-width':axis.lineStyle.width,'stroke':axis.lineStyle.color||chart.themeStyle.axisLine};/**
         * I252450
         * When we click the center of the marker which is plotted in the axis line, selection did not work is fixed
         * Cause: Instead of marker id, axis  line id is obtained while clicking
         * Fix: Pointer events set to none for axis lines
         */var element=chart.renderer.drawPath(optionsLine);this.setPointerEventNone(element);chart.yAxisElements.appendChild(element);};PolarRadarPanel.prototype.drawYAxisLabels=function(axis,index){var chart=this.chart;var elementSize;var options;var pointX=0;var pointY=0;var angle=this.startAngle<0?this.startAngle+360:this.startAngle;var anchor='middle';var radius;var padding=5;var isIntersect;var labelRegions=[];var isLabelVisible=[];isLabelVisible[0]=true;var intersectType=axis.labelIntersectAction;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});var vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value,axis),this.startAngle);for(var i=0,len=axis.visibleLabels.length;i<len;i++){isIntersect=false;radius=chart.radius*valueToCoefficient(axis.visibleLabels[i].value,axis);elementSize=axis.visibleLabels[i].size;radius=chart.radius*valueToCoefficient(axis.visibleLabels[i].value,axis);pointX=this.centerX+radius*vector.x+(axis.majorTickLines.height+elementSize.width/2+padding/2)*Math.cos(angle*Math.PI/180)*(axis.labelPosition==='Inside'?1:-1);pointY=this.centerY+radius*vector.y+(axis.majorTickLines.height+elementSize.height/2)*Math.sin(angle*Math.PI/180)*(axis.labelPosition==='Inside'?1:-1);pointY+=elementSize.height/4;labelRegions[i]=this.getLabelRegion(pointX,pointY,axis.visibleLabels[i],anchor);if(i!==0&&intersectType==='Hide'){for(var j=i;j>=0;j--){j=j===0?0:j===i?j-1:j;if(isLabelVisible[j]&&isOverlap(labelRegions[i],labelRegions[j])){isIntersect=true;isLabelVisible[i]=false;break;}else{isLabelVisible[i]=true;}}if(isIntersect){continue;// If the label is intersect, the label render is ignored.
}// To check Y axis label with visible X axis label
for(var _i=0,_a=this.visibleAxisLabelRect;_i<_a.length;_i++){var rect=_a[_i];if(isOverlap(labelRegions[i],rect)){isIntersect=true;break;}}}if(isIntersect){continue;}this.visibleAxisLabelRect.push(labelRegions[i]);options=new sf.svgbase.TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY,anchor,axis.visibleLabels[i].text);textElement(chart.renderer,options,axis.labelStyle,axis.labelStyle.color||chart.themeStyle.axisLabel,labelElement,false,chart.redraw,true,true);}chart.yAxisElements.appendChild(labelElement);};PolarRadarPanel.prototype.drawYAxisGridLine=function(axis,index){var chart=this.chart;var options;var radius;var majorTick='';var majorGrid='';var vector;var angle=this.startAngle<0?this.startAngle+360:this.startAngle;var x1;var y1;var x2;var y2;var border={color:axis.majorGridLines.color||chart.themeStyle.majorGridLine,width:axis.majorGridLines.width};var previousValue;var element;if(axis.majorGridLines.width>0){if(chart.visibleSeries[0].type==='Polar'){for(var j=0;j<axis.visibleLabels.length;j++){element=getElement$1(chart.element.id+'_MajorGridLine_'+index+'_'+j);previousValue=element?element.getAttribute('r'):null;radius=chart.radius*valueToCoefficient(axis.visibleLabels[j].value,axis);options=new CircleOption(chart.element.id+'_MajorGridLine_'+index+'_'+j,'transparent',border,axis.majorGridLines.width,this.centerX,this.centerY,radius);appendChildElement(chart.enableCanvas,this.element,chart.renderer.drawCircle(options),chart.redraw,true,'r','r',new ChartLocation(+previousValue,+previousValue),null,true);}if(radius!==chart.radius){options=new CircleOption(chart.element.id+'_MajorGridLine_'+index+'_'+axis.visibleLabels.length+1,'transparent',border,axis.majorGridLines.width,this.centerX,this.centerY,chart.radius);appendChildElement(chart.enableCanvas,this.element,chart.renderer.drawCircle(options),chart.redraw,true,'r','r',new ChartLocation(+previousValue,+previousValue),null,true);}}else{for(var j=0;j<axis.visibleLabels.length;j++){radius=chart.radius*valueToCoefficient(axis.visibleLabels[j].value,axis);majorGrid=this.renderRadarGrid(radius,'',chart);element=getElement$1(chart.element.id+'_MajorGridLine_'+index+'_'+j);previousValue=element?element.getAttribute('d'):null;options=new sf.svgbase.PathOption(chart.element.id+'_MajorGridLine_'+index+'_'+j,'transparent',axis.majorGridLines.width,axis.majorGridLines.color||chart.themeStyle.majorGridLine,null,null,majorGrid);appendChildElement(chart.enableCanvas,this.element,chart.renderer.drawPath(options),chart.redraw,true,'x','y',null,previousValue,true);}if(radius!==chart.radius){majorGrid=this.renderRadarGrid(chart.radius,'',chart);element=getElement$1(chart.element.id+'_MajorGridLine_'+index+'_'+axis.visibleLabels.length);previousValue=element?element.getAttribute('d'):null;options=new sf.svgbase.PathOption(chart.element.id+'_MajorGridLine_'+index+'_'+axis.visibleLabels.length,'transparent',axis.majorGridLines.width,axis.majorGridLines.color||chart.themeStyle.majorGridLine,null,null,majorGrid);appendChildElement(chart.enableCanvas,this.element,chart.renderer.drawPath(options),chart.redraw,true,'x','y',null,previousValue,true);}}}if(axis.majorTickLines.width>0){vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[0].value,axis),this.startAngle);for(var i=0;i<axis.visibleLabels.length;i++){radius=chart.radius*valueToCoefficient(axis.visibleLabels[i].value,axis);x1=this.centerX+radius*vector.x;y1=this.centerY+radius*vector.y;x2=x1+axis.majorTickLines.height*Math.cos(angle*Math.PI/180)*(axis.tickPosition==='Inside'?1:-1);y2=y1+axis.majorTickLines.height*Math.sin(angle*Math.PI/180)*(axis.tickPosition==='Inside'?1:-1);majorTick='M '+x1+' '+y1+' L '+x2+' '+y2;this.renderTickLine(axis,index,majorTick,'',i);}}};PolarRadarPanel.prototype.renderRadarGrid=function(radius,majorGrid,chart){var vector;var vector2;var x1;var y1;var x2;var y2;for(var i=0,len=chart.primaryXAxis.visibleLabels.length;i<len;i++){vector=CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i].value,chart.primaryXAxis),this.startAngle);if(i+1<len){vector2=CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[i+1].value,chart.primaryXAxis),this.startAngle);}else{vector2=CoefficientToVector(valueToPolarCoefficient(chart.primaryXAxis.visibleLabels[0].value,chart.primaryXAxis),this.startAngle);}x1=this.centerX+radius*vector.x;y1=this.centerY+radius*vector.y;x2=this.centerX+radius*vector2.x;y2=this.centerY+radius*vector2.y;majorGrid=majorGrid.concat((i?'L ':'M ')+' '+x1+' '+y1+' '+'L '+' '+x2+' '+y2+' ');}return majorGrid;};PolarRadarPanel.prototype.drawXAxisGridLine=function(axis,index){var chart=this.chart;var tempInterval;var vector;var majorGrid='';var majorTick='';var minorGirdLine='';var minorTickLine='';var x1=this.centerX;var x2;var y1=this.centerY;var y2;var minorDirection;var length=axis.visibleLabels.length;//Gridlines
for(var i=0;i<length;i++){tempInterval=axis.visibleLabels[i].value;vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value,axis),this.startAngle);x2=this.centerX+chart.radius*vector.x;y2=this.centerY+chart.radius*vector.y;var xLoc=x2+axis.majorTickLines.height*vector.x*(axis.tickPosition==='Inside'?-1:1);var yLoc=y2+axis.majorTickLines.height*vector.y*(axis.tickPosition==='Inside'?-1:1);majorGrid='M '+x1+' '+y1+' '+'L '+x2+' '+y2;majorTick='M '+x2+' '+y2+' L '+xLoc+' '+yLoc;if(axis.minorTicksPerInterval>0&&(axis.minorGridLines.width>0||axis.minorTickLines.width>0)&&axis.valueType!=='Category'&&chart.visibleSeries[0].type!=='Radar'){minorDirection=this.drawAxisMinorLine(axis,tempInterval,minorGirdLine,minorTickLine);minorGirdLine=minorDirection[0];minorTickLine=minorDirection[1];}this.renderTickLine(axis,index,majorTick,minorTickLine,i);this.renderGridLine(axis,index,majorGrid,minorGirdLine,i);}};PolarRadarPanel.prototype.drawAxisMinorLine=function(axis,tempInterval,minorGird,minorTick){var value=tempInterval;var x;var y;var vector;var range=axis.visibleRange;var direction=[];for(var j=0;j<axis.minorTicksPerInterval;j++){value+=(axis.valueType==='DateTime'?axis.dateTimeInterval:axis.visibleRange.interval)/(axis.minorTicksPerInterval+1);if(inside(value,range)){vector=CoefficientToVector(valueToPolarCoefficient(value,axis),this.startAngle);x=this.centerX+this.chart.radius*vector.x;y=this.centerY+this.chart.radius*vector.y;var tickXSize=x+axis.minorTickLines.height*vector.x*(axis.tickPosition==='Inside'?-1:1);var tickYSize=y+axis.minorTickLines.height*vector.y*(axis.tickPosition==='Inside'?-1:1);minorGird=minorGird.concat('M'+' '+this.centerX+' '+this.centerY+'L '+x+' '+y);minorTick=minorTick.concat('M'+' '+x+' '+y+'L'+' '+tickXSize+' '+tickYSize);}}direction.push(minorGird);direction.push(minorTick);return direction;};/**
     * To render the axis label.
     *
     * @param {Axis} axis axis
     * @param {number} index index
     * @returns {void}
     * @private
     */PolarRadarPanel.prototype.drawXAxisLabels=function(axis,index){this.visibleAxisLabelRect=[];var legendRect;if(this.chart.legendModule){legendRect=this.chart.legendModule.legendBounds;}var chart=this.chart;var pointX=0;var pointY=0;var labelElement=chart.renderer.createGroup({id:chart.element.id+'AxisLabels'+index});var options;var vector;var labelText;var firstLabelX;var islabelInside=axis.labelPosition==='Inside';var padding=5;var lastLabelX;var label;var textAnchor='';var isIntersect;var labelRegions=[];var isLabelVisible=[];isLabelVisible[0]=true;var intersectType=axis.labelIntersectAction;var ticksbwtLabel=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?0.5:0;var radius=chart.radius+axis.majorTickLines.height;radius=islabelInside?-radius:radius;for(var i=0,len=axis.visibleLabels.length;i<len;i++){isIntersect=false;vector=CoefficientToVector(valueToPolarCoefficient(axis.visibleLabels[i].value+ticksbwtLabel,axis),this.startAngle);if(!isNaN(vector.x)&&!isNaN(vector.y)){pointX=this.centerX+(radius+axis.majorTickLines.height+padding)*vector.x;pointY=this.centerY+(radius+axis.majorTickLines.height+padding)*vector.y;textAnchor=parseFloat(pointX.toFixed(1))===parseFloat(this.centerX.toFixed(1))?'middle':pointX<this.centerX&&!islabelInside||pointX>this.centerX&&islabelInside?'end':'start';}label=axis.visibleLabels[i];labelText=label.text;// to trim axis labels based on available size
if(axis.enableTrim||intersectType==='Trim'){var originalText=axis.visibleLabels[i].originalText;var trimText=void 0;var size=void 0;var labelPosition=axis.labelPosition;var chartWidth=chart.availableSize.width;var textLength=originalText.length;for(var i_1=textLength-1;i_1>=0;--i_1){trimText=originalText.substring(0,i_1)+'...';size=sf.svgbase.measureText(trimText,axis.labelStyle).width;if(pointX===chartWidth/2?pointX-size/2>=0&&pointX+size/2<=chartWidth:labelPosition==='Outside'&&(pointX>=chartWidth/2&&pointX+size<=chartWidth||pointX<=chartWidth/2&&pointX-size>=0)||labelPosition==='Inside'&&(pointX+size<=chartWidth/2||pointX-size>=chartWidth/2)){labelText=i_1===textLength-1?originalText:trimText;label.size.width=sf.svgbase.measureText(labelText,axis.labelStyle).width;label.text=labelText;break;}}}// fix for label style not working in axisLabelRender event issue
labelRegions[i]=this.getLabelRegion(pointX,pointY,label,textAnchor);if(i===0){firstLabelX=pointX;}else if(i===axis.visibleLabels.length-1&&axis.valueType!=='Category'){lastLabelX=sf.svgbase.measureText(labelText,axis.labelStyle).height;lastLabelX+=pointX;labelText=lastLabelX>firstLabelX?'':labelText;}// Label intersect action (Hide) perform here
if(i!==0&&intersectType==='Hide'){for(var j=i;j>=0;j--){j=j===0?0:j===i?j-1:j;if(isLabelVisible[j]&&isOverlap(labelRegions[i],labelRegions[j])){isIntersect=true;isLabelVisible[i]=false;break;}else{isLabelVisible[i]=true;}}}if(!isIntersect&&legendRect){isIntersect=isOverlap(labelRegions[i],legendRect);if(isIntersect){var width=this.getAvailableSpaceToTrim(legendRect,labelRegions[i]);if(width>0){labelText=textTrim(width,axis.visibleLabels[i].originalText,axis.labelStyle);isIntersect=false;}}}options=new sf.svgbase.TextOption(chart.element.id+index+'_AxisLabel_'+i,pointX,pointY,textAnchor,labelText,'','central');if(isIntersect){continue;// If the label is intersect, the label render is ignored.
}this.visibleAxisLabelRect.push(labelRegions[i]);textElement(chart.renderer,options,label.labelStyle,label.labelStyle.color||chart.themeStyle.axisLabel,labelElement,false,chart.redraw,true,true);}this.element.appendChild(labelElement);};/**
     * To get available space to trim.
     *
     * @param {Rect} legendRect legendRect
     * @param {Rect} labelRect labelRect
     * @returns {number} available space value
     */PolarRadarPanel.prototype.getAvailableSpaceToTrim=function(legendRect,labelRect){var legendX1=legendRect.x;var legendX2=legendX1+legendRect.width;var labelX1=labelRect.x;var labelX2=labelX1+labelRect.width;var width=0;if(labelX1>legendX1&&labelX1<legendX2&&labelX2>legendX2){width=labelX2-legendX2;}else if(labelX1>legendX1&&labelX1<legendX2&&labelX2<legendX2){width=0;}else if(labelX2>legendX1&&labelX2<legendX2&&labelX1<legendX1){width=legendX1-labelX1;}else if(labelX2>legendX1&&labelX2>legendX2&&labelX1<legendX1){width=legendX1-labelX1;}return width;};/**
     * Getting axis label bounds
     *
     * @param {number} pointX pointX
     * @param {number} pointY pointY
     * @param {VisibleLabels} label label
     * @param {string} anchor anchor
     * @returns {Rect} label region
     */PolarRadarPanel.prototype.getLabelRegion=function(pointX,pointY,label,anchor){if(anchor==='middle'){pointX-=label.size.width/2;}else if(anchor==='end'){pointX-=label.size.width;}else{// eslint-disable-next-line no-self-assign
pointX=pointX;}pointY-=label.size.height/2;return new sf.svgbase.Rect(pointX,pointY,label.size.width,label.size.height);};PolarRadarPanel.prototype.renderTickLine=function(axis,index,majorTickLine,minorTickLine,gridIndex){var tickOptions;var chart=this.chart;var direction;var element;if(axis.majorTickLines.width>0){element=getElement$1(chart.element.id+'_MajorTickLine_'+index+'_'+gridIndex);direction=element?element.getAttribute('d'):null;tickOptions=new sf.svgbase.PathOption(chart.element.id+'_MajorTickLine_'+index+'_'+gridIndex,'transparent',axis.majorTickLines.width,axis.majorTickLines.color||chart.themeStyle.majorTickLine,null,null,majorTickLine);/**
             * I252450
             * When we click the center of the marker which is plotted in the axis, selection did not work is fixed
             * Cause: Instead of marker id, axis Tick line id is obtained while clicking
             * Fix: Pointer events set to none for tick lines
             */element=chart.renderer.drawPath(tickOptions);this.setPointerEventNone(element);appendChildElement(chart.enableCanvas,chart.yAxisElements,element,chart.redraw,true,'x','y',null,direction);}if(axis.minorTickLines.width>0){element=getElement$1(chart.element.id+'_MinorTickLine_'+index+'_'+gridIndex);direction=element?element.getAttribute('d'):null;tickOptions=new sf.svgbase.PathOption(chart.element.id+'_MinorTickLine_'+index+'_'+gridIndex,'transparent',axis.minorTickLines.width,axis.minorTickLines.color||chart.themeStyle.minorTickLine,null,null,minorTickLine);/**
             * I252450
             * When we click the center of the marker which is plotted in the axis, selection did not work is fixed
             * Cause: Instead of marker id, axis Tick line id is obtained while clicking
             * Fix: Pointer events set to none for tick lines
             */element=chart.renderer.drawPath(tickOptions);this.setPointerEventNone(element);appendChildElement(chart.enableCanvas,chart.yAxisElements,element,chart.redraw,true,'x','y',null,direction);}};PolarRadarPanel.prototype.renderGridLine=function(axis,index,majorGrid,minorGird,gridIndex){var chart=this.chart;var gridOptions;var direction;var element;if(axis.majorGridLines.width>0){element=getElement$1(chart.element.id+'_MajorGridLine_'+index+'_'+gridIndex);direction=element?element.getAttribute('d'):null;gridOptions=new sf.svgbase.PathOption(chart.element.id+'_MajorGridLine_'+index+'_'+gridIndex,'transparent',axis.majorGridLines.width,axis.majorGridLines.color||chart.themeStyle.majorGridLine,null,axis.majorGridLines.dashArray,majorGrid);appendChildElement(chart.enableCanvas,this.element,chart.renderer.drawPath(gridOptions),chart.redraw,true,'x','y',null,direction);}if(axis.minorGridLines.width>0){element=getElement$1(chart.element.id+'_MinorGridLine_'+index+'_'+gridIndex);direction=element?element.getAttribute('d'):null;gridOptions=new sf.svgbase.PathOption(chart.element.id+'_MinorGridLine_'+index+'_'+gridIndex,'transparent',axis.minorGridLines.width,axis.minorGridLines.color||chart.themeStyle.minorGridLine,null,axis.minorGridLines.dashArray,minorGird);appendChildElement(chart.enableCanvas,this.element,chart.renderer.drawPath(gridOptions),chart.redraw,true,'x','y',null,direction);}};PolarRadarPanel.prototype.setPointerEventNone=function(element){if(element){element.setAttribute('style','pointer-events:none');}};return PolarRadarPanel;}(LineBase);var __extends$24=undefined&&undefined.__extends||function(){var _extendStatics26=function extendStatics(d,b){_extendStatics26=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics26(d,b);};return function(d,b){_extendStatics26(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable prefer-const */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `PolarSeries` module is used to render the polar series.
 */var PolarSeries=/** @class */function(_super){__extends$24(PolarSeries,_super);function PolarSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Polar Series.
     *
     * @returns {void}
     * @private
     */PolarSeries.prototype.render=function(series,xAxis,yAxis,inverted){var seriesType=firstToLowerCase(series.drawType);var yAxisMin=yAxis.minimum;var yAxisMax=yAxis.maximum;for(var _i=0,_a=series.points;_i<_a.length;_i++){var visiblePoint=_a[_i];visiblePoint.visible=visiblePoint.visible&&!(!sf.base.isNullOrUndefined(yAxisMin)&&visiblePoint.yValue<yAxisMin||!sf.base.isNullOrUndefined(yAxisMax)&&visiblePoint.yValue>yAxisMax);}if(series.points.length){if(series.drawType.indexOf('Column')>-1){this.columnDrawTypeRender(series,xAxis,yAxis);}else{series.chart[seriesType+'SeriesModule'].render(series,xAxis,yAxis,inverted);}}};/**
     * Render Column DrawType.
     *
     * @returns {void}
     * @private
     */PolarSeries.prototype.columnDrawTypeRender=function(series,xAxis,yAxis){var options;var argsData;var startAngle;var endAngle;var itemCurrentXPos;var radius;var inversedValue;var pointStartAngle;var pointEndAngle;var x1;var x2;var y1;var y2;var startValue;var endValue;var innerRadius;var min=xAxis.actualRange.min;var centerX=series.clipRect.width/2+series.clipRect.x;var dStartX;var dStartY;var centerY=series.clipRect.height/2+series.clipRect.y;var dEndX;var dEndY;var isRangeColumn=series.drawType==='RangeColumn';var isPolar=series.type==='Polar';var isLogAxis=yAxis.valueType==='Logarithmic';var isStacking=series.drawType==='StackingColumn';var direction='';var sumofYValues=0;var arcValue;var interval=(series.points[1]?series.points[1].xValue:2*series.points[0].xValue)-series.points[0].xValue;//customer issue ID-I249730, Polar columnSeries in OnTicks with inversed axis
var ticks=xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'?0:xAxis.isInversed?-interval/2:interval/2;var rangeInterval=xAxis.valueType==='DateTime'?xAxis.dateTimeInterval:1;this.getSeriesPosition(series);var position=xAxis.isInversed?series.rectCount-1-series.position:series.position;do{sumofYValues+=rangeInterval;min+=rangeInterval;}while(min<=xAxis.actualRange.max-(xAxis.valueType==='Category'?0:1));for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){inversedValue=xAxis.isInversed?xAxis.visibleRange.max-point.xValue:point.xValue-xAxis.visibleRange.min;itemCurrentXPos=inversedValue+(interval/series.rectCount*position-ticks)+sumofYValues/360*xAxis.startAngle;itemCurrentXPos=itemCurrentXPos/sumofYValues;startAngle=2*Math.PI*(itemCurrentXPos+xAxis.startAngle);endAngle=2*Math.PI*(itemCurrentXPos+xAxis.startAngle+interval/series.rectCount/sumofYValues);if(startAngle===0&&endAngle===0){endAngle=2*Math.PI;arcValue='1';}else{arcValue='0';}pointStartAngle=startAngle;pointEndAngle=endAngle;startAngle=startAngle-0.5*Math.PI+series.columnSpacing/2;endAngle=endAngle-0.5*Math.PI-0.000001-series.columnSpacing/2;if(isStacking||isRangeColumn){startValue=isRangeColumn?point.low:series.stackedValues.startValues[point.index];endValue=isRangeColumn?point.high:series.stackedValues.endValues[point.index];endValue=isLogAxis?logBase(endValue===0?1:endValue,yAxis.logBase):endValue;endValue=endValue>yAxis.actualRange.max?yAxis.actualRange.max:endValue;}else{startValue=yAxis.visibleRange.min;endValue=point.yValue>yAxis.actualRange.max?yAxis.actualRange.max:point.yValue;}radius=startValue===endValue?0:series.chart.radius*valueToCoefficient(endValue,yAxis);x1=centerX+radius*Math.cos(startAngle);x2=centerX+radius*Math.cos(endAngle);y1=centerY+radius*Math.sin(startAngle);y2=centerY+radius*Math.sin(endAngle);innerRadius=series.chart.radius*valueToCoefficient(startValue===0&&yAxis.visibleRange.min!==0?yAxis.visibleRange.min:startValue,yAxis);dStartX=centerX+innerRadius*Math.cos(startAngle);dStartY=centerY+innerRadius*Math.sin(startAngle);dEndX=centerX+innerRadius*Math.cos(endAngle);dEndY=centerY+innerRadius*Math.sin(endAngle);if(isPolar){direction='M'+' '+x1+' '+y1+' '+'A'+' '+radius+' '+radius+' '+'0'+' '+arcValue+' '+1+' '+x2+' '+y2+' '+'L'+' '+dEndX+' '+dEndY+' '+'A'+' '+innerRadius+' '+innerRadius+' '+'1'+' '+'0'+' '+'0'+' '+dStartX+' '+dStartY+' '+'Z';}else{direction='M'+' '+x1+' '+y1+' '+'L'+' '+x2+' '+y2+' '+'L '+dEndX+' '+dEndY+' '+'L'+' '+dStartX+' '+dStartY+' '+'Z';}point.regionData=new PolarArc(pointStartAngle,pointEndAngle,innerRadius,radius,itemCurrentXPos);argsData=this.triggerEvent(series.chart,series,point);options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction);if(!argsData.cancel){this.appendLinePath(options,series,'');if(isPolar){point.symbolLocations.push({x:centerX+radius*Math.cos(startAngle+(endAngle-startAngle)/2),y:centerY+radius*Math.sin(startAngle+(endAngle-startAngle)/2)});if(isRangeColumn){point.symbolLocations.push({x:centerX+innerRadius*Math.cos(startAngle+(endAngle-startAngle)/2),y:centerY+innerRadius*Math.sin(startAngle+(endAngle-startAngle)/2)});}}else{point.symbolLocations.push({x:(x1+x2)/2,y:(y1+y2)/2});if(isRangeColumn){point.symbolLocations.push({x:(dEndX+dStartX)/2,y:(dEndY+dStartY)/2});}}}}}this.renderMarker(series);series.isRectSeries=true;};/**
     * To trigger the point rendering event.
     *
     * @returns {void}
     * @private
     */PolarSeries.prototype.triggerEvent=function(chart,series,point){var argsData={cancel:false,name:pointRender,series:series,point:point,fill:series.setPointColor(point,series.interior),border:series.setBorderColor(point,{width:series.border.width,color:series.border.color})};chart.trigger(pointRender,argsData);point.color=argsData.fill;return argsData;};/** get position for column drawtypes
     *
     * @returns {void}
     * @private
     */PolarSeries.prototype.getSeriesPosition=function(series){var chart=series.chart;var seriesCollection=[];var stackingGroup=[];var vSeries={rectCount:0,position:null};for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series_1=_a[_i];if(series_1.visible&&(series_1.type==='Polar'||series_1.type==='Radar')&&series_1.drawType.indexOf('Column')!==-1){seriesCollection.push(series_1);}}for(var i=0;i<seriesCollection.length;i++){var series_2=seriesCollection[i];if(series_2.drawType.indexOf('Stacking')!==-1){if(series_2.stackingGroup){if(stackingGroup[series_2.stackingGroup]===undefined){series_2.position=vSeries.rectCount;stackingGroup[series_2.stackingGroup]=vSeries.rectCount++;}else{series_2.position=stackingGroup[series_2.stackingGroup];}}else{if(vSeries.position===null){series_2.position=vSeries.rectCount;vSeries.position=vSeries.rectCount++;}else{series_2.position=vSeries.position;}}}else{series_2.position=vSeries.rectCount++;}}for(var i=0;i<seriesCollection.length;i++){var value=seriesCollection[i];value.rectCount=vSeries.rectCount;}};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */PolarSeries.prototype.doAnimation=function(series){var duration=series.animation.duration;var delay=series.animation.delay;var rectElements=series.seriesElement.childNodes;var count=1;if(series.drawType==='Scatter'){for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(!point.symbolLocations.length||!rectElements[count]){continue;}markerAnimate(rectElements[count],delay,duration,series,point.index,point.symbolLocations[0],false);count++;}}else{for(count=1;count<rectElements.length;count++){this.doPolarRadarAnimation(rectElements[count],delay,duration,series);}}};/**
     * To do the Polar Radar draw type column animation.
     *
     * @returns {void}
     * @private
     */PolarSeries.prototype.doPolarRadarAnimation=function(animateElement,delay,duration,series){var chartcenterX=series.clipRect.width/2+series.clipRect.x;var chartcenterY=series.clipRect.height/2+series.clipRect.y;var elementHeight=0;animateElement.style.visibility='hidden';new sf.base.Animation({}).animate(animateElement,{duration:duration,delay:delay,progress:function progress(args){if(args.timeStamp>args.delay){args.element.style.visibility='visible';elementHeight=(args.timeStamp-args.delay)/args.duration;animateElement.setAttribute('transform','translate('+chartcenterX+' '+chartcenterY+') scale('+elementHeight+') translate('+-chartcenterX+' '+-chartcenterY+')');}},end:function end(){animateElement.style.visibility='visible';animateElement.removeAttribute('transform');series.chart.trigger('animationComplete',{series:series.chart.isBlazor?{}:series});}});};// path calculation for isInversed polar area series
PolarSeries.prototype.getPolarIsInversedPath=function(xAxis,endPoint){var vector;var x1;var y1;var chart=this.chart;var radius=chart.radius;var direction=endPoint;var circleRotate=xAxis.isInversed?'1 1 ':'1 0 ';vector=CoefficientToVector(valueToPolarCoefficient(xAxis.visibleLabels[0].value,xAxis),this.startAngle);x1=this.centerX+radius*vector.x;y1=this.centerY+radius*vector.y;return direction+='L '+x1+' '+y1+' A '+radius+' '+radius+' 0 '+circleRotate+x1+' '+(this.centerY+radius)+' A '+radius+' '+radius+' 0 '+circleRotate+x1+' '+y1+' ';};/**
     * Get module name.
     */PolarSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'PolarSeries';};/**
     * To destroy the polar series.
     *
     * @returns {void}
     * @private
     */PolarSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return PolarSeries;}(PolarRadarPanel);var __extends$26=undefined&&undefined.__extends||function(){var _extendStatics27=function extendStatics(d,b){_extendStatics27=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics27(d,b);};return function(d,b){_extendStatics27(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `RadarSeries` module is used to render the radar series.
 */var RadarSeries=/** @class */function(_super){__extends$26(RadarSeries,_super);function RadarSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render radar Series.
     *
     * @returns {void}
     * @private
     */RadarSeries.prototype.render=function(series,xAxis,yAxis,inverted){var seriesType=firstToLowerCase(series.drawType);var yAxisMin=yAxis.minimum;var yAxisMax=yAxis.maximum;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];point.visible=point.visible&&!(!sf.base.isNullOrUndefined(yAxisMin)&&point.yValue<yAxisMin||!sf.base.isNullOrUndefined(yAxisMax)&&point.yValue>yAxisMax);}if(series.points.length){if(series.drawType.indexOf('Column')===-1){series.chart[seriesType+'SeriesModule'].render(series,xAxis,yAxis,inverted);}else{this.columnDrawTypeRender(series,xAxis,yAxis);}}};// path calculation for isInversed polar area series
RadarSeries.prototype.getRadarIsInversedPath=function(xAxis,endPoint){var chart=this.chart;var x1;var y1;var vector;var radius=chart.radius;var length=xAxis.visibleLabels.length;var direction=endPoint;vector=CoefficientToVector(valueToPolarCoefficient(xAxis.visibleLabels[0].value,xAxis),this.startAngle);y1=this.centerY+radius*vector.y;x1=this.centerX+radius*vector.x;direction+=' L '+x1+' '+y1+' ';for(var i=length-1;i>=0;i--){vector=CoefficientToVector(valueToPolarCoefficient(xAxis.visibleLabels[i].value,xAxis),this.startAngle);y1=this.centerY+radius*vector.y;x1=this.centerX+radius*vector.x;direction+='L '+x1+' '+y1+' ';}return direction;};/**
     * Get module name.
     */RadarSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'RadarSeries';};/**
     * To destroy the radar series.
     *
     * @returns {void}
     * @private
     */RadarSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return RadarSeries;}(PolarSeries);var __extends$27=undefined&&undefined.__extends||function(){var _extendStatics28=function extendStatics(d,b){_extendStatics28=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics28(d,b);};return function(d,b){_extendStatics28(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable prefer-const */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StackingBarSeries` module is used to render the stacking bar series.
 */var StackingBarSeries=/** @class */function(_super){__extends$27(StackingBarSeries,_super);function StackingBarSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the Stacking bar series.
     *
     * @returns {void}
     * @private
     */StackingBarSeries.prototype.render=function(series){var sideBySideInfo=this.getSideBySideInfo(series);var stackedValue=series.stackedValues;var rect;var argsData;for(var _i=0,_a=series.points;_i<_a.length;_i++){var pointStack=_a[_i];pointStack.symbolLocations=[];pointStack.regions=[];if(pointStack.visible&&withInRange(series.points[pointStack.index-1],pointStack,series.points[pointStack.index+1],series)){rect=this.getRectangle(pointStack.xValue+sideBySideInfo.start,stackedValue.endValues[pointStack.index],pointStack.xValue+sideBySideInfo.end,stackedValue.startValues[pointStack.index],series);argsData=this.triggerEvent(series,pointStack,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.drawRectangle(series,pointStack,rect,argsData);this.updateSymbolLocation(pointStack,rect,series);}}}this.renderMarker(series);};/**
     * To destroy the stacking bar.
     *
     * @returns {void}
     * @private
     */StackingBarSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};/**
     * Get module name.
     */StackingBarSeries.prototype.getModuleName=function(){return'StackingBarSeries';};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StackingBarSeries.prototype.doAnimation=function(series){this.animate(series);};return StackingBarSeries;}(ColumnBase);var __extends$28=undefined&&undefined.__extends||function(){var _extendStatics29=function extendStatics(d,b){_extendStatics29=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics29(d,b);};return function(d,b){_extendStatics29(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `CandleSeries` module is used to render the candle series.
 */var CandleSeries=/** @class */function(_super){__extends$28(CandleSeries,_super);function CandleSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Candle series.
     *
     * @returns {void}
     * @private
     */CandleSeries.prototype.render=function(series){var sideBySideInfo=this.getSideBySideInfo(series);var argsData;var borderWidth=Math.max(series.border.width,1);for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];var direction='';var centerRegion=void 0;var tickRegion=void 0;//initializing after zooming and also normal initialization
point.regions=[];point.symbolLocations=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){//region to cover the top and bottom ticks
tickRegion=this.getRectangle(point.xValue+sideBySideInfo.median,Math.max(point.high,point.low),point.xValue+sideBySideInfo.median,Math.min(point.high,point.low),series);if(!series.chart.requireInvertedAxis){tickRegion.x-=borderWidth/2;tickRegion.width=borderWidth;}else{tickRegion.y-=borderWidth/2;tickRegion.height=borderWidth;}//get middleRect
centerRegion=this.getRectangle(point.xValue+sideBySideInfo.start,Math.max(point.open,point.close),point.xValue+sideBySideInfo.end,Math.min(point.open,point.close),series);direction=this.getPathString(tickRegion,centerRegion,series);argsData=this.triggerPointRenderEvent(series,point);if(!argsData.cancel){this.drawCandle(series,point,centerRegion,argsData,direction);this.updateSymbolLocation(point,tickRegion,series);this.updateSymbolLocation(point,centerRegion,series);}}}};/**
     * Trigger point rendering event
     */CandleSeries.prototype.triggerPointRenderEvent=function(series,point){var fill=this.getCandleColor(point,series);var border={color:series.border.color,width:Math.max(series.border.width,1)};return this.triggerEvent(series,point,fill,border);};/**
     * Find the color of the candle
     *
     * @param {Points} point point
     * @param {Series} series series
     * @returns {string} color of the candle
     * @private
     */CandleSeries.prototype.getCandleColor=function(point,series){var previousPoint=series.points[point.index-1];if(series.enableSolidCandles===false){if(!previousPoint){return series.bearFillColor;}else{return previousPoint.close>point.close?series.bullFillColor:series.bearFillColor;}}else{return point.open>point.close?series.bullFillColor:series.bearFillColor;}};/**
     * Finds the path of the candle shape
     *
     * @private
     */CandleSeries.prototype.getPathString=function(topRect,midRect,series){var direction='';var center=series.chart.requireInvertedAxis?topRect.y+topRect.height/2:topRect.x+topRect.width/2;//tick 1 segment
direction+=!series.chart.requireInvertedAxis?'M'+' '+center+' '+topRect.y+' '+'L'+' '+center+' '+midRect.y:'M'+' '+topRect.x+' '+center+' '+'L'+' '+midRect.x+' '+center;direction=direction.concat(' M'+' '+midRect.x+' '+midRect.y+' '+'L'+' '+(midRect.x+midRect.width)+' '+midRect.y+' '+'L'+' '+(midRect.x+midRect.width)+' '+(midRect.y+midRect.height)+' '+'L'+' '+midRect.x+' '+(midRect.y+midRect.height)+' '+'Z');direction+=!series.chart.requireInvertedAxis?' M'+' '+center+' '+(midRect.y+midRect.height)+' '+'L'+' '+center+' '+(topRect.y+topRect.height):' M'+' '+(midRect.x+midRect.width)+' '+center+' '+'L'+' '+(topRect.x+topRect.width)+' '+center;return direction;};/**
     * Draws the candle shape
     *
     * @param {Series} series series
     * @param {Points} point point
     * @param {Rect} rect point region
     * @param {IPointRenderEventArgs} argsData argsData
     * @param {string} direction path direction
     * @returns {void}
     * @private
     */CandleSeries.prototype.drawCandle=function(series,point,rect,argsData,direction){var check=series.chart.requireInvertedAxis?rect.height:rect.width;if(check<=0){return null;}var fill=!series.enableSolidCandles?point.open>point.close?argsData.fill:'transparent':argsData.fill;argsData.border.color=argsData.fill;var options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index,fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction);var element=getElement$1(options.id);var previousDirection=element?element.getAttribute('d'):null;var candleElement=series.chart.renderer.drawPath(options,new Int32Array([series.clipRect.x,series.clipRect.y]));candleElement.setAttribute('aria-label',point.x.toString()+':'+point.high.toString()+':'+point.low.toString()+':'+point.close.toString()+':'+point.open.toString());if(!series.chart.enableCanvas){series.seriesElement.appendChild(candleElement);}pathAnimation(element,direction,series.chart.redraw,previousDirection);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */CandleSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * Get module name.
     */CandleSeries.prototype.getModuleName=function(){return'CandleSeries';/**
         * return the module name
         */};/**
     * To destroy the candle series.
     *
     * @returns {void}
     * @private
     */CandleSeries.prototype.destroy=function(){/**
         * Destroys the candle series.
         */};return CandleSeries;}(ColumnBase);var __extends$29=undefined&&undefined.__extends||function(){var _extendStatics30=function extendStatics(d,b){_extendStatics30=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics30(d,b);};return function(d,b){_extendStatics30(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StackingColumnSeries` module used to render the stacking column series.
 */var StackingColumnSeries=/** @class */function(_super){__extends$29(StackingColumnSeries,_super);function StackingColumnSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the Stacking column series.
     *
     * @returns {void}
     * @private
     */StackingColumnSeries.prototype.render=function(series){series.isRectSeries=true;var sideBySideInfo=this.getSideBySideInfo(series);var rect;var argsData;var stackedValue=series.stackedValues;var visiblePoints=getVisiblePoints(series);for(var _i=0,visiblePoints_1=visiblePoints;_i<visiblePoints_1.length;_i++){var point=visiblePoints_1[_i];point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){rect=this.getRectangle(point.xValue+sideBySideInfo.start,stackedValue.endValues[point.index],point.xValue+sideBySideInfo.end,stackedValue.startValues[point.index],series);argsData=this.triggerEvent(series,point,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.drawRectangle(series,point,rect,argsData);this.updateSymbolLocation(point,rect,series);}}}this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StackingColumnSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * To destroy the stacking column.
     *
     * @returns {void}
     * @private
     */StackingColumnSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};/**
     * Get module name.
     */StackingColumnSeries.prototype.getModuleName=function(){return'StackingColumnSeries';};return StackingColumnSeries;}(ColumnBase);var __extends$30=undefined&&undefined.__extends||function(){var _extendStatics31=function extendStatics(d,b){_extendStatics31=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics31(d,b);};return function(d,b){_extendStatics31(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StepLineSeries` module is used to render the step line series.
 */var StepLineSeries=/** @class */function(_super){__extends$30(StepLineSeries,_super);function StepLineSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the Step line series.
     *
     * @returns {void}
     * @private
     */StepLineSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var direction='';var startPoint='M';var prevPoint=null;var lineLength;var point1;var point2;var visiblePoints=this.enableComplexProperty(series);if(xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'){lineLength=0.5;}else{lineLength=0;}for(var _i=0,visiblePoints_1=visiblePoints;_i<visiblePoints_1.length;_i++){var point=visiblePoints_1[_i];point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){if(prevPoint!=null){point2=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);point1=getPoint(prevPoint.xValue,prevPoint.yValue,xAxis,yAxis,isInverted);direction=direction.concat(startPoint+' '+point1.x+' '+point1.y+' '+'L'+' '+point2.x+' '+point1.y+' L'+' '+point2.x+' '+point2.y+' ');startPoint='L';}else{point1=getPoint(point.xValue-lineLength,point.yValue,xAxis,yAxis,isInverted);direction=direction.concat(startPoint+' '+point1.x+' '+point1.y+' ');startPoint='L';}this.storePointLocation(point,series,isInverted,getPoint);prevPoint=point;}else{prevPoint=series.emptyPointSettings.mode==='Drop'?prevPoint:null;startPoint=series.emptyPointSettings.mode==='Drop'?startPoint:'M';}}if(visiblePoints.length>0){point1=getPoint(visiblePoints[visiblePoints.length-1].xValue+lineLength,visiblePoints[visiblePoints.length-1].yValue,xAxis,yAxis,isInverted);direction=direction.concat(startPoint+' '+point1.x+' '+point1.y+' ');}var pathOptions=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,'transparent',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(pathOptions,series,'');this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StepLineSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};/**
     * To destroy the step line series.
     *
     * @returns {void}
     * @private
     */StepLineSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name.
     */StepLineSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'StepLineSeries';};return StepLineSeries;}(LineBase);var __extends$31=undefined&&undefined.__extends||function(){var _extendStatics32=function extendStatics(d,b){_extendStatics32=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics32(d,b);};return function(d,b){_extendStatics32(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StepAreaSeries` Module used to render the step area series.
 */var StepAreaSeries=/** @class */function(_super){__extends$31(StepAreaSeries,_super);function StepAreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render StepArea series.
     *
     * @returns {void}
     * @private
     */StepAreaSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var currentPoint;var secondPoint;var start=null;var direction='';var visiblePoints=this.enableComplexProperty(series);var pointsLength=visiblePoints.length;var origin=Math.max(series.yAxis.visibleRange.min,0);var point;var xValue;var lineLength;var prevPoint=null;if(xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'){lineLength=0.5;}else{lineLength=0;}for(var i=0;i<pointsLength;i++){point=visiblePoints[i];xValue=point.xValue;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[i-1],point,visiblePoints[i+1],series)){if(start===null){start=new ChartLocation(xValue,0);// Start point for the current path
currentPoint=getPoint(xValue-lineLength,origin,xAxis,yAxis,isInverted);direction+='M'+' '+currentPoint.x+' '+currentPoint.y+' ';currentPoint=getPoint(xValue-lineLength,point.yValue,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+currentPoint.y+' ';}// First Point to draw the Steparea path
if(prevPoint!=null){currentPoint=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);secondPoint=getPoint(prevPoint.xValue,prevPoint.yValue,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+secondPoint.y+' L'+' '+currentPoint.x+' '+currentPoint.y+' ';}else if(series.emptyPointSettings.mode==='Gap'){currentPoint=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+currentPoint.y+' ';}this.storePointLocation(point,series,isInverted,getPoint);prevPoint=point;}if(visiblePoints[i+1]&&!visiblePoints[i+1].visible&&series.emptyPointSettings.mode!=='Drop'){// current start point
currentPoint=getPoint(xValue+lineLength,origin,xAxis,yAxis,isInverted);direction+='L'+' '+currentPoint.x+' '+currentPoint.y;start=null;prevPoint=null;}}if(pointsLength>1&&direction!==''){start={'x':visiblePoints[pointsLength-1].xValue+lineLength,'y':visiblePoints[pointsLength-1].yValue};secondPoint=getPoint(start.x,start.y,xAxis,yAxis,isInverted);direction+='L'+' '+secondPoint.x+' '+secondPoint.y+' ';start={'x':visiblePoints[pointsLength-1].xValue+lineLength,'y':origin};secondPoint=getPoint(start.x,start.y,xAxis,yAxis,isInverted);direction+='L'+' '+secondPoint.x+' '+secondPoint.y+' ';}else{direction='';}var options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StepAreaSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};/**
     * To destroy the step Area series.
     *
     * @returns {void}
     * @private
     */StepAreaSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name.
     */StepAreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'StepAreaSeries';};return StepAreaSeries;}(LineBase);var __extends$32=undefined&&undefined.__extends||function(){var _extendStatics33=function extendStatics(d,b){_extendStatics33=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics33(d,b);};return function(d,b){_extendStatics33(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StackingAreaSeries` module used to render the Stacking Area series.
 */var StackingAreaSeries=/** @class */function(_super){__extends$32(StackingAreaSeries,_super);function StackingAreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the Stacking area series.
     *
     * @returns {void}
     * @private
     */StackingAreaSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var polarAreaType=series.chart.chartAreaType==='PolarRadar';var getCoordinate=polarAreaType?TransformToVisible:getPoint;var lineDirection='';var visiblePoints=this.enableComplexProperty(series);var pointsLength=visiblePoints.length;var stackedvalue=series.stackedValues;var origin=polarAreaType?Math.max(series.yAxis.visibleRange.min,stackedvalue.endValues[0]):Math.max(series.yAxis.visibleRange.min,stackedvalue.startValues[0]);var startPoint=0;var point1;var point2;if(pointsLength>0){point1=getCoordinate(visiblePoints[0].xValue,origin,xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('M'+' '+point1.x+' '+point1.y+' ');}var isPolar=series.chart&&series.chart.chartAreaType==='PolarRadar';for(var i=0;i<pointsLength;i++){visiblePoints[i].symbolLocations=[];visiblePoints[i].regions=[];if(visiblePoints[i].visible&&withInRange(visiblePoints[i-1],visiblePoints[i],visiblePoints[i+1],series)){point1=getCoordinate(visiblePoints[i].xValue,stackedvalue.endValues[i],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('L'+' '+point1.x+' '+point1.y+' ');visiblePoints[i].symbolLocations.push(getCoordinate(visiblePoints[i].xValue,stackedvalue.endValues[i],xAxis,yAxis,isInverted,series));visiblePoints[i].regions.push(new sf.svgbase.Rect(visiblePoints[i].symbolLocations[0].x-series.marker.width,visiblePoints[i].symbolLocations[0].y-series.marker.height,2*series.marker.width,2*series.marker.height));}else{if(!isPolar&&series.emptyPointSettings.mode!=='Drop'){for(var j=i-1;j>=startPoint;j--){point2=getCoordinate(visiblePoints[j].xValue,stackedvalue.startValues[j],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('L'+' '+point2.x+' '+point2.y+' ');}if(visiblePoints[i+1]&&visiblePoints[i+1].visible&&(!isPolar||isPolar&&this.withinYRange(visiblePoints[i+1],yAxis))){point1=getCoordinate(visiblePoints[i+1].xValue,stackedvalue.startValues[i+1],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat('M'+' '+point1.x+' '+point1.y+' ');}startPoint=i+1;}}}if(series.chart.chartAreaType==='PolarRadar'&&visiblePoints.length>1){var connectPoints=this.getFirstLastVisiblePoint(series.points);var chart=this.chart;point1={'x':connectPoints.first.xValue,'y':stackedvalue.endValues[connectPoints.first.index]};point2=getCoordinate(point1.x,point1.y,xAxis,yAxis,isInverted,series);lineDirection+='L'+' '+point2.x+' '+point2.y+' ';if(this.chart.visible===1&&(xAxis.isInversed||yAxis.isInversed)){this.chart.enableAnimation=false;lineDirection=series.type==='Polar'?chart.polarSeriesModule.getPolarIsInversedPath(xAxis,lineDirection):chart.radarSeriesModule.getRadarIsInversedPath(xAxis,lineDirection);}}if(!isPolar||isPolar&&series.index!==this.getFirstSeriesIndex(series.chart.visibleSeries)){for(var j=pointsLength-1;j>=startPoint;j--){if(isPolar&&!visiblePoints[j].visible){continue;}var previousSeries=this.getPreviousSeries(series);if(previousSeries.emptyPointSettings.mode!=='Drop'||!previousSeries.points[j].isEmpty){point2=getCoordinate(visiblePoints[j].xValue,stackedvalue.startValues[j],xAxis,yAxis,isInverted,series);lineDirection=lineDirection.concat((j===pointsLength-1&&polarAreaType?'M':'L')+' '+point2.x+' '+point2.y+' ');}}}var options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,lineDirection);this.appendLinePath(options,series,'');this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StackingAreaSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};/**
     * To destroy the stacking area.
     *
     * @returns {void}
     * @private
     */StackingAreaSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name.
     */StackingAreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'StackingAreaSeries';};/**
     * To find previous visible series
     */StackingAreaSeries.prototype.getPreviousSeries=function(series){var seriesCollection=series.chart.visibleSeries;for(var i=0,length_1=seriesCollection.length;i<length_1;i++){if(series.index===seriesCollection[i].index&&i!==0){return seriesCollection[i-1];}}return seriesCollection[0];};/**
     * To find the first visible series index
     *
     * @param {Series[]} seriesCollection first visible series index
     */StackingAreaSeries.prototype.getFirstSeriesIndex=function(seriesCollection){for(var _i=0,seriesCollection_1=seriesCollection;_i<seriesCollection_1.length;_i++){var series=seriesCollection_1[_i];if(series.visible){return series.index;}}return 0;};return StackingAreaSeries;}(LineBase);var __extends$33=undefined&&undefined.__extends||function(){var _extendStatics34=function extendStatics(d,b){_extendStatics34=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics34(d,b);};return function(d,b){_extendStatics34(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StackingStepAreaSeries` module used to render the Stacking Step Area series.
 */var StackingStepAreaSeries=/** @class */function(_super){__extends$33(StackingStepAreaSeries,_super);function StackingStepAreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the Stacking step area series.
     *
     * @returns {void}
     * @private
     */StackingStepAreaSeries.prototype.render=function(stackSeries,xAxis,yAxis,isInverted){var currentPointLocation;var secondPoint;var start=null;var direction='';var stackedvalue=stackSeries.stackedValues;var visiblePoint=this.enableComplexProperty(stackSeries);var origin=Math.max(stackSeries.yAxis.visibleRange.min,stackedvalue.startValues[0]);var pointsLength=visiblePoint.length;var options;var point;var point2;var point3;var xValue;var lineLength;var prevPoint=null;var validIndex;var startPoint=0;var pointIndex;if(xAxis.valueType==='Category'&&xAxis.labelPlacement==='BetweenTicks'){lineLength=0.5;}else{lineLength=0;}for(var i=0;i<pointsLength;i++){point=visiblePoint[i];xValue=point.xValue;point.symbolLocations=[];point.regions=[];pointIndex=point.index;if(point.visible&&withInRange(visiblePoint[i-1],point,visiblePoint[i+1],stackSeries)){if(start===null){start=new ChartLocation(xValue,0);currentPointLocation=getPoint(xValue-lineLength,origin,xAxis,yAxis,isInverted);direction+='M'+' '+currentPointLocation.x+' '+currentPointLocation.y+' ';currentPointLocation=getPoint(xValue-lineLength,stackedvalue.endValues[pointIndex],xAxis,yAxis,isInverted);direction+='L'+' '+currentPointLocation.x+' '+currentPointLocation.y+' ';}if(prevPoint!=null){currentPointLocation=getPoint(point.xValue,stackedvalue.endValues[pointIndex],xAxis,yAxis,isInverted);secondPoint=getPoint(prevPoint.xValue,stackedvalue.endValues[prevPoint.index],xAxis,yAxis,isInverted);direction+='L'+' '+currentPointLocation.x+' '+secondPoint.y+' L'+' '+currentPointLocation.x+' '+currentPointLocation.y+' ';}else if(stackSeries.emptyPointSettings.mode==='Gap'){currentPointLocation=getPoint(point.xValue,stackedvalue.endValues[pointIndex],xAxis,yAxis,isInverted);direction+='L'+' '+currentPointLocation.x+' '+currentPointLocation.y+' ';}visiblePoint[i].symbolLocations.push(getPoint(visiblePoint[i].xValue,stackedvalue.endValues[pointIndex],xAxis,yAxis,isInverted));visiblePoint[i].regions.push(new sf.svgbase.Rect(visiblePoint[i].symbolLocations[0].x-stackSeries.marker.width,visiblePoint[i].symbolLocations[0].y-stackSeries.marker.height,2*stackSeries.marker.width,2*stackSeries.marker.height));prevPoint=point;}// If we set the empty point mode is Gap or next point of the current point is false, we will close the series path.
if(visiblePoint[i+1]&&!visiblePoint[i+1].visible&&stackSeries.emptyPointSettings.mode!=='Drop'){var previousPointIndex=void 0;for(var j=i;j>=startPoint;j--){pointIndex=visiblePoint[j].index;previousPointIndex=j===0?0:visiblePoint[j-1].index;if(j!==0&&(stackedvalue.startValues[pointIndex]<stackedvalue.startValues[previousPointIndex]||stackedvalue.startValues[pointIndex]>stackedvalue.startValues[previousPointIndex])){currentPointLocation=getPoint(visiblePoint[pointIndex].xValue,stackedvalue.startValues[pointIndex],xAxis,yAxis,isInverted);direction=direction.concat('L'+' '+currentPointLocation.x+' '+currentPointLocation.y+' ');currentPointLocation=getPoint(visiblePoint[pointIndex].xValue,stackedvalue.startValues[previousPointIndex],xAxis,yAxis,isInverted);}else{currentPointLocation=getPoint(visiblePoint[pointIndex].xValue,stackedvalue.startValues[pointIndex],xAxis,yAxis,isInverted);}direction=direction.concat('L'+' '+currentPointLocation.x+' '+currentPointLocation.y+' ');}startPoint=i+1;start=null;prevPoint=null;}}if(direction!==''){// For category axis
if(pointsLength>1){pointIndex=visiblePoint[pointsLength-1].index;start={'x':visiblePoint[pointsLength-1].xValue+lineLength,'y':stackedvalue.endValues[pointIndex]};secondPoint=getPoint(start.x,start.y,xAxis,yAxis,isInverted);direction+='L'+' '+secondPoint.x+' '+secondPoint.y+' ';start={'x':visiblePoint[pointsLength-1].xValue+lineLength,'y':stackedvalue.startValues[pointIndex]};secondPoint=getPoint(start.x,start.y,xAxis,yAxis,isInverted);direction+='L'+' '+secondPoint.x+' '+secondPoint.y+' ';}// To close the stacked step area series path in reverse order
for(var j=pointsLength-1;j>=startPoint;j--){var index=void 0;if(visiblePoint[j].visible){pointIndex=visiblePoint[j].index;point2=getPoint(visiblePoint[j].xValue,stackedvalue.startValues[pointIndex],xAxis,yAxis,isInverted);direction=direction.concat('L'+' '+point2.x+' '+point2.y+' ');}if(j!==0&&!visiblePoint[j-1].visible){index=this.getNextVisiblePointIndex(visiblePoint,j);}if(j!==0){validIndex=index?index:j-1;pointIndex=index?visiblePoint[index].index:visiblePoint[j-1].index;point3=getPoint(visiblePoint[validIndex].xValue,stackedvalue.startValues[pointIndex],xAxis,yAxis,isInverted);direction=direction.concat('L'+' '+point2.x+' '+point3.y+' ');}}options=new sf.svgbase.PathOption(stackSeries.chart.element.id+'_Series_'+stackSeries.index,stackSeries.interior,stackSeries.border.width,stackSeries.border.color,stackSeries.opacity,stackSeries.dashArray,direction);this.appendLinePath(options,stackSeries,'');this.renderMarker(stackSeries);}};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StackingStepAreaSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};/**
     * To destroy the stacking step area.
     *
     * @returns {void}
     * @private
     */StackingStepAreaSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name.
     */StackingStepAreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'StackingStepAreaSeries';};/**
     * To get the nearest visible point
     *
     * @param {Points[]} points points
     * @param {number} j index
     */StackingStepAreaSeries.prototype.getNextVisiblePointIndex=function(points,j){var index;for(index=j-1;index>=0;index--){if(!points[index].visible){continue;}else{return index;}}return 0;};return StackingStepAreaSeries;}(LineBase);var __extends$34=undefined&&undefined.__extends||function(){var _extendStatics35=function extendStatics(d,b){_extendStatics35=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics35(d,b);};return function(d,b){_extendStatics35(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StackingLineSeries` module used to render the Stacking Line series.
 */var StackingLineSeries=/** @class */function(_super){__extends$34(StackingLineSeries,_super);function StackingLineSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the Stacking line series.
     *
     * @returns {void}
     * @private
     */StackingLineSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var polarType=series.chart.chartAreaType==='PolarRadar';var getCoordinate=polarType?TransformToVisible:getPoint;var direction='';var visiblePts=this.enableComplexProperty(series);var pointsLength=visiblePts.length;var stackedvalue=series.stackedValues;var point1;var point2;for(var i=0;i<pointsLength;i++){visiblePts[i].regions=[];visiblePts[i].symbolLocations=[];if(visiblePts[i].visible&&withInRange(visiblePts[i-1],visiblePts[i],visiblePts[i+1],series)){point1=getCoordinate(visiblePts[i].xValue,stackedvalue.endValues[i],xAxis,yAxis,isInverted,series);direction=direction.concat((i?'L':'M')+' '+point1.x+' '+point1.y+' ');visiblePts[i].symbolLocations.push(getCoordinate(visiblePts[i].xValue,stackedvalue.endValues[i],xAxis,yAxis,isInverted,series));visiblePts[i].regions.push(new sf.svgbase.Rect(visiblePts[i].symbolLocations[0].x-series.marker.width,visiblePts[i].symbolLocations[0].y-series.marker.height,2*series.marker.width,2*series.marker.height));}else{if(series.emptyPointSettings.mode!=='Drop'){if(visiblePts[i+1]&&visiblePts[i+1].visible){point1=getCoordinate(visiblePts[i+1].xValue,stackedvalue.endValues[i+1],xAxis,yAxis,isInverted,series);direction=direction.concat('M'+' '+point1.x+' '+point1.y+' ');}}}}if(series.chart.chartAreaType==='PolarRadar'&&visiblePts.length>1){point1={'y':stackedvalue.endValues[0],'x':series.points[0].xValue};point2=getCoordinate(point1.x,point1.y,xAxis,yAxis,isInverted,series);direction+='L'+' '+point2.x+' '+point2.y+' ';}var options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,'none',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */StackingLineSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};/**
     * To destroy the stacking line.
     *
     * @returns {void}
     * @private
     */StackingLineSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name.
     */StackingLineSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'StackingLineSeries';};return StackingLineSeries;}(LineBase);/* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /**
 * `ScatterSeries` module is used to render the scatter series.
 */var ScatterSeries=/** @class */function(){function ScatterSeries(){}/**
     * Render the scatter series.
     *
     * @returns {void}
     * @private
     */ScatterSeries.prototype.render=function(series,xAxis,yAxis,isInverted){// Scatter series DataLabel is not rendered after selecting StackingColumn
series.isRectSeries=false;var marker=series.marker;var visiblePoints=this.enableComplexProperty(series);var argsData;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var startLocation;var redraw=series.chart.redraw;for(var _i=0,visiblePoints_1=visiblePoints;_i<visiblePoints_1.length;_i++){var point=visiblePoints_1[_i];startLocation=redraw&&point.symbolLocations?point.symbolLocations[0]:null;point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){argsData={cancel:false,name:pointRender,series:series,point:point,fill:series.setPointColor(point,series.interior),border:series.setBorderColor(point,{width:series.border.width,color:series.border.color}),height:marker.height,width:marker.width,shape:marker.shape};series.chart.trigger(pointRender,argsData);if(!argsData.cancel){point.symbolLocations.push(getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series));point.color=argsData.fill;this.refresh(series,point,argsData,startLocation);}else{point.marker={visible:true};}}}};/**
     * To improve the chart performance.
     *
     * @returns {void}
     * @private
     */ScatterSeries.prototype.enableComplexProperty=function(series){var tempPoints2=[];var tempPoints=[];var yVisibleRange=series.yAxis.visibleRange;var xVisibleRange=series.xAxis.visibleRange;var areaBounds=series.clipRect;var seriesPoints=series.points;var yTolerance=Math.abs(yVisibleRange.delta/areaBounds.height);var xTolerance=Math.abs(xVisibleRange.delta/areaBounds.width);var prevYValue=seriesPoints[0]&&seriesPoints[0].y>yTolerance?0:yTolerance;var prevXValue=seriesPoints[0]&&seriesPoints[0].x>xTolerance?0:xTolerance;var yVal=0;var xVal=0;for(var _i=0,seriesPoints_1=seriesPoints;_i<seriesPoints_1.length;_i++){var currentPoint=seriesPoints_1[_i];currentPoint.symbolLocations=[];yVal=currentPoint.yValue?currentPoint.yValue:yVisibleRange.min;xVal=currentPoint.xValue?currentPoint.xValue:xVisibleRange.min;if(Math.abs(prevYValue-yVal)>=yTolerance||Math.abs(prevXValue-xVal)>=xTolerance){tempPoints.push(currentPoint);prevYValue=yVal;prevXValue=xVal;}}var currentTempPoint;for(var i=0;i<tempPoints.length;i++){currentTempPoint=tempPoints[i];if(sf.base.isNullOrUndefined(currentTempPoint.x)||currentTempPoint.x===''){continue;}else{tempPoints2.push(currentTempPoint);}}return tempPoints2;};/**
     * To append scatter element
     *
     * @param {Series} series series
     * @param {Points} point point
     * @param {IPointRenderEventArgs} argsData argsData
     * @param {ChartLocation} startLocation startLocation
     * @returns {void}
     */ScatterSeries.prototype.refresh=function(series,point,argsData,startLocation){var chart=series.chart;var circlePath;var previousPath;var marker=series.marker;var shapeOption=new sf.svgbase.PathOption(chart.element.id+'_Series_'+series.index+'_Point_'+point.index,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,null);if(chart.redraw&&getElement$1(shapeOption.id)){circlePath=argsData.shape==='Circle'?'c':'';previousPath=getElement$1(shapeOption.id).getAttribute('d');}appendChildElement(false,series.seriesElement,drawSymbol(point.symbolLocations[0],argsData.shape,new sf.svgbase.Size(argsData.width,argsData.height),marker.imageUrl,shapeOption,point.x.toString()+':'+point.yValue.toString(),series.chart.svgRenderer,series.clipRect),chart.redraw,true,circlePath+'x',circlePath+'y',startLocation,previousPath);point.regions.push(new sf.svgbase.Rect(point.symbolLocations[0].x-marker.width,point.symbolLocations[0].y-marker.height,2*marker.width,2*marker.height));point.marker={border:argsData.border,fill:argsData.fill,height:argsData.height,visible:true,width:argsData.width,shape:argsData.shape};};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */ScatterSeries.prototype.doAnimation=function(series){var duration=series.animation.duration;var delay=series.animation.delay;var rectElements=series.seriesElement.childNodes;var count=1;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(!point.symbolLocations.length||!rectElements[count]){continue;}markerAnimate(rectElements[count],delay,duration,series,point.index,point.symbolLocations[0],false);count++;}};/**
     * Get module name.
     */ScatterSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'ScatterSeries';};/**
     * To destroy the scatter.
     *
     * @returns {void}
     */ScatterSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};return ScatterSeries;}();var __extends$35=undefined&&undefined.__extends||function(){var _extendStatics36=function extendStatics(d,b){_extendStatics36=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics36(d,b);};return function(d,b){_extendStatics36(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /**
 * `RangeColumnSeries` module is used to render the range column series.
 */var RangeColumnSeries=/** @class */function(_super){__extends$35(RangeColumnSeries,_super);function RangeColumnSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Range Column series.
     *
     * @returns {void}
     * @private
     */RangeColumnSeries.prototype.render=function(series){var rect;var sideBySideInfo=this.getSideBySideInfo(series);//let origin: number = Math.max(<number>series.yAxis.visibleRange.min, 0);
var argsData;for(var _i=0,_a=series.points;_i<_a.length;_i++){var rangePoint=_a[_i];rangePoint.symbolLocations=[];rangePoint.regions=[];if(rangePoint.visible&&withInRange(series.points[rangePoint.index-1],rangePoint,series.points[rangePoint.index+1],series)){rect=this.getRectangle(rangePoint.xValue+sideBySideInfo.start,rangePoint.high,rangePoint.xValue+sideBySideInfo.end,rangePoint.low,series);argsData=this.triggerEvent(series,rangePoint,series.interior,{width:series.border.width,color:series.border.color});if(!argsData.cancel){this.updateSymbolLocation(rangePoint,rect,series);this.drawRectangle(series,rangePoint,rect,argsData);}}}this.renderMarker(series);};/**
     * Get module name.
     */RangeColumnSeries.prototype.getModuleName=function(){return'RangeColumnSeries';/**
         * return the module name
         */};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */RangeColumnSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * To destroy the range column series.
     *
     * @returns {void}
     * @private
     */RangeColumnSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return RangeColumnSeries;}(ColumnBase);var __extends$36=undefined&&undefined.__extends||function(){var _extendStatics37=function extendStatics(d,b){_extendStatics37=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics37(d,b);};return function(d,b){_extendStatics37(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * `WaterfallSeries` module is used to render the waterfall series.
 */var WaterfallSeries=/** @class */function(_super){__extends$36(WaterfallSeries,_super);function WaterfallSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render waterfall series.
     *
     * @returns {void}
     * @private
     */WaterfallSeries.prototype.render=function(series){var rect;var sideBySideInfo=this.getSideBySideInfo(series);var origin=Math.max(series.yAxis.visibleRange.min,0);var argsData;var prevEndValue=0;var direction='';var currentEndValue=0;var originValue;var prevRegion=null;var y;var isInversed=series.chart.requireInvertedAxis;var intermediateOrigin=0;var redraw=series.chart.redraw;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){//Calcute the current point value to render waterfall series.
var isSum=this.isIntermediateSum(series,point.index);var totalSum=this.isSumIndex(series,point.index);currentEndValue+=isSum||totalSum===true?0:point.yValue;//Calcute the origin value for points
originValue=isSum===true?intermediateOrigin:prevEndValue!==null&&!totalSum?prevEndValue:origin;rect=this.getRectangle(point.xValue+sideBySideInfo.start,currentEndValue,point.xValue+sideBySideInfo.end,originValue,series);argsData=this.triggerPointRenderEvent(series,point);//intermediateOrigin is used only for imtermediate data
if(isSum){intermediateOrigin=currentEndValue;}prevEndValue=currentEndValue;if(!argsData.cancel){this.updateSymbolLocation(point,rect,series);this.drawRectangle(series,point,rect,argsData);}var currentRegion=point.regions[0];if(prevRegion!==null){var prevLeft=isInversed?prevRegion.x:prevRegion.y;var currentLeft=isInversed?currentRegion.x:currentRegion.y;var prevBottom=void 0;var currentBottom=void 0;var currentYValue=currentRegion.y;var currentXValue=currentRegion.x;var beforePoint=series.points[point.index-1];if(point.yValue===0){prevBottom=isInversed?prevRegion.x+prevRegion.width:prevRegion.y+prevRegion.height;currentBottom=isInversed?point.symbolLocations[0].x:point.symbolLocations[0].y;}else{prevBottom=isInversed?beforePoint.yValue===0?beforePoint.symbolLocations[0].x:prevRegion.x+prevRegion.width:beforePoint.yValue===0?beforePoint.symbolLocations[0].y:prevRegion.y+prevRegion.height;currentBottom=isInversed?currentRegion.x+currentRegion.width:currentRegion.y+currentRegion.height;}if(Math.round(prevLeft)===Math.round(currentLeft)||Math.round(prevBottom)===Math.round(currentLeft)){y=isInversed?currentRegion.x===0&&prevRegion.x===0?currentBottom:currentRegion.x:currentRegion.y;y=point.yValue===0?isInversed?point.symbolLocations[0].x:point.symbolLocations[0].y:y;}else{y=currentBottom;}if(isInversed){if(beforePoint.yValue===0){prevRegion.y=prevRegion.y+prevRegion.height/2+rect.height/2-prevRegion.height;}if(point.yValue===0){currentYValue=currentRegion.y+currentRegion.height/2-rect.height/2;}direction=direction.concat('M'+' '+y+' '+(prevRegion.y+prevRegion.height)+' '+'L'+' '+y+' '+currentYValue+' ');}else{if(beforePoint.yValue===0){prevRegion.x=prevRegion.x+prevRegion.width/2-rect.width/2;currentXValue=currentRegion.x+currentRegion.width/2+rect.width/2-currentRegion.width;}direction=direction.concat('M'+' '+prevRegion.x+' '+y+' '+'L'+' '+(currentXValue+currentRegion.width)+' '+y+' ');}}prevRegion=point.regions[0];}}var options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_Connector_','none',series.connector.width,series.connector.color,series.opacity,series.connector.dashArray,direction);if(redraw&&getElement$1(options.id)){direction=getElement$1(options.id).getAttribute('d');}var element=redrawElement(redraw,options.id,options,series.chart.renderer)||series.chart.renderer.drawPath(options,new Int32Array([series.clipRect.x,series.clipRect.y]));element.style.visibility=!series.chart.enableCanvas?series.animation.enable&&series.chart.animateSeries?'hidden':'visible':null;appendChildElement(series.chart.enableCanvas,series.seriesElement,element,redraw,true,null,null,null,direction);this.renderMarker(series);};/**
     * To check intermediateSumIndex in waterfall series.
     *
     * @returns {boolean} check intermediateSumIndex
     * @private
     */WaterfallSeries.prototype.isIntermediateSum=function(series,index){if(series.intermediateSumIndexes!==undefined&&series.intermediateSumIndexes.indexOf(index)!==-1){return true;}return false;};/**
     * To check sumIndex in waterfall series.
     *
     * @returns {boolean} check sumIndex
     * @private
     */WaterfallSeries.prototype.isSumIndex=function(series,index){if(series.sumIndexes!==undefined&&series.sumIndexes.indexOf(index)!==-1){return true;}return false;};/**
     * To trigger the point rendering event for waterfall series.
     *
     * @returns {IPointRenderEventArgs} point rendering event values
     * @private
     */WaterfallSeries.prototype.triggerPointRenderEvent=function(series,point){var color;var isSum=this.isIntermediateSum(series,point.index);var totalSum=this.isSumIndex(series,point.index);if(isSum||totalSum){color=series.summaryFillColor;}else if(point.y<0){color=series.negativeFillColor;}else{color=series.interior;}return this.triggerEvent(series,point,color,{color:series.border.color,width:series.border.width});};/**
     * Add sumIndex and intermediateSumIndex data.
     *
     * @returns {object[]} data
     * @private
     */WaterfallSeries.prototype.processInternalData=function(json,series){var data=json;var index;var intermediateSum=series.intermediateSumIndexes;var sumIndex=series.sumIndexes;if(intermediateSum!==undefined&&intermediateSum.length>0){for(var i=0;i<intermediateSum.length;i++){for(var j=0;j<data.length;j++){if(j===intermediateSum[i]){if(i===0){index=subArraySum(data,-1,intermediateSum[i],null,series);}else{index=subArraySum(data,intermediateSum[i-1],intermediateSum[i],null,series);}data[j][series.yName]=index;}}}}if(sumIndex!==undefined&&sumIndex.length>0){for(var k=0;k<sumIndex.length;k++){for(var j=0;j<data.length;j++){if(j===sumIndex[k]){if(intermediateSum!==undefined){index=subArraySum(data,intermediateSum[k]-1,sumIndex[k],sumIndex,series);}else{index=subArraySum(data,-1,sumIndex[k],null,series);}data[j][series.yName]=index;}}}}return data;};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */WaterfallSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * Get module name.
     */WaterfallSeries.prototype.getModuleName=function(){return'WaterfallSeries';/**
         * return the module name
         */};/**
     * To destroy the waterfall series.
     *
     * @returns {void}
     * @private
     */WaterfallSeries.prototype.destroy=function(){/**
         * Destroys the waterfall series.
         */};return WaterfallSeries;}(ColumnBase);var __extends$37=undefined&&undefined.__extends||function(){var _extendStatics38=function extendStatics(d,b){_extendStatics38=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics38(d,b);};return function(d,b){_extendStatics38(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `HiloSeries` module is used to render the hilo series.
 */var HiloSeries=/** @class */function(_super){__extends$37(HiloSeries,_super);function HiloSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Hiloseries.
     *
     * @returns {void}
     * @private
     */HiloSeries.prototype.render=function(series){var region;var sideBySideInfo=this.getSideBySideInfo(series);var argsData;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){region=this.getRectangle(point.xValue+sideBySideInfo.median,point.high,point.xValue+sideBySideInfo.median,point.low,series);argsData=this.triggerPointRenderEvent(series,point);if(!argsData.cancel){if(!series.chart.requireInvertedAxis){region.width=argsData.border.width;region.x=region.x-region.width/2;}else{region.height=argsData.border.width;region.y=region.y-region.height/2;}argsData.border.width=0;this.updateSymbolLocation(point,region,series);this.drawRectangle(series,point,region,argsData);}}}};/**
     * To trigger the point rendering event.
     *
     * @returns {void}
     * @private
     */HiloSeries.prototype.triggerPointRenderEvent=function(series,point){var border={color:series.fill,width:Math.max(series.border.width,2)};return _super.prototype.triggerEvent.call(this,series,point,series.interior,border);};/**
     * Get module name.
     */HiloSeries.prototype.getModuleName=function(){return'HiloSeries';/**
         * return the module name
         */};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */HiloSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * To destroy the Hilo series.
     *
     * @returns {void}
     * @private
     */HiloSeries.prototype.destroy=function(){/**
         * Destroys the Hilo Series
         */};return HiloSeries;}(ColumnBase);var __extends$38=undefined&&undefined.__extends||function(){var _extendStatics39=function extendStatics(d,b){_extendStatics39=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics39(d,b);};return function(d,b){_extendStatics39(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `HiloOpenCloseSeries` module is used to render the hiloOpenClose series.
 */var HiloOpenCloseSeries=/** @class */function(_super){__extends$38(HiloOpenCloseSeries,_super);function HiloOpenCloseSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render HiloOpenCloseSeries series.
     *
     * @returns {void}
     * @private
     */HiloOpenCloseSeries.prototype.render=function(series){var highLowRect;var index1;var index2;var sideBySideInfo=this.getSideBySideInfo(series);var argsData;var borderWidth=Math.max(series.border.width,2);for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){//highlow
highLowRect=this.getRectangle(point.xValue+sideBySideInfo.start,Math.max(point.high,point.low),point.xValue+sideBySideInfo.end,Math.min(point.high,point.low),series);point.regions.push(this.getRectangle(point.xValue+sideBySideInfo.median,Math.max(point.high,point.low),point.xValue+sideBySideInfo.median,Math.min(point.high,point.low),series));this.updateTickRegion(!series.chart.requireInvertedAxis,point.regions[0],borderWidth);//open
point.regions.push(this.getRectangle(point.xValue+sideBySideInfo.start,Math.max(point.open,point.close),point.xValue+sideBySideInfo.median,Math.max(point.open,point.close),series));//close
point.regions.push(this.getRectangle(point.xValue+sideBySideInfo.median,Math.min(point.open,point.close),point.xValue+sideBySideInfo.end,Math.min(point.open,point.close),series));argsData=this.triggerPointRenderEvent(series,point);if(!argsData.cancel){this.updateSymbolLocation(point,point.regions[0],series);index1=point.open>point.close?1:2;index2=point.open>point.close?2:1;var open_1={x:point.regions[index1].x,y:point.regions[index1].y};var close_1={x:point.regions[index2].x,y:point.regions[index2].y};this.drawHiloOpenClosePath(series,point,open_1,close_1,highLowRect,argsData);}this.updateTickRegion(series.chart.requireInvertedAxis,point.regions[1],borderWidth);this.updateTickRegion(series.chart.requireInvertedAxis,point.regions[2],borderWidth);}}};/**
     * Updates the tick region
     */HiloOpenCloseSeries.prototype.updateTickRegion=function(horizontal,region,borderWidth){if(horizontal){region.x-=borderWidth/2;region.width=borderWidth;}else{region.y-=borderWidth/2;region.height=borderWidth;}};/**
     * Trigger point rendering event
     */HiloOpenCloseSeries.prototype.triggerPointRenderEvent=function(series,point){var fill=point.open<=point.close?series.bearFillColor:series.bullFillColor;var border={color:series.border.color,width:Math.max(series.border.width,1)};return this.triggerEvent(series,point,fill,border);};/**
     * To draw the rectangle for points.
     *
     * @returns {void}
     * @private
     */HiloOpenCloseSeries.prototype.drawHiloOpenClosePath=function(series,point,open,close,rect,argsData){// region highlow
var direction;if(series.chart.requireInvertedAxis){direction='M'+' '+rect.x+' '+(rect.y+rect.height/2)+' '+'L'+' '+(rect.x+rect.width)+' '+(rect.y+rect.height/2)+' ';direction+='M'+' '+open.x+' '+(rect.y+rect.height/2)+' '+'L'+' '+open.x+' '+(rect.y+rect.height)+' ';direction+='M'+' '+close.x+' '+(rect.y+rect.height/2)+' '+'L'+' '+close.x+' '+rect.y+' ';}else{direction='M'+' '+(rect.x+rect.width/2)+' '+(rect.y+rect.height)+' '+'L'+' '+(rect.x+rect.width/2)+' '+rect.y+' ';//region opentick
direction+='M'+' '+rect.x+' '+open.y+' '+'L'+' '+(rect.x+rect.width/2)+' '+open.y+' ';//region closetick
direction+='M'+' '+(rect.x+rect.width/2)+' '+close.y+' '+'L'+' '+(rect.x+rect.width)+' '+close.y+' ';}var options=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index,argsData.fill,argsData.border.width,argsData.fill,series.opacity,series.dashArray,direction);pathAnimation(getElement$1(options.id),direction,series.chart.redraw);var element=series.chart.renderer.drawPath(options,new Int32Array([series.clipRect.x,series.clipRect.y]));element.setAttribute('aria-label',point.x.toString()+':'+point.high.toString()+':'+point.low.toString()+':'+point.close.toString()+':'+point.open.toString());if(!series.chart.enableCanvas){series.seriesElement.appendChild(element);}};/**
     * Get module name.
     */HiloOpenCloseSeries.prototype.getModuleName=function(){return'HiloOpenCloseSeries';/**
         * return the module name
         */};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */HiloOpenCloseSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * To destroy the column series.
     *
     * @returns {void}
     * @private
     */HiloOpenCloseSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return HiloOpenCloseSeries;}(ColumnBase);var __extends$39=undefined&&undefined.__extends||function(){var _extendStatics40=function extendStatics(d,b){_extendStatics40=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics40(d,b);};return function(d,b){_extendStatics40(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `RangeAreaSeries` module is used to render the range area series.
 */var RangeAreaSeries=/** @class */function(_super){__extends$39(RangeAreaSeries,_super);function RangeAreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render RangeArea Series.
     *
     * @returns {void}
     * @private
     */RangeAreaSeries.prototype.render=function(series,xAxis,yAxis,inverted){var point;var direction='';var command='M';var closed=undefined;var visiblePoints=this.enableComplexProperty(series);for(var i=0,length_1=visiblePoints.length;i<length_1;i++){point=visiblePoints[i];point.symbolLocations=[];point.regions=[];var low=Math.min(point.low,point.high);var high=Math.max(point.low,point.high);if(yAxis.isInversed){var temp=low;low=high;high=temp;}var lowPoint=getPoint(point.xValue,low,xAxis,yAxis,inverted);var highPoint=getPoint(point.xValue,high,xAxis,yAxis,inverted);point.symbolLocations.push(highPoint);point.symbolLocations.push(lowPoint);var rect=new sf.svgbase.Rect(Math.min(lowPoint.x,highPoint.x),Math.min(lowPoint.y,highPoint.y),Math.max(Math.abs(highPoint.x-lowPoint.x),series.marker.width),Math.max(Math.abs(highPoint.y-lowPoint.y),series.marker.width));if(!inverted){rect.x-=series.marker.width/2;}else{rect.y-=series.marker.width/2;}point.regions.push(rect);//Path to connect the high points
if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){direction=direction.concat(command+' '+lowPoint.x+' '+lowPoint.y+' ');closed=false;if(i+1<visiblePoints.length&&!visiblePoints[i+1].visible||i===visiblePoints.length-1){// Path to connect the low points
direction=this.closeRangeAreaPath(visiblePoints,point,series,direction,i);command='M';direction=direction.concat(' '+'Z');closed=true;}command='L';}else{if(closed===false&&i!==0){direction=this.closeRangeAreaPath(visiblePoints,point,series,direction,i);closed=true;}command='M';point.symbolLocations=[];}}var name=series.category==='Indicator'?series.chart.element.id+'_Indicator_'+series.index+'_'+series.name:series.chart.element.id+'_Series_'+series.index;var options=new sf.svgbase.PathOption(name,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);};/**
     * path for rendering the low points
     *
     * @returns {void}.
     * @private
     */RangeAreaSeries.prototype.closeRangeAreaPath=function(visiblePoints,point,series,direction,i){for(var j=i;j>=0;j--){if(visiblePoints[j].visible&&visiblePoints[j].symbolLocations[0]){point=visiblePoints[j];direction+='L'+' '+point.symbolLocations[0].x+' '+point.symbolLocations[0].y+' ';}else{break;}}return direction;};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */RangeAreaSeries.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};/**
     * Get module name.
     */RangeAreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'RangeAreaSeries';};/**
     * To destroy the line series.
     *
     * @returns {void}
     * @private
     */RangeAreaSeries.prototype.destroy=function(){/**
         * Destroys range area series
         */};return RangeAreaSeries;}(LineBase);/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-returns */ /**
 * `BubbleSeries` module is used to render the bubble series.
 */var BubbleSeries=/** @class */function(){function BubbleSeries(){}/**
     * Render the Bubble series.
     *
     * @returns {void}
     * @private
     */BubbleSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var marker=series.marker;var visiblePoints=series.points;var shapeOption;var argsData;//let bubbleMode: RadiusMode = bubbleOptions.radiusMode;
var segmentRadius;var radius;var value=Math.max(series.chart.initialClipRect.height,series.chart.initialClipRect.width);var percentChange=value/100;var maxRadius=series.maxRadius*percentChange;var minRadius=series.minRadius*percentChange;var maximumSize=null;var maxValue=null;var element;var startLocation;var redraw=series.chart.redraw;if(series.maxRadius===null||series.minRadius===null){for(var _i=0,_a=series.chart.visibleSeries;_i<_a.length;_i++){var value_1=_a[_i];if(value_1.type==='Bubble'&&value_1.visible===true&&(value_1.maxRadius===null||value_1.minRadius===null)){maximumSize=value_1.sizeMax>maximumSize?value_1.sizeMax:maximumSize;}}maxValue=value/5/2;minRadius=maxRadius=1;radius=maxValue*maxRadius;}else{maximumSize=series.sizeMax;radius=maxRadius-minRadius;}for(var _b=0,visiblePoints_1=visiblePoints;_b<visiblePoints_1.length;_b++){var bubblePoint=visiblePoints_1[_b];bubblePoint.symbolLocations=[];bubblePoint.regions=[];if(bubblePoint.visible&&withInRange(visiblePoints[bubblePoint.index-1],bubblePoint,visiblePoints[bubblePoint.index+1],series)){if(series.maxRadius===null||series.minRadius===null){segmentRadius=radius*Math.abs(+bubblePoint.size/maximumSize);}else{segmentRadius=minRadius+radius*Math.abs(+bubblePoint.size/maximumSize);}segmentRadius=segmentRadius||minRadius;argsData={cancel:false,name:pointRender,series:series,point:bubblePoint,fill:series.setPointColor(bubblePoint,series.interior),border:series.setBorderColor(bubblePoint,{width:series.border.width,color:series.border.color}),height:2*segmentRadius,width:2*segmentRadius};series.chart.trigger(pointRender,argsData);if(!argsData.cancel){bubblePoint.symbolLocations.push(getPoint(bubblePoint.xValue,bubblePoint.yValue,xAxis,yAxis,isInverted));bubblePoint.color=argsData.fill;shapeOption=new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+bubblePoint.index,argsData.fill,argsData.border.width,argsData.border.color,series.opacity,null);element=drawSymbol(bubblePoint.symbolLocations[0],'Circle',new sf.svgbase.Size(argsData.width,argsData.height),marker.imageUrl,shapeOption,bubblePoint.x.toString()+':'+bubblePoint.yValue.toString(),series.chart.svgRenderer,series.clipRect);appendChildElement(false,series.seriesElement,element,redraw);bubblePoint.regions.push(new sf.svgbase.Rect(bubblePoint.symbolLocations[0].x-segmentRadius,bubblePoint.symbolLocations[0].y-segmentRadius,2*segmentRadius,2*segmentRadius));bubblePoint.marker={border:argsData.border,fill:argsData.fill,height:argsData.height,visible:true,shape:'Circle',width:argsData.width};startLocation=redraw?bubblePoint.symbolLocations[0]:null;if(redraw){animateRedrawElement(element,300,startLocation,bubblePoint.symbolLocations[0],'cx','cy');}}else{bubblePoint.marker={visible:false};}}}};/**
     * To destroy the Bubble.
     *
     * @returns {void}
     * @private
     */BubbleSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name.
     */BubbleSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'BubbleSeries';};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */BubbleSeries.prototype.doAnimation=function(series){var duration=series.animation.duration;var delay=series.animation.delay;var rectElements=series.seriesElement.childNodes;var count=1;for(var _i=0,_a=series.points;_i<_a.length;_i++){var bubblePoint=_a[_i];if(!bubblePoint.symbolLocations.length){continue;}markerAnimate(rectElements[count],delay,duration,series,bubblePoint.index,bubblePoint.symbolLocations[0],false);count++;}};return BubbleSeries;}();var __extends$41=undefined&&undefined.__extends||function(){var _extendStatics41=function extendStatics(d,b){_extendStatics41=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics41(d,b);};return function(d,b){_extendStatics41(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable no-case-declarations */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * render Line series
 */var SplineBase=/** @class */function(_super){__extends$41(SplineBase,_super);/** @private */function SplineBase(chartModule){var _this=_super.call(this,chartModule)||this;_this.splinePoints=[];return _this;}/**
     * To find the control points for spline.
     *
     * @returns {void}
     * @private
     */SplineBase.prototype.findSplinePoint=function(series){var value;var realPoints=[];var points=[];var point;var pointIndex=0;realPoints=this.filterEmptyPoints(series);for(var i=0;i<realPoints.length;i++){point=realPoints[i];if(point.x===null||point.x===''){continue;}else{point.index=pointIndex;pointIndex++;points.push(point);}}this.splinePoints=this.findSplineCoefficients(points,series);if(points.length>1){series.drawPoints=[];for(var _i=0,points_1=points;_i<points_1.length;_i++){var point_1=points_1[_i];if(point_1.index!==0){var previous=this.getPreviousIndex(points,point_1.index-1,series);value=this.getControlPoints(points[previous],point_1,this.splinePoints[previous],this.splinePoints[point_1.index],series);series.drawPoints.push(value);// fix for Y-Axis of Spline chart not adjusting scale to suit dataSource issue
var delta=series.yMax-series.yMin;if(point_1.yValue&&value.controlPoint1.y&&value.controlPoint2.y&&delta>1){series.yMin=Math.min(series.yMin,point_1.yValue,value.controlPoint1.y,value.controlPoint2.y);series.yMax=Math.ceil(Math.max(series.yMax,point_1.yValue,value.controlPoint1.y,value.controlPoint2.y));series.yMin=series.yAxis.valueType!=='Logarithmic'?Math.floor(series.yMin):series.yMin;}}}if(series.chart.chartAreaType==='PolarRadar'&&series.isClosed){value=this.getControlPoints({xValue:points[points.length-1].xValue,yValue:points[points.length-1].yValue},{xValue:points[points.length-1].xValue+1,yValue:points[0].yValue},this.splinePoints[0],this.splinePoints[points[points.length-1].index],series);series.drawPoints.push(value);}}};SplineBase.prototype.getPreviousIndex=function(points,i,series){if(series.emptyPointSettings.mode!=='Drop'){return i;}while(sf.base.isNullOrUndefined(points[i])&&i>-1){i=i-1;}return i;};SplineBase.prototype.getNextIndex=function(points,i,series){if(series.emptyPointSettings.mode!=='Drop'){return i;}while(sf.base.isNullOrUndefined(points[i])&&i<points.length){i=i+1;}return i;};SplineBase.prototype.filterEmptyPoints=function(series,seriesPoints){if(series.emptyPointSettings.mode!=='Drop'&&this.isPointInRange(series.points)){return seriesPoints?seriesPoints:series.points;}var points=seriesPoints?seriesPoints:sf.base.extend([],series.points,null,true);for(var i=0;i<points.length;i++){points[i].index=i;if(points[i].isEmpty){points[i].symbolLocations=[];points[i].regions=[];points.splice(i,1);i--;}}return points;};/**
     * To find points in the range
     *
     * @private
     */SplineBase.prototype.isPointInRange=function(points){for(var _i=0,points_2=points;_i<points_2.length;_i++){var point=points_2[_i];if(!point.isPointInRange){return false;}}return true;};/**
     * To find the natural spline.
     *
     * @returns {void}
     * @private
     */SplineBase.prototype.findSplineCoefficients=function(points,series){var count=points.length;var ySpline=[];var ySplineDuplicate=[];var coefficient1;var coefficient2;var coefficient3;var dy1;var dy2;var dx=[];var dy=[];var slope=[];var interPoint;var slopeLength;var cardinalSplineTension=series.cardinalSplineTension?series.cardinalSplineTension:0.5;cardinalSplineTension=cardinalSplineTension<0?0:cardinalSplineTension>1?1:cardinalSplineTension;switch(series.splineType){case'Monotonic':for(var i=0;i<count-1;i++){dx[i]=points[i+1].xValue-points[i].xValue;dy[i]=points[i+1].yValue-points[i].yValue;slope[i]=dy[i]/dx[i];}//interpolant points
slopeLength=slope.length;// to find the first and last co-efficient value
ySpline[0]=slope[0];ySpline[count-1]=slope[slopeLength-1];//to find the other co-efficient values
for(var j=0;j<dx.length;j++){if(slopeLength>j+1){if(slope[j]*slope[j+1]<=0){ySpline[j+1]=0;}else{interPoint=dx[j]+dx[j+1];ySpline[j+1]=3*interPoint/((interPoint+dx[j+1])/slope[j]+(interPoint+dx[j])/slope[j+1]);}}}break;case'Cardinal':for(var i=0;i<count;i++){if(i===0){ySpline[i]=count>2?cardinalSplineTension*(points[i+2].xValue-points[i].xValue):0;}else if(i===count-1){ySpline[i]=count>2?cardinalSplineTension*(points[count-1].xValue-points[count-3].xValue):0;}else{ySpline[i]=cardinalSplineTension*(points[i+1].xValue-points[i-1].xValue);}}break;default:if(series.splineType==='Clamped'){ySpline[0]=3*(points[1].yValue-points[0].yValue)/(points[1].xValue-points[0].xValue)-3;ySplineDuplicate[0]=0.5;ySpline[points.length-1]=3*(points[points.length-1].yValue-points[points.length-2].yValue)/(points[points.length-1].xValue-points[points.length-2].xValue);ySpline[0]=ySplineDuplicate[0]=Math.abs(ySpline[0])===Infinity?0:ySpline[0];ySpline[points.length-1]=ySplineDuplicate[points.length-1]=Math.abs(ySpline[points.length-1])===Infinity?0:ySpline[points.length-1];}else{// assigning the first and last value as zero
ySpline[0]=ySplineDuplicate[0]=0;ySpline[points.length-1]=0;}for(var i=1;i<count-1;i++){coefficient1=points[i].xValue-points[i-1].xValue;coefficient2=points[i+1].xValue-points[i-1].xValue;coefficient3=points[i+1].xValue-points[i].xValue;dy1=points[i+1].yValue-points[i].yValue||null;dy2=points[i].yValue-points[i-1].yValue||null;if(coefficient1===0||coefficient2===0||coefficient3===0){ySpline[i]=0;ySplineDuplicate[i]=0;}else{var p=1/(coefficient1*ySpline[i-1]+2*coefficient2);ySpline[i]=-p*coefficient3;ySplineDuplicate[i]=p*(6*(dy1/coefficient3-dy2/coefficient1)-coefficient1*ySplineDuplicate[i-1]);}}for(var k=count-2;k>=0;k--){ySpline[k]=ySpline[k]*ySpline[k+1]+ySplineDuplicate[k];}break;}return ySpline;};/**
     * To find the control points for spline.
     *
     * @returns {void}
     * @private
     */SplineBase.prototype.getControlPoints=function(point1,point2,ySpline1,ySpline2,series){var controlPoint1;var controlPoint2;var point;var ySplineDuplicate1=ySpline1;var ySplineDuplicate2=ySpline2;var xValue1=point1.xValue;var yValue1=point1.yValue;var xValue2=point2.xValue;var yValue2=point2.yValue;switch(series.splineType){case'Cardinal':if(series.xAxis.valueType==='DateTime'){ySplineDuplicate1=ySpline1/this.dateTimeInterval(series);ySplineDuplicate2=ySpline2/this.dateTimeInterval(series);}controlPoint1=new ChartLocation(xValue1+ySpline1/3,yValue1+ySplineDuplicate1/3);controlPoint2=new ChartLocation(xValue2-ySpline2/3,yValue2-ySplineDuplicate2/3);point=new ControlPoints(controlPoint1,controlPoint2);break;case'Monotonic':var value=(xValue2-xValue1)/3;controlPoint1=new ChartLocation(xValue1+value,yValue1+ySpline1*value);controlPoint2=new ChartLocation(xValue2-value,yValue2-ySpline2*value);point=new ControlPoints(controlPoint1,controlPoint2);break;default:var one3=1/3.0;var deltaX2=xValue2-xValue1;deltaX2=deltaX2*deltaX2;var y1=one3*(2*yValue1+yValue2-one3*deltaX2*(ySpline1+0.5*ySpline2));var y2=one3*(yValue1+2*yValue2-one3*deltaX2*(0.5*ySpline1+ySpline2));controlPoint1=new ChartLocation((2*xValue1+xValue2)*one3,y1);controlPoint2=new ChartLocation((xValue1+2*xValue2)*one3,y2);point=new ControlPoints(controlPoint1,controlPoint2);break;}return point;};/**
     * calculate datetime interval in hours
     */SplineBase.prototype.dateTimeInterval=function(series){var interval=series.xAxis.actualIntervalType;var intervalInMilliseconds;if(interval==='Years'){intervalInMilliseconds=365*24*60*60*1000;}else if(interval==='Months'){intervalInMilliseconds=30*24*60*60*1000;}else if(interval==='Days'){intervalInMilliseconds=24*60*60*1000;}else if(interval==='Hours'){intervalInMilliseconds=60*60*1000;}else if(interval==='Minutes'){intervalInMilliseconds=60*1000;}else if(interval==='Seconds'){intervalInMilliseconds=1000;}else{intervalInMilliseconds=30*24*60*60*1000;}return intervalInMilliseconds;};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */SplineBase.prototype.doAnimation=function(series){var option=series.animation;this.doLinearAnimation(series,option);};return SplineBase;}(LineBase);var __extends$40=undefined&&undefined.__extends||function(){var _extendStatics42=function extendStatics(d,b){_extendStatics42=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics42(d,b);};return function(d,b){_extendStatics42(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `SplineSeries` module is used to render the spline series.
 */var SplineSeries=/** @class */function(_super){__extends$40(SplineSeries,_super);function SplineSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the spline series.
     *
     * @returns {void}
     * @private
     */SplineSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var firstPoint=null;var direction='';var startPoint='M';var points=[];var tempPoints=series.category==='TrendLine'?series.points:this.enableComplexProperty(series);points=this.filterEmptyPoints(series,tempPoints);var previous;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;for(var _i=0,points_1=points;_i<points_1.length;_i++){var point=points_1[_i];previous=this.getPreviousIndex(points,point.index-1,series);point.symbolLocations=[];point.regions=[];if(point.visible&&withInRange(points[previous],point,points[this.getNextIndex(points,point.index-1,series)],series)){if(firstPoint!==null){direction=this.getSplineDirection(series.drawPoints[previous],firstPoint,point,xAxis,yAxis,isInverted,series,startPoint,getCoordinate,direction);startPoint='L';}firstPoint=point;this.storePointLocation(point,series,isInverted,getCoordinate);}else{startPoint='M';firstPoint=null;point.symbolLocations=[];}}if(points.length>0&&series.drawPoints.length>0&&series.chart.chartAreaType==='PolarRadar'&&series.isClosed){var connectPoints=this.getFirstLastVisiblePoint(points);direction=this.getSplineDirection(series.drawPoints[series.drawPoints.length-1],connectPoints.last,{xValue:connectPoints.first.xValue,yValue:connectPoints.first.yValue},xAxis,yAxis,isInverted,series,startPoint,getCoordinate,direction);startPoint='L';}var name=series.category==='TrendLine'?series.chart.element.id+'_Series_'+series.sourceIndex+'_TrendLine_'+series.index:series.chart.element.id+'_Series_'+series.index;var options=new sf.svgbase.PathOption(name,'transparent',series.width,series.interior,series.opacity,series.dashArray,direction);this.appendLinePath(options,series,'');this.renderMarker(series);};/**
     * To find the direct of spline using points.
     *
     * @param {ControlPoints} data data
     * @param {Points} firstPoint firstPoint
     * @param {Points} point point
     * @param {Axis} xAxis xAxis
     * @param {Axis} yAxis yAxis
     * @param {boolean} isInverted isInverted
     * @param {Series} series series
     * @param {string} startPoint startPoint
     * @param {Function} getCoordinate getCoordinate
     * @param {string} direction direction
     */SplineSeries.prototype.getSplineDirection=function(data,firstPoint,point,xAxis,yAxis,isInverted,series,startPoint,getCoordinate,direction){var controlPoint1=data.controlPoint1;var controlPoint2=data.controlPoint2;var pt1=getCoordinate(firstPoint.xValue,firstPoint.yValue,xAxis,yAxis,isInverted,series);var pt2=getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);var bpt1=getCoordinate(controlPoint1.x,controlPoint1.y,xAxis,yAxis,isInverted,series);var bpt2=getCoordinate(controlPoint2.x,controlPoint2.y,xAxis,yAxis,isInverted,series);return direction.concat(startPoint+' '+pt1.x+' '+pt1.y+' '+'C'+' '+bpt1.x+' '+bpt1.y+' '+bpt2.x+' '+bpt2.y+' '+pt2.x+' '+pt2.y+' ');};/**
     * Get module name.
     */SplineSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'SplineSeries';};/**
     * To destroy the spline.
     *
     * @returns {void}
     * @private
     */SplineSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};return SplineSeries;}(SplineBase);var __extends$42=undefined&&undefined.__extends||function(){var _extendStatics43=function extendStatics(d,b){_extendStatics43=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics43(d,b);};return function(d,b){_extendStatics43(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `HistogramSeries` Module used to render the histogram series.
 */var HistogramSeries=/** @class */function(_super){__extends$42(HistogramSeries,_super);function HistogramSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Histogram series.
     *
     * @returns {void}
     * @private
     */HistogramSeries.prototype.render=function(series){_super.prototype.render.call(this,series);if(series.showNormalDistribution){this.renderNormalDistribution(series);}};/**
     * To calculate bin interval for Histogram series.
     *
     * @returns {void}
     * @private
     */HistogramSeries.prototype.calculateBinInterval=function(yValues,series){var mean=sum(yValues)/yValues.length;var sumValue=0;for(var _i=0,yValues_1=yValues;_i<yValues_1.length;_i++){var value=yValues_1[_i];sumValue+=(value-mean)*(value-mean);}series.histogramValues.mean=mean;series.histogramValues.sDValue=Math.round(Math.sqrt(sumValue/yValues.length-1));series.histogramValues.binWidth=series.binInterval||Math.round(3.5*series.histogramValues.sDValue/Math.pow(yValues.length,1/3));};/**
     * Add data points for Histogram series.
     *
     * @returns {object[]} data
     * @private
     */HistogramSeries.prototype.processInternalData=function(data,series){var _a;var updatedData=[];var yValues=[];var keys=Object.keys(data);for(var i=0;i<keys.length;i++){var key=keys[i];yValues.push(data[key][series.yName]);}series.histogramValues={yValues:yValues};var min=Math.min.apply(Math,series.histogramValues.yValues);var max=Math.max.apply(Math,series.histogramValues.yValues);this.calculateBinInterval(series.histogramValues.yValues,series);var binWidth=series.histogramValues.binWidth;var yCount;for(var j=0;j<data.length;){yCount=yValues.filter(function(y){return y>=min&&y<min+binWidth;}).length;if(min+binWidth===max){yCount+=yValues.filter(function(y){return y>=max;}).length;}updatedData.push((_a={'x':min+binWidth/2},_a[series.yName]=yCount,_a));min=min+binWidth;j+=yCount;}return updatedData;};/**
     * Render Normal Distribution for Histogram series.
     *
     * @returns {void}
     * @private
     */HistogramSeries.prototype.renderNormalDistribution=function(series){var min=series.xAxis.actualRange.min;var max=series.xAxis.actualRange.max;var xValue;var pointLocation;var yValue;var direction='';var startPoint='M';var yValuesCount=series.histogramValues.yValues.length;var binWidth=series.histogramValues.binWidth;var mean=series.histogramValues.mean;var sDValue=series.histogramValues.sDValue;var pointsCount=500;var del=(max-min)/(pointsCount-1);var points=series.points.length;if(points){for(var i=0;i<pointsCount;i++){xValue=min+i*del;yValue=Math.exp(-(xValue-mean)*(xValue-mean)/(2*sDValue*sDValue))/(sDValue*Math.sqrt(2*Math.PI));pointLocation=getPoint(xValue,yValue*binWidth*yValuesCount,series.xAxis,series.yAxis,series.chart.requireInvertedAxis);direction+=startPoint+' '+pointLocation.x+' '+pointLocation.y+' ';startPoint='L';}}var distributionLine=series.chart.renderer.drawPath(new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_NDLine','transparent',2,series.chart.themeStyle.errorBar,series.opacity,series.dashArray,direction),new Int32Array([series.clipRect.x,series.clipRect.y]));distributionLine.style.visibility=!series.chart.enableCanvas?series.animation.enable&&series.chart.animateSeries?'hidden':'visible':null;if(!series.chart.enableCanvas){series.seriesElement.appendChild(distributionLine);}};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */HistogramSeries.prototype.doAnimation=function(series){_super.prototype.doAnimation.call(this,series);if(series.showNormalDistribution){templateAnimate(series.seriesElement.lastElementChild,series.animation.duration,500,'FadeIn');}};/**
     * Get module name.
     */HistogramSeries.prototype.getModuleName=function(){return'HistogramSeries';/**
         * return the module name
         */};/**
     * To destroy the histogram series.
     *
     * @returns {void}
     * @private
     */HistogramSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return HistogramSeries;}(ColumnSeries);var __extends$43=undefined&&undefined.__extends||function(){var _extendStatics44=function extendStatics(d,b){_extendStatics44=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics44(d,b);};return function(d,b){_extendStatics44(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `SplineAreaSeries` module used to render the spline area series.
 */var SplineAreaSeries=/** @class */function(_super){__extends$43(SplineAreaSeries,_super);function SplineAreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render the splineArea series.
     *
     * @returns {void}
     * @private
     */SplineAreaSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var firstPoint=null;var direction='';var startPoint=null;var startPoint1=null;var pt2;var bpt1;var bpt2;var controlPt1;var controlPt2;var realPoints=[];var points=[];var point;var pointIndex=0;realPoints=this.filterEmptyPoints(series);for(var i=0;i<realPoints.length;i++){point=realPoints[i];if(point.x===null||point.x===''){continue;}else{point.index=pointIndex;pointIndex++;points.push(point);}}var pointsLength=points.length;var previous;var getCoordinate=series.chart.chartAreaType==='PolarRadar'?TransformToVisible:getPoint;var origin=series.chart.chartAreaType==='PolarRadar'?series.points[0].yValue:Math.max(series.yAxis.visibleRange.min,0);for(var i=0;i<pointsLength;i++){point=points[i];point.symbolLocations=[];point.regions=[];previous=this.getPreviousIndex(points,point.index-1,series);if(point.visible&&withInRange(points[previous],point,points[this.getNextIndex(points,point.index-1,series)],series)){if(firstPoint){controlPt1=series.drawPoints[previous].controlPoint1;controlPt2=series.drawPoints[previous].controlPoint2;pt2=getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);bpt1=getCoordinate(controlPt1.x,controlPt1.y,xAxis,yAxis,isInverted,series);bpt2=getCoordinate(controlPt2.x,controlPt2.y,xAxis,yAxis,isInverted,series);direction=direction.concat('C '+bpt1.x+' '+bpt1.y+' '+bpt2.x+' '+bpt2.y+' '+pt2.x+' '+pt2.y+' ');}else{// Start point for the current path
startPoint=getCoordinate(point.xValue,origin,xAxis,yAxis,isInverted,series);direction+='M '+startPoint.x+' '+startPoint.y+' ';// First Point to draw the area path
startPoint1=getCoordinate(point.xValue,point.yValue,xAxis,yAxis,isInverted,series);direction+='L '+startPoint1.x+' '+startPoint1.y+' ';}this.storePointLocation(point,series,isInverted,getCoordinate);firstPoint=point;}else{firstPoint=null;point.symbolLocations=[];}if((i+1<pointsLength&&!points[i+1].visible||i===pointsLength-1)&&pt2&&startPoint){startPoint=getCoordinate(point.xValue,origin,xAxis,yAxis,isInverted,series);direction=direction.concat('L '+startPoint.x+' '+startPoint.y);}}this.appendLinePath(new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,series.interior,series.border.width,series.border.color,series.opacity,series.dashArray,direction),series,'');this.renderMarker(series);};/**
     * Get module name.
     */SplineAreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'SplineAreaSeries';};/**
     * To destroy the spline.
     *
     * @returns {void}
     * @private
     */SplineAreaSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};return SplineAreaSeries;}(SplineBase);var __extends$45=undefined&&undefined.__extends||function(){var _extendStatics45=function extendStatics(d,b){_extendStatics45=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics45(d,b);};return function(d,b){_extendStatics45(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * Technical Analysis module helps to predict the market trend
 */var TechnicalAnalysis=/** @class */function(_super){__extends$45(TechnicalAnalysis,_super);function TechnicalAnalysis(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the collection of series, that are used to represent the given technical indicator
     *
     * @private
     */TechnicalAnalysis.prototype.initSeriesCollection=function(indicator,chart){indicator.targetSeries=[];var signalLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(signalLine,indicator,indicator.type,indicator.fill,indicator.width,chart);};/**
     * Initializes the properties of the given series
     *
     * @private
     */TechnicalAnalysis.prototype.setSeriesProperties=function(series,indicator,name,fill,width,chart){series.name=name.length<=4?name.toLocaleUpperCase():name;series.xName='x';series.yName='y';series.fill=fill||'#606eff';series.dashArray=indicator.dashArray;series.width=width;series.xAxisName=indicator.xAxisName;series.animation=indicator.animation;series.yAxisName=indicator.yAxisName;series.clipRectElement=indicator.clipRectElement;series.points=[];series.enableTooltip=true;series.interior=series.fill;series.category='Indicator';series.index=indicator.index;series.chart=chart;series.xMin=Infinity;series.xMax=-Infinity;series.yMin=Infinity;series.yMax=-Infinity;series.xData=[];series.yData=[];series.marker.visible=false;indicator.targetSeries.push(series);};/**
     * Creates the elements of a technical indicator
     *
     * @private
     */TechnicalAnalysis.prototype.createIndicatorElements=function(chart,indicator,index){if(indicator.seriesName||indicator.dataSource){findClipRect(indicator.targetSeries[0]);}var clipRect=new sf.svgbase.Rect(0,0,0,0);if(indicator.seriesName||indicator.dataSource){clipRect=indicator.targetSeries[0].clipRect;}var options=new RectOption(chart.element.id+'_ChartIndicatorClipRect_'+index,'transparent',{width:1,color:'Gray'},1,{x:0,y:0,width:clipRect.width,height:clipRect.height});var clipRectElement=appendClipElement(chart.redraw,options,chart.renderer);//defines the clip rect element
//creates the group for an indicator
indicator.indicatorElement=chart.renderer.createGroup({'id':chart.element.id+'IndicatorGroup'+index,'transform':'translate('+clipRect.x+','+clipRect.y+')','clip-path':'url(#'+chart.element.id+'_ChartIndicatorClipRect_'+index+')'});indicator.indicatorElement.appendChild(clipRectElement);//Defines a group for each series in a technical indicator
for(var _i=0,_a=indicator.targetSeries;_i<_a.length;_i++){var series=_a[_i];series.clipRectElement=clipRectElement;var element=series.chart.renderer.createGroup({'id':series.chart.element.id+'_Indicator_'+indicator.index+'_'+series.name+'_Group'});indicator.indicatorElement.appendChild(element);series.seriesElement=element;}chart.indicatorElements.appendChild(indicator.indicatorElement);};TechnicalAnalysis.prototype.getDataPoint=function(x,y,sourcePoint,series,index,indicator){if(indicator===void 0){indicator=null;}var point=new Points();point.x=x;point.y=y;point.xValue=sourcePoint.xValue;point.color=series.fill;point.index=index;point.yValue=y;point.visible=true;series.xMin=Math.min(series.xMin,point.xValue);series.yMin=Math.min(series.yMin,point.yValue);series.xMax=Math.max(series.xMax,point.xValue);series.yMax=Math.max(series.yMax,point.yValue);series.xData.push(point.xValue);if(indicator&&indicator.type==='Macd'&&series.type==='Column'){if(point.y>=0){point.color=indicator.macdPositiveColor;}else{point.color=indicator.macdNegativeColor;}}return point;};TechnicalAnalysis.prototype.getRangePoint=function(x,high,low,sourcePoint,series,index){var point=new Points();point.x=x;point.high=high;point.low=low;point.xValue=sourcePoint.xValue;point.color=series.fill;point.index=index;point.visible=true;series.xData.push(point.xValue);return point;};TechnicalAnalysis.prototype.setSeriesRange=function(points,indicator,series){if(series===void 0){series=null;}if(!series){indicator.targetSeries[0].points=points;}else{series.points=points;}};return TechnicalAnalysis;}(LineBase);var __extends$44=undefined&&undefined.__extends||function(){var _extendStatics46=function extendStatics(d,b){_extendStatics46=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics46(d,b);};return function(d,b){_extendStatics46(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `SmaIndicator` module is used to render SMA indicator.
 */var SmaIndicator=/** @class */function(_super){__extends$44(SmaIndicator,_super);function SmaIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the predictions based on SMA approach
     *
     * @private
     */SmaIndicator.prototype.initDataSource=function(indicator,chart){var smaPoints=[];var points=indicator.points;if(points&&points.length){//prepare data
var validData=points;var field=firstToLowerCase(indicator.field);var xField='x';var signalSeries=indicator.targetSeries[0];if(validData&&validData.length&&validData.length>=indicator.period){//find initial average
var average=0;var sum$$1=0;for(var i=0;i<indicator.period;i++){sum$$1+=validData[i][field];}average=sum$$1/indicator.period;smaPoints.push(this.getDataPoint(validData[indicator.period-1][xField],average,validData[indicator.period-1],signalSeries,smaPoints.length));var index=indicator.period;while(index<validData.length){sum$$1-=validData[index-indicator.period][field];sum$$1+=validData[index][field];average=sum$$1/indicator.period;smaPoints.push(this.getDataPoint(validData[index][xField],average,validData[index],signalSeries,smaPoints.length));index++;}}this.setSeriesRange(smaPoints,indicator);}};/**
     * To destroy the SMA indicator
     *
     * @returns {void}
     * @private
     */SmaIndicator.prototype.destroy=function(){/**
         * Destroys the SMA indicator
         */};/**
     * Get module name.
     */SmaIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'SmaIndicator';};return SmaIndicator;}(TechnicalAnalysis);var __extends$46=undefined&&undefined.__extends||function(){var _extendStatics47=function extendStatics(d,b){_extendStatics47=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics47(d,b);};return function(d,b){_extendStatics47(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `EmaIndicator` module is used to render EMA indicator.
 */var EmaIndicator=/** @class */function(_super){__extends$46(EmaIndicator,_super);function EmaIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the predictions based on EMA approach
     *
     * @private
     */EmaIndicator.prototype.initDataSource=function(indicator,chart){var field=firstToLowerCase(indicator.field);var xField='x';var emaPoints=[];var signalSeries=indicator.targetSeries[0];//prepare data
var validData=indicator.points;if(validData&&validData.length&&validData.length>=indicator.period){//find initial average
var sum$$1=0;var average=0;//smoothing factor
var k=2/(indicator.period+1);for(var i=0;i<indicator.period;i++){sum$$1+=validData[i][field];}average=sum$$1/indicator.period;emaPoints.push(this.getDataPoint(validData[indicator.period-1][xField],average,validData[indicator.period-1],signalSeries,emaPoints.length));var index=indicator.period;while(index<validData.length){//previous average
var prevAverage=emaPoints[index-indicator.period][signalSeries.yName];var yValue=(validData[index][field]-prevAverage)*k+prevAverage;emaPoints.push(this.getDataPoint(validData[index][xField],yValue,validData[index],signalSeries,emaPoints.length));index++;}}this.setSeriesRange(emaPoints,indicator);};/**
     * To destroy the EMA Indicator
     *
     * @returns {void}
     * @private
     */EmaIndicator.prototype.destroy=function(){/**
         * Destroys the EMA Indicator
         */};/**
     * Get module name.
     */EmaIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'EmaIndicator';};return EmaIndicator;}(TechnicalAnalysis);var __extends$47=undefined&&undefined.__extends||function(){var _extendStatics48=function extendStatics(d,b){_extendStatics48=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics48(d,b);};return function(d,b){_extendStatics48(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `TmaIndicator` module is used to render TMA indicator.
 */var TmaIndicator=/** @class */function(_super){__extends$47(TmaIndicator,_super);function TmaIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the predictions based on TMA approach
     *
     * @private
     */TmaIndicator.prototype.initDataSource=function(indicator,chart){var tmaPoints=[];var field=firstToLowerCase(indicator.field);var xField='x';//prepare data
var validData=indicator.points;if(validData&&validData.length&&validData.length>=indicator.period){var signalSeries=indicator.targetSeries[0];//prepare data
var validData_1=indicator.points;if(validData_1.length&&validData_1.length>=indicator.period){var sum$$1=0;var smaValues=[];//sma values
var index=0;var length_1=validData_1.length;var period=indicator.period;while(length_1>=period){sum$$1=0;index=validData_1.length-length_1;for(var j=index;j<index+period;j++){sum$$1=sum$$1+validData_1[j][field];}sum$$1=sum$$1/period;smaValues.push(sum$$1);length_1--;}//initial values
for(var k=0;k<period-1;k++){sum$$1=0;for(var j=0;j<k+1;j++){sum$$1=sum$$1+validData_1[j][field];}sum$$1=sum$$1/(k+1);smaValues.splice(k,0,sum$$1);}index=indicator.period;while(index<=smaValues.length){sum$$1=0;for(var j=index-indicator.period;j<index;j++){sum$$1=sum$$1+smaValues[j];}sum$$1=sum$$1/indicator.period;tmaPoints.push(this.getDataPoint(validData_1[index-1][xField],sum$$1,validData_1[index-1],signalSeries,tmaPoints.length));index++;}}}this.setSeriesRange(tmaPoints,indicator);};/**
     * To destroy the TMA indicator.
     *
     * @returns {void}
     * @private
     */TmaIndicator.prototype.destroy=function(){/**
         * Destroys the TMA Indicator
         */};/**
     * Get module name.
     */TmaIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'TmaIndicator';};return TmaIndicator;}(TechnicalAnalysis);var __extends$48=undefined&&undefined.__extends||function(){var _extendStatics49=function extendStatics(d,b){_extendStatics49=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics49(d,b);};return function(d,b){_extendStatics49(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `AccumulationDistributionIndicator` module is used to render accumulation distribution indicator.
 */var AccumulationDistributionIndicator=/** @class */function(_super){__extends$48(AccumulationDistributionIndicator,_super);function AccumulationDistributionIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the predictions using accumulation distribution approach
     *
     * @private
     */AccumulationDistributionIndicator.prototype.initDataSource=function(indicator){var adPoints=[];var validData=indicator.points;if(validData.length>0&&validData.length>indicator.period){adPoints=this.calculateADPoints(indicator,validData);}this.setSeriesRange(adPoints,indicator);};/**
     *  Calculates the Accumulation Distribution values
     *
     * @private
     */AccumulationDistributionIndicator.prototype.calculateADPoints=function(indicator,validData){var temp=[];var sum=0;var i=0;var value=0;var high=0;var low=0;var close=0;var signalSeries=indicator.targetSeries[0];for(i=0;i<validData.length;i++){high=Number(validData[i].high);low=Number(validData[i].low);close=Number(validData[i].close);/**
             * Money Flow Multiplier = [(Close -  Low) - (High - Close)] /(High - Low)
             * Money Flow Volume = Money Flow Multiplier x Volume for the Period
             * ADL = Previous ADL + Current Period's Money Flow Volume
             */value=(close-low-(high-close))/(high-low);/**
             * Sum is to calculate the Y values of the Accumulation distribution indicator
             */sum=sum+value*Number(validData[i].volume);/**
             * To calculate the x and y values for the Accumulation distribution indicator
             */temp[i]=this.getDataPoint(validData[i].x,sum,validData[i],signalSeries,temp.length);}return temp;};/**
     * To destroy the Accumulation Distribution Technical Indicator.
     *
     * @returns {void}
     * @private
     */AccumulationDistributionIndicator.prototype.destroy=function(){/**
         * Destroys the Accumulation Distribution Technical indicator
         */};/**
     * Get module name.
     */AccumulationDistributionIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the Indicator
         */return'AccumulationDistributionIndicator';};return AccumulationDistributionIndicator;}(TechnicalAnalysis);var __extends$49=undefined&&undefined.__extends||function(){var _extendStatics50=function extendStatics(d,b){_extendStatics50=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics50(d,b);};return function(d,b){_extendStatics50(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `AtrIndicator` module is used to render ATR indicator.
 */var AtrIndicator=/** @class */function(_super){__extends$49(AtrIndicator,_super);function AtrIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the predictions using Average True Range approach
     *
     * @private
     */AtrIndicator.prototype.initDataSource=function(indicator,chart){var validData=indicator.points;if(validData.length>0&&validData.length>indicator.period){this.calculateATRPoints(indicator,validData);}};/**
     *  To calculate Average True Range indicator points
     *
     * @private
     */AtrIndicator.prototype.calculateATRPoints=function(indicator,validData){var average=0;var highLow=0;var highClose=0;var lowClose=0;var trueRange=0;var points=[];var temp=[];var period=indicator.period;var sum=0;var y='y';var signalSeries=indicator.targetSeries[0];for(var i=0;i<validData.length;i++){/**
             * Current High less the current Low
             * Current High less the previous Close (absolute value)
             * Current Low less the previous Close (absolute value)
             */highLow=Number(validData[i].high)-Number(validData[i].low);if(i>0){//
highClose=Math.abs(Number(validData[i].high)-Number(validData[i-1].close));lowClose=Math.abs(Number(validData[i].low)-Number(validData[i-1].close));}/**
             * To find the maximum of highLow, highClose, lowClose
             */trueRange=Math.max(highLow,highClose,lowClose);sum=sum+trueRange;/**
             * Push the x and y values for the Average true range indicator
             */if(i>=period){average=(Number(temp[i-1][y])*(period-1)+trueRange)/period;points.push(this.getDataPoint(validData[i].x,average,validData[i],signalSeries,points.length));}else{average=sum/period;if(i===period-1){points.push(this.getDataPoint(validData[i].x,average,validData[i],signalSeries,points.length));}}temp[i]={x:validData[i].x,y:average};}this.setSeriesRange(points,indicator);};/**
     * To destroy the Average true range indicator.
     *
     * @returns {void}
     * @private
     */AtrIndicator.prototype.destroy=function(){/**
         * Destroy the Average true range indicator
         */};/**
     * Get module name.
     */AtrIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the Indicator
         */return'AtrIndicator';};return AtrIndicator;}(TechnicalAnalysis);var __extends$50=undefined&&undefined.__extends||function(){var _extendStatics51=function extendStatics(d,b){_extendStatics51=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics51(d,b);};return function(d,b){_extendStatics51(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `MomentumIndicator` module is used to render Momentum indicator.
 */var MomentumIndicator=/** @class */function(_super){__extends$50(MomentumIndicator,_super);function MomentumIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the collection of series to represent a momentum indicator
     *
     * @private
     */MomentumIndicator.prototype.initSeriesCollection=function(indicator,chart){_super.prototype.initSeriesCollection.call(this,indicator,chart);var upperLine=new Series(indicator,'targetSeries',{},true);_super.prototype.setSeriesProperties.call(this,upperLine,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);};/**
     * Defines the predictions using momentum approach
     *
     * @private
     */MomentumIndicator.prototype.initDataSource=function(indicator,chart){var upperCollection=[];var signalCollection=[];var validData=indicator.points;if(validData&&validData.length){var upperSeries=indicator.targetSeries[1];var signalSeries=indicator.targetSeries[0];var length_1=indicator.period;if(validData.length>=indicator.period){for(var i=0;i<validData.length;i++){upperCollection.push(this.getDataPoint(validData[i].x,100,validData[i],upperSeries,upperCollection.length));if(!(i<length_1)){signalCollection.push(this.getDataPoint(validData[i].x,Number(validData[i].close)/Number(validData[i-length_1].close)*100,validData[i],signalSeries,signalCollection.length));}}}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[1]);}};/**
     * To destroy the momentum indicator
     *
     * @returns {void}
     * @private
     */MomentumIndicator.prototype.destroy=function(){/**
         * Destroys the momentum indicator
         */};/**
     * Get module name.
     */MomentumIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'MomentumIndicator';};return MomentumIndicator;}(TechnicalAnalysis);var __extends$51=undefined&&undefined.__extends||function(){var _extendStatics52=function extendStatics(d,b){_extendStatics52=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics52(d,b);};return function(d,b){_extendStatics52(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `RsiIndicator` module is used to render RSI indicator.
 */var RsiIndicator=/** @class */function(_super){__extends$51(RsiIndicator,_super);function RsiIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Initializes the series collection to represent the RSI Indicator
     *
     * @private
     */RsiIndicator.prototype.initSeriesCollection=function(indicator,chart){_super.prototype.initSeriesCollection.call(this,indicator,chart);if(indicator.showZones){var lowerLine=new Series(indicator,'targetSeries',{},true);_super.prototype.setSeriesProperties.call(this,lowerLine,indicator,'LowerLine',indicator.lowerLine.color,indicator.lowerLine.width,chart);var upperLine=new Series(indicator,'targetSeries',{},true);_super.prototype.setSeriesProperties.call(this,upperLine,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);}};/**
     * Defines the predictions using RSI approach
     *
     * @private
     */RsiIndicator.prototype.initDataSource=function(indicator,chart){var signalCollection=[];var lowerCollection=[];var upperCollection=[];var signalSeries=indicator.targetSeries[0];//prepare data
var validData=indicator.points;if(validData.length&&validData.length>=indicator.period){//Find upper band and lower band values
if(indicator.showZones){for(var i=0;i<validData.length;i++){upperCollection.push(this.getDataPoint(validData[i].x,indicator.overBought,validData[i],indicator.targetSeries[1],upperCollection.length));lowerCollection.push(this.getDataPoint(validData[i].x,indicator.overSold,validData[i],indicator.targetSeries[2],lowerCollection.length));}}//Find signal line value
var prevClose=Number(validData[0].close);var gain=0;var loss=0;for(var i=1;i<=indicator.period;i++){var close_1=Number(validData[i].close);if(close_1>prevClose){gain+=close_1-prevClose;}else{loss+=prevClose-close_1;}prevClose=close_1;}gain=gain/indicator.period;loss=loss/indicator.period;signalCollection.push(this.getDataPoint(validData[indicator.period].x,100-100/(1+gain/loss),validData[indicator.period],signalSeries,signalCollection.length));for(var j=indicator.period+1;j<validData.length;j++){var close_2=Number(validData[j].close);if(close_2>prevClose){gain=(gain*(indicator.period-1)+(close_2-prevClose))/indicator.period;loss=loss*(indicator.period-1)/indicator.period;}else if(close_2<prevClose){loss=(loss*(indicator.period-1)+(prevClose-close_2))/indicator.period;gain=gain*(indicator.period-1)/indicator.period;}prevClose=close_2;signalCollection.push(this.getDataPoint(validData[j].x,100-100/(1+gain/loss),validData[j],signalSeries,signalCollection.length));}}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);if(indicator.showZones){this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[1]);this.setSeriesRange(lowerCollection,indicator,indicator.targetSeries[2]);}};/**
     * To destroy the RSI Indicator.
     *
     * @returns {void}
     * @private
     */RsiIndicator.prototype.destroy=function(){/**
         * Destroys the RSI Indicator
         */};/**
     * Get module name.
     */RsiIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the indicator.
         */return'RsiIndicator';};return RsiIndicator;}(TechnicalAnalysis);var __extends$52=undefined&&undefined.__extends||function(){var _extendStatics53=function extendStatics(d,b){_extendStatics53=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics53(d,b);};return function(d,b){_extendStatics53(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `StochasticIndicator` module is used to render stochastic indicator.
 */var StochasticIndicator=/** @class */function(_super){__extends$52(StochasticIndicator,_super);function StochasticIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the collection of series that represents the stochastic indicator
     *
     * @private
     */StochasticIndicator.prototype.initSeriesCollection=function(indicator,chart){_super.prototype.initSeriesCollection.call(this,indicator,chart);var periodLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(periodLine,indicator,'PeriodLine',indicator.periodLine.color,indicator.periodLine.width,chart);if(indicator.showZones){var upperSeries=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(upperSeries,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);var lowerSeries=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(lowerSeries,indicator,'LowerLine',indicator.lowerLine.color,indicator.lowerLine.width,chart);}};/**
     * Defines the predictions based on stochastic approach
     *
     * @private
     */StochasticIndicator.prototype.initDataSource=function(indicator,chart){var signalCollection=[];var upperCollection=[];var lowerCollection=[];var periodCollection=[];var source=[];//prepare data
var validData=indicator.points;if(validData.length&&validData.length>=indicator.period){if(indicator.showZones){for(var i=0;i<validData.length;i++){upperCollection.push(this.getDataPoint(validData[i].x,indicator.overBought,validData[i],indicator.targetSeries[2],upperCollection.length));lowerCollection.push(this.getDataPoint(validData[i].x,indicator.overSold,validData[i],indicator.targetSeries[3],lowerCollection.length));}}source=this.calculatePeriod(indicator.period,indicator.kPeriod,validData,indicator.targetSeries[1]);periodCollection=this.smaCalculation(indicator.period,indicator.kPeriod,source,indicator.targetSeries[1]);signalCollection=this.smaCalculation(indicator.period+indicator.kPeriod-1,indicator.dPeriod,source,indicator.targetSeries[0]);}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);this.setSeriesRange(periodCollection,indicator,indicator.targetSeries[1]);if(indicator.showZones){this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[2]);this.setSeriesRange(lowerCollection,indicator,indicator.targetSeries[3]);}};/**
     * Calculates the SMA Values
     *
     * @private
     */StochasticIndicator.prototype.smaCalculation=function(period,kPeriod,data,sourceSeries){var pointCollection=[];if(data.length>=period+kPeriod){var count=period+(kPeriod-1);var temp=[];var values=[];for(var i=0;i<data.length;i++){var value=Number(data[i].y);temp.push(value);}var length_1=temp.length;while(length_1>=count){var sum=0;for(var i=period-1;i<period+kPeriod-1;i++){sum=sum+temp[i];}sum=sum/kPeriod;values.push(sum.toFixed(2));temp.splice(0,1);length_1=temp.length;}var len=count-1;for(var i=0;i<data.length;i++){if(!(i<len)){pointCollection.push(this.getDataPoint(data[i].x,Number(values[i-len]),data[i],sourceSeries,pointCollection.length));data[i].y=Number(values[i-len]);}}}return pointCollection;};/**
     * Calculates the period line values.
     *
     * @private
     */StochasticIndicator.prototype.calculatePeriod=function(period,kPeriod,data,series){var lowValues=[];var highValues=[];var closeValues=[];var modifiedSource=[];for(var j=0;j<data.length;j++){lowValues[j]=data[j].low;highValues[j]=data[j].high;closeValues[j]=data[j].close;}if(data.length>period){var mins=[];var maxs=[];for(var i=0;i<period-1;++i){maxs.push(0);mins.push(0);modifiedSource.push(this.getDataPoint(data[i].x,data[i].close,data[i],series,modifiedSource.length));}for(var i=period-1;i<data.length;++i){var min=Number.MAX_VALUE;var max=Number.MIN_VALUE;for(var j=0;j<period;++j){min=Math.min(min,lowValues[i-j]);max=Math.max(max,highValues[i-j]);}maxs.push(max);mins.push(min);}for(var i=period-1;i<data.length;++i){var top_1=0;var bottom=0;top_1+=closeValues[i]-mins[i];bottom+=maxs[i]-mins[i];modifiedSource.push(this.getDataPoint(data[i].x,top_1/bottom*100,data[i],series,modifiedSource.length));}}return modifiedSource;};/**
     * To destroy the Stocastic Indicator.
     *
     * @returns {void}
     * @private
     */StochasticIndicator.prototype.destroy=function(){/**
         * Destroys the stochastic indicator
         */};/**
     * Get module name.
     */StochasticIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the indicator.
         */return'StochasticIndicator';};return StochasticIndicator;}(TechnicalAnalysis);var __extends$53=undefined&&undefined.__extends||function(){var _extendStatics54=function extendStatics(d,b){_extendStatics54=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics54(d,b);};return function(d,b){_extendStatics54(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `BollingerBands` module is used to render bollinger band indicator.
 */var BollingerBands=/** @class */function(_super){__extends$53(BollingerBands,_super);function BollingerBands(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Initializes the series collection to represent bollinger band
     */BollingerBands.prototype.initSeriesCollection=function(indicator,chart){indicator.targetSeries=[];var rangeArea=new Series(indicator,'targetSeries',{},true);rangeArea.type='RangeArea';if(indicator.bandColor!=='transparent'&&indicator.bandColor!=='none'){this.setSeriesProperties(rangeArea,indicator,'BollingerBand',indicator.bandColor,0,chart);}var signalLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(signalLine,indicator,'BollingerBand',indicator.fill,indicator.width,chart);var upperLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(upperLine,indicator,'UpperLine',indicator.upperLine.color,indicator.upperLine.width,chart);var lowerLine=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(lowerLine,indicator,'LowerLine',indicator.lowerLine.color,indicator.lowerLine.width,chart);};/**
     * Defines the predictions using Bollinger Band Approach
     *
     * @private
     */BollingerBands.prototype.initDataSource=function(indicator,chart){var enableBand=indicator.bandColor!=='transparent'&&indicator.bandColor!=='none';var start=enableBand?1:0;var signalCollection=[];var upperCollection=[];var lowerCollection=[];var bandCollection=[];var upperSeries=indicator.targetSeries[start+1];var lowerSeries=indicator.targetSeries[start+2];var signalSeries=indicator.targetSeries[start];var rangeAreaSeries=enableBand?indicator.targetSeries[0]:null;//prepare data
var validData=indicator.points;if(validData.length&&validData.length>=indicator.period){var sum=0;var deviationSum=0;var multiplier=indicator.standardDeviation;var limit=validData.length;var length_1=Math.round(indicator.period);var smaPoints=[];var deviations=[];var bollingerPoints=[];for(var i_1=0;i_1<length_1;i_1++){sum+=Number(validData[i_1].close);}var sma=sum/indicator.period;for(var i_2=0;i_2<limit;i_2++){var y=Number(validData[i_2].close);if(i_2>=length_1-1&&i_2<limit){if(i_2-indicator.period>=0){var diff=y-Number(validData[i_2-length_1].close);sum=sum+diff;sma=sum/indicator.period;smaPoints[i_2]=sma;deviations[i_2]=Math.pow(y-sma,2);deviationSum+=deviations[i_2]-deviations[i_2-length_1];}else{smaPoints[i_2]=sma;deviations[i_2]=Math.pow(y-sma,2);deviationSum+=deviations[i_2];}var range=Math.sqrt(deviationSum/indicator.period);var lowerBand=smaPoints[i_2]-multiplier*range;var upperBand=smaPoints[i_2]+multiplier*range;if(i_2+1===length_1){for(var j_1=0;j_1<length_1-1;j_1++){bollingerPoints[j_1]={'X':validData[j_1].x,'mb':smaPoints[i_2],'lb':lowerBand,'ub':upperBand,visible:true};}}bollingerPoints[i_2]={'X':validData[i_2].x,'mb':smaPoints[i_2],'lb':lowerBand,'ub':upperBand,visible:true};}else{if(i_2<indicator.period-1){smaPoints[i_2]=sma;deviations[i_2]=Math.pow(y-sma,2);deviationSum+=deviations[i_2];}}}var i=-1;var j=-1;for(var k=0;k<limit;k++){if(k>=length_1-1){var ub='ub';var lb='lb';var mb='mb';upperCollection.push(this.getDataPoint(validData[k].x,bollingerPoints[k][ub],validData[k],upperSeries,upperCollection.length));lowerCollection.push(this.getDataPoint(validData[k].x,bollingerPoints[k][lb],validData[k],lowerSeries,lowerCollection.length));signalCollection.push(this.getDataPoint(validData[k].x,bollingerPoints[k][mb],validData[k],signalSeries,signalCollection.length));if(enableBand){bandCollection.push(this.getRangePoint(validData[k].x,upperCollection[++i].y,lowerCollection[++j].y,validData[k],rangeAreaSeries,bandCollection.length));}}}}if(enableBand){this.setSeriesRange(bandCollection,indicator,indicator.targetSeries[0]);}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[start]);this.setSeriesRange(upperCollection,indicator,indicator.targetSeries[start+1]);this.setSeriesRange(lowerCollection,indicator,indicator.targetSeries[start+2]);};/**
     * To destroy the Bollinger Band.
     *
     * @returns {void}
     * @private
     */BollingerBands.prototype.destroy=function(){/**
         * Destroys the bollinger band
         */};/**
     * Get module name.
     */BollingerBands.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'BollingerBandsIndicator';};return BollingerBands;}(TechnicalAnalysis);var __extends$54=undefined&&undefined.__extends||function(){var _extendStatics55=function extendStatics(d,b){_extendStatics55=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics55(d,b);};return function(d,b){_extendStatics55(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `MacdIndicator` module is used to render MACD indicator.
 */var MacdIndicator=/** @class */function(_super){__extends$54(MacdIndicator,_super);function MacdIndicator(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Defines the collection of series to represent the MACD indicator
     *
     * @private
     */MacdIndicator.prototype.initSeriesCollection=function(indicator,chart){_super.prototype.initSeriesCollection.call(this,indicator,chart);if(indicator.macdType==='Line'||indicator.macdType==='Both'){var macdSeries=new Series(indicator,'targetSeries',{},true);this.setSeriesProperties(macdSeries,indicator,'MacdLine',indicator.macdLine.color,indicator.macdLine.width,chart);}if(indicator.macdType==='Histogram'||indicator.macdType==='Both'){var histogramSeries=new Series(indicator,'targetSeries',{},true);histogramSeries.type='Column';this.setSeriesProperties(histogramSeries,indicator,'Histogram',indicator.macdPositiveColor,indicator.width,chart);}};/**
     * Defines the predictions using MACD approach
     *
     * @private
     */MacdIndicator.prototype.initDataSource=function(indicator,chart){var signalCollection=[];var fastPeriod=indicator.fastPeriod;var slowPeriod=indicator.slowPeriod;var trigger=indicator.period;var length=fastPeriod+trigger;var macdCollection=[];var histogramCollection=[];var validData=indicator.points;var signalSeries=indicator.targetSeries[0];var histogramSeries;var macdLineSeries;if(indicator.macdType==='Histogram'){histogramSeries=indicator.targetSeries[1];}else{macdLineSeries=indicator.targetSeries[1];if(indicator.macdType==='Both'){histogramSeries=indicator.targetSeries[2];}}if(validData&&length<validData.length&&slowPeriod<=fastPeriod&&slowPeriod>0&&length-2>=0){var shortEMA=this.calculateEMAValues(slowPeriod,validData,'close');var longEMA=this.calculateEMAValues(fastPeriod,validData,'close');var macdValues=this.getMACDVales(indicator,shortEMA,longEMA);macdCollection=this.getMACDPoints(indicator,macdValues,validData,macdLineSeries||signalSeries);var signalEMA=this.calculateEMAValues(trigger,macdCollection,'y');signalCollection=this.getSignalPoints(indicator,signalEMA,validData,signalSeries);if(histogramSeries){histogramCollection=this.getHistogramPoints(indicator,macdValues,signalEMA,validData,histogramSeries);}}this.setSeriesRange(signalCollection,indicator,indicator.targetSeries[0]);if(histogramSeries){this.setSeriesRange(histogramCollection,indicator,histogramSeries);}if(macdLineSeries){this.setSeriesRange(macdCollection,indicator,macdLineSeries);}};/**
     * Calculates the EMA values for the given period
     */MacdIndicator.prototype.calculateEMAValues=function(period,validData,field){var sum=0;var initialEMA=0;var emaValues=[];var emaPercent=2/(period+1);for(var i=0;i<period;i++){sum+=Number(validData[i][field]);}initialEMA=sum/period;emaValues.push(initialEMA);var emaAvg=initialEMA;for(var j=period;j<validData.length;j++){emaAvg=(Number(validData[j][field])-emaAvg)*emaPercent+emaAvg;emaValues.push(emaAvg);}return emaValues;};/**
     * Defines the MACD Points
     */MacdIndicator.prototype.getMACDPoints=function(indicator,macdPoints,validData,series){var macdCollection=[];var dataMACDIndex=indicator.fastPeriod-1;var macdIndex=0;while(dataMACDIndex<validData.length){macdCollection.push(this.getDataPoint(validData[dataMACDIndex].x,macdPoints[macdIndex],validData[dataMACDIndex],series,macdCollection.length));dataMACDIndex++;macdIndex++;}return macdCollection;};/**
     * Calculates the signal points
     */MacdIndicator.prototype.getSignalPoints=function(indicator,signalEma,validData,series){var dataSignalIndex=indicator.fastPeriod+indicator.period-2;var signalIndex=0;var signalCollection=[];while(dataSignalIndex<validData.length){signalCollection.push(this.getDataPoint(validData[dataSignalIndex].x,signalEma[signalIndex],validData[dataSignalIndex],series,signalCollection.length));dataSignalIndex++;signalIndex++;}return signalCollection;};/**
     * Calculates the MACD values
     */MacdIndicator.prototype.getMACDVales=function(indicator,shortEma,longEma){var macdPoints=[];var diff=indicator.fastPeriod-indicator.slowPeriod;for(var i=0;i<longEma.length;i++){macdPoints.push(shortEma[i+diff]-longEma[i]);}return macdPoints;};/**
     * Calculates the Histogram Points
     */MacdIndicator.prototype.getHistogramPoints=function(indicator,macdPoints,signalEma,validData,series){var dataHistogramIndex=indicator.fastPeriod+indicator.period-2;var histogramIndex=0;var histogramCollection=[];while(dataHistogramIndex<validData.length){histogramCollection.push(this.getDataPoint(validData[dataHistogramIndex].x,macdPoints[histogramIndex+(indicator.period-1)]-signalEma[histogramIndex],validData[dataHistogramIndex],series,histogramCollection.length,indicator));dataHistogramIndex++;histogramIndex++;}return histogramCollection;};/**
     * To destroy the MACD Indicator.
     *
     * @returns {void}
     * @private
     */MacdIndicator.prototype.destroy=function(){/**
         * Destroys the MACD indicator
         */};/**
     * Get module name.
     */MacdIndicator.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'MacdIndicator';};return MacdIndicator;}(TechnicalAnalysis);/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `Trendline` module is used to render 6 types of trendlines in chart.
 */var Trendlines=/** @class */function(){function Trendlines(){}/**
     * Defines the collection of series, that are used to represent a trendline
     *
     * @private
     */Trendlines.prototype.initSeriesCollection=function(trendline,chart){var trendLineSeries=new Series(trendline,'targetSeries',{},true);if(trendline.type==='Linear'||trendline.type==='MovingAverage'){trendLineSeries.type='Line';}else{trendLineSeries.type='Spline';}this.setSeriesProperties(trendLineSeries,trendline,trendline.type,trendline.fill,trendline.width,chart);};/**
     * Initializes the properties of the trendline series
     */Trendlines.prototype.setSeriesProperties=function(series,trendline,name,fill,width,chart){series.name=trendline.name;series.xName='x';series.yName='y';series.fill=fill||'blue';series.width=width;series.dashArray=trendline.dashArray;series.clipRectElement=trendline.clipRectElement;series.points=[];series.enableTooltip=trendline.enableTooltip;series.index=trendline.index;series.sourceIndex=trendline.sourceIndex;series.interior=series.fill;series.animation=trendline.animation;series.legendShape='HorizontalLine';series.marker=trendline.marker;series.category='TrendLine';series.chart=chart;series.xMin=Infinity;series.xMax=-Infinity;series.yMin=Infinity;series.yMax=-Infinity;series.xData=[];series.yData=[];trendline.targetSeries=series;if(chart.isBlazor){trendline.targetSeries.border={};// To avoid console error in blazor
trendline.targetSeries.connector={};// To avoid console error in blazor
}};/**
     * Creates the elements of a trendline
     */Trendlines.prototype.createTrendLineElements=function(chart,trendline,index,element,clipRectElement){trendline.trendLineElement=element;trendline.targetSeries.clipRectElement=clipRectElement;trendline.targetSeries.seriesElement=element;if(chart.trendLineElements){chart.trendLineElements.appendChild(trendline.trendLineElement);}};/**
     * Defines the data point of trendline
     */Trendlines.prototype.getDataPoint=function(x,y,series,index){var trendPoint=new Points();trendPoint.x=series.xAxis.valueType==='DateTime'?new Date(Number(x)):x;trendPoint.y=y;trendPoint.xValue=Number(x);trendPoint.color=series.fill;trendPoint.index=index;trendPoint.yValue=Number(y);trendPoint.visible=true;series.xMin=Math.min(series.xMin,trendPoint.xValue);series.yMin=Math.min(series.yMin,trendPoint.yValue);series.xMax=Math.max(series.xMax,trendPoint.xValue);series.yMax=Math.max(series.yMax,trendPoint.yValue);series.xData.push(trendPoint.xValue);return trendPoint;};/**
     * Finds the slope and intercept of trendline
     */Trendlines.prototype.findSlopeIntercept=function(xValues,yValues,trendline,points){var xAvg=0;var yAvg=0;var xyAvg=0;var xxAvg=0;var index=0;var slope=0;var intercept=0;while(index<points.length){// To fix trendline not rendered issue while Nan Value is provided for y values.
if(isNaN(yValues[index])){yValues[index]=(yValues[index-1]+yValues[index+1])/2;}xAvg+=xValues[index];yAvg+=yValues[index];xyAvg+=xValues[index]*yValues[index];xxAvg+=xValues[index]*xValues[index];index++;}var type=trendline.type;if(trendline.intercept&&(type==='Linear'||type==='Exponential')){intercept=trendline.intercept;switch(type){case'Linear':slope=(xyAvg-trendline.intercept*xAvg)/xxAvg;break;case'Exponential':slope=(xyAvg-Math.log(Math.abs(trendline.intercept))*xAvg)/xxAvg;break;}}else{slope=(points.length*xyAvg-xAvg*yAvg)/(points.length*xxAvg-xAvg*xAvg);slope=type==='Linear'?slope:Math.abs(slope);if(type==='Exponential'||type==='Power'){intercept=Math.exp((yAvg-slope*xAvg)/points.length);}else{intercept=(yAvg-slope*xAvg)/points.length;}}return{slope:slope,intercept:intercept};};/**
     * Defines the points to draw the trendlines
     */Trendlines.prototype.initDataSource=function(trendline){var points=trendline.points;if(points&&points.length){//prepare data
var trendlineSeries=trendline.targetSeries;switch(trendline.type){case'Linear':this.setLinearRange(points,trendline,trendlineSeries);break;case'Exponential':this.setExponentialRange(points,trendline,trendlineSeries);break;case'MovingAverage':this.setMovingAverageRange(points,trendline,trendlineSeries);break;case'Polynomial':this.setPolynomialRange(points,trendline,trendlineSeries);break;case'Power':this.setPowerRange(points,trendline,trendlineSeries);break;case'Logarithmic':this.setLogarithmicRange(points,trendline,trendlineSeries);break;}if(trendline.type!=='Linear'&&trendline.type!=='MovingAverage'){trendlineSeries.chart.splineSeriesModule.findSplinePoint(trendlineSeries);}}};/**
     * Calculation of exponential points
     */Trendlines.prototype.setExponentialRange=function(points,trendline,series){var xValue=[];var yValue=[];var index=0;while(index<points.length){var point=points[index];var yDataValue=point.yValue?Math.log(point.yValue):0;xValue.push(point.xValue);yValue.push(yDataValue);index++;}var slopeIntercept=this.findSlopeIntercept(xValue,yValue,trendline,points);series.points=this.getExponentialPoints(trendline,points,xValue,yValue,series,slopeIntercept);};/**
     * Calculation of logarithmic points
     */Trendlines.prototype.setLogarithmicRange=function(points,trendline,series){var xLogValue=[];var yLogValue=[];var xPointsLgr=[];var index=0;while(index<points.length){var point=points[index];var xDataValue=point.xValue?Math.log(point.xValue):0;xPointsLgr.push(point.xValue);xLogValue.push(xDataValue);yLogValue.push(point.yValue);index++;}var slopeIntercept=this.findSlopeIntercept(xLogValue,yLogValue,trendline,points);series.points=this.getLogarithmicPoints(trendline,points,xPointsLgr,yLogValue,series,slopeIntercept);};/**
     * Calculation of polynomial points
     */Trendlines.prototype.setPolynomialRange=function(points,trendline,series){var xPolyValues=[];var yPolyValues=[];var index=0;while(index<points.length){var point=points[index];xPolyValues.push(point.xValue);yPolyValues.push(point.yValue);index++;}series.points=this.getPolynomialPoints(trendline,points,xPolyValues,yPolyValues,series);};/**
     * Calculation of power points
     */Trendlines.prototype.setPowerRange=function(points,trendline,series){var xValues=[];var yValues=[];var powerPoints=[];var index=0;while(index<points.length){var point=points[index];var xDataValue=point.xValue?Math.log(point.xValue):0;var yDataValue=point.yValue?Math.log(point.yValue):0;powerPoints.push(point.xValue);xValues.push(xDataValue);yValues.push(yDataValue);index++;}var slopeIntercept=this.findSlopeIntercept(xValues,yValues,trendline,points);series.points=this.getPowerPoints(trendline,points,powerPoints,yValues,series,slopeIntercept);};/**
     * Calculation of linear points
     */Trendlines.prototype.setLinearRange=function(points,trendline,series){var xValues=[];var yValues=[];var index=0;while(index<points.length){var point=points[index];xValues.push(point.xValue);yValues.push(point.yValue);index++;}var slopeIntercept=this.findSlopeIntercept(xValues,yValues,trendline,points);series.points=this.getLinearPoints(trendline,points,xValues,yValues,series,slopeIntercept);};/**
     * Calculation of moving average points
     */Trendlines.prototype.setMovingAverageRange=function(points,trendline,series){var xValues=[];var yValues=[];var xAvgValues=[];var index=0;while(index<points.length){var point=points[index];xAvgValues.push(point.xValue);xValues.push(index+1);yValues.push(point.yValue);index++;}series.points=this.getMovingAveragePoints(trendline,points,xAvgValues,yValues,series);};/**
     * Calculation of logarithmic points
     */Trendlines.prototype.getLogarithmicPoints=function(trendline,points,xValues,yValues,series,slopeInterceptLog){var midPoint=Math.round(points.length/2);var pts=[];var x1Log=xValues[0]-trendline.backwardForecast;var x1=x1Log?Math.log(x1Log):0;var y1Log=slopeInterceptLog.intercept+slopeInterceptLog.slope*x1;var x2Log=xValues[midPoint-1];var x2=x2Log?Math.log(x2Log):0;var y2Log=slopeInterceptLog.intercept+slopeInterceptLog.slope*x2;var x3Log=xValues[xValues.length-1]+trendline.forwardForecast;var x3=x3Log?Math.log(x3Log):0;var y3Log=slopeInterceptLog.intercept+slopeInterceptLog.slope*x3;pts.push(this.getDataPoint(x1Log,y1Log,series,pts.length));pts.push(this.getDataPoint(x2Log,y2Log,series,pts.length));pts.push(this.getDataPoint(x3Log,y3Log,series,pts.length));return pts;};/**
     * Defines the points based on data point
     */Trendlines.prototype.getPowerPoints=function(trendline,points,xValues,yValues,series,slopeInterceptPower){var midPoint=Math.round(points.length/2);var pts=[];var x1=xValues[0]-trendline.backwardForecast;x1=x1>-1?x1:0;var y1=slopeInterceptPower.intercept*Math.pow(x1,slopeInterceptPower.slope);var x2=xValues[midPoint-1];var y2=slopeInterceptPower.intercept*Math.pow(x2,slopeInterceptPower.slope);var x3=xValues[xValues.length-1]+trendline.forwardForecast;var y3=slopeInterceptPower.intercept*Math.pow(x3,slopeInterceptPower.slope);pts.push(this.getDataPoint(x1,y1,series,pts.length));pts.push(this.getDataPoint(x2,y2,series,pts.length));pts.push(this.getDataPoint(x3,y3,series,pts.length));return pts;};/**
     * Get the polynomial points based on polynomial slopes
     */Trendlines.prototype.getPolynomialPoints=function(trendline,points,xValues,yValues,series){var pts=[];var polynomialOrder=points.length<=trendline.polynomialOrder?points.length:trendline.polynomialOrder;polynomialOrder=Math.max(2,polynomialOrder);polynomialOrder=Math.min(6,polynomialOrder);trendline.polynomialOrder=polynomialOrder;trendline.polynomialSlopes=[];trendline.polynomialSlopes.length=trendline.polynomialOrder+1;var index=0;while(index<xValues.length){var xVal=xValues[index];var yVal=yValues[index];var subIndex=0;while(subIndex<=trendline.polynomialOrder){if(!trendline.polynomialSlopes[subIndex]){trendline.polynomialSlopes[subIndex]=0;}trendline.polynomialSlopes[subIndex]+=Math.pow(xVal,subIndex)*yVal;++subIndex;}index++;}var numArray=[];numArray.length=1+2*trendline.polynomialOrder;var matrix=[];matrix.length=trendline.polynomialOrder+1;var newIndex=0;while(newIndex<trendline.polynomialOrder+1){matrix[newIndex]=[];matrix[newIndex].length=3;newIndex++;}var nIndex=0;while(nIndex<xValues.length){var d=xValues[nIndex];var num2=1.0;var nIndex2=0;while(nIndex2<numArray.length){if(!numArray[nIndex2]){numArray[nIndex2]=0;}numArray[nIndex2]+=num2;num2*=d;++nIndex2;}++nIndex;}var nnIndex=0;while(nnIndex<=trendline.polynomialOrder){var nnIndex2=0;while(nnIndex2<=trendline.polynomialOrder){matrix[nnIndex][nnIndex2]=numArray[nnIndex+nnIndex2];++nnIndex2;}++nnIndex;}if(!this.gaussJordanElimination(matrix,trendline.polynomialSlopes)){trendline.polynomialSlopes=null;}pts=this.getPoints(trendline,points,xValues,series);return pts;};/**
     * Defines the moving average points
     */Trendlines.prototype.getMovingAveragePoints=function(trendline,points,xValues,yValues,series){var pts=[];var period=trendline.period>=points.length?points.length-1:trendline.period;period=Math.max(2,period);var index=0;var y;var x;var count;var nullCount;while(index<points.length-1){y=count=nullCount=0;for(var j=index;count<period;j++){count++;if(!yValues[j]){nullCount++;}y+=yValues[j];}y=period-nullCount<=0?null:y/(period-nullCount);if(y&&!isNaN(y)){x=xValues[period-1+index];pts.push(this.getDataPoint(x,y,series,pts.length));}index++;}return pts;};/**
     * Defines the linear points
     */Trendlines.prototype.getLinearPoints=function(trendline,points,xValues,yValues,series,slopeInterceptLinear){var pts=[];var max=xValues.indexOf(Math.max.apply(null,xValues));var min=xValues.indexOf(Math.min.apply(null,xValues));var x1Linear=xValues[min]-trendline.backwardForecast;var y1Linear=slopeInterceptLinear.slope*x1Linear+slopeInterceptLinear.intercept;var x2Linear=xValues[max]+trendline.forwardForecast;var y2Linear=slopeInterceptLinear.slope*x2Linear+slopeInterceptLinear.intercept;pts.push(this.getDataPoint(x1Linear,y1Linear,series,pts.length));pts.push(this.getDataPoint(x2Linear,y2Linear,series,pts.length));return pts;};/**
     * Defines the exponential points
     */Trendlines.prototype.getExponentialPoints=function(trendline,points,xValues,yValues,series,slopeInterceptExp){var midPoint=Math.round(points.length/2);var ptsExp=[];var x1=xValues[0]-trendline.backwardForecast;var y1=slopeInterceptExp.intercept*Math.exp(slopeInterceptExp.slope*x1);var x2=xValues[midPoint-1];var y2=slopeInterceptExp.intercept*Math.exp(slopeInterceptExp.slope*x2);var x3=xValues[xValues.length-1]+trendline.forwardForecast;var y3=slopeInterceptExp.intercept*Math.exp(slopeInterceptExp.slope*x3);ptsExp.push(this.getDataPoint(x1,y1,series,ptsExp.length));ptsExp.push(this.getDataPoint(x2,y2,series,ptsExp.length));ptsExp.push(this.getDataPoint(x3,y3,series,ptsExp.length));return ptsExp;};/**
     * Defines the points based on data point
     */Trendlines.prototype.getPoints=function(trendline,points,xValues,series){var polynomialSlopes=trendline.polynomialSlopes;var pts=[];var x1=1;var index=1;var xValue;var yValue;// We have to sort the points in ascending order. Because, the data source of the series may be random order.
points.sort(function(a,b){return a.xValue-b.xValue;});xValues.sort(function(a,b){return a-b;});while(index<=polynomialSlopes.length){if(index===1){xValue=xValues[0]-trendline.backwardForecast;yValue=this.getPolynomialYValue(polynomialSlopes,xValue);pts.push(this.getDataPoint(xValue,yValue,series,pts.length));}else if(index===polynomialSlopes.length){xValue=xValues[points.length-1]+trendline.forwardForecast;yValue=this.getPolynomialYValue(polynomialSlopes,xValue);pts.push(this.getDataPoint(xValue,yValue,series,pts.length));}else{x1+=(points.length+trendline.forwardForecast)/polynomialSlopes.length;xValue=xValues[parseInt(x1.toString(),10)-1];yValue=this.getPolynomialYValue(polynomialSlopes,xValue);pts.push(this.getDataPoint(xValue,yValue,series,pts.length));}index++;}return pts;};/**
     * Defines the polynomial value of y
     */Trendlines.prototype.getPolynomialYValue=function(slopes,x){var sum$$1=0;var index=0;while(index<slopes.length){sum$$1+=slopes[index]*Math.pow(x,index);index++;}return sum$$1;};/**
     * Defines the gauss jordan elimination
     */Trendlines.prototype.gaussJordanElimination=function(matrix,polynomialSlopes){var length=matrix.length;var numArray1=[];var numArray2=[];var numArray3=[];numArray1.length=length;numArray2.length=length;numArray3.length=length;var index=0;while(index<length){numArray3[index]=0;++index;}var index1=0;while(index1<length){var num1=0;var index2=0;var index3=0;var index4=0;while(index4<length){if(numArray3[index4]!==1){var index5=0;while(index5<length){if(numArray3[index5]===0&&Math.abs(matrix[index4][index5])>=num1){num1=Math.abs(matrix[index4][index5]);index2=index4;index3=index5;}++index5;}}++index4;}++numArray3[index3];if(index2!==index3){var index4_1=0;while(index4_1<length){var num2=matrix[index2][index4_1];matrix[index2][index4_1]=matrix[index3][index4_1];matrix[index3][index4_1]=num2;++index4_1;}var num3=polynomialSlopes[index2];polynomialSlopes[index2]=polynomialSlopes[index3];polynomialSlopes[index3]=num3;}numArray2[index1]=index2;numArray1[index1]=index3;if(matrix[index3][index3]===0.0){return false;}var num4=1.0/matrix[index3][index3];matrix[index3][index3]=1.0;var iindex4=0;while(iindex4<length){matrix[index3][iindex4]*=num4;++iindex4;}polynomialSlopes[index3]*=num4;var iandex4=0;while(iandex4<length){if(iandex4!==index3){var num2=matrix[iandex4][index3];matrix[iandex4][index3]=0.0;var index5=0;while(index5<length){matrix[iandex4][index5]-=matrix[index3][index5]*num2;++index5;}polynomialSlopes[iandex4]-=polynomialSlopes[index3]*num2;}++iandex4;}++index1;}var iindex1=length-1;while(iindex1>=0){if(numArray2[iindex1]!==numArray1[iindex1]){var iindex2=0;while(iindex2<length){var num=matrix[iindex2][numArray2[iindex1]];matrix[iindex2][numArray2[iindex1]]=matrix[iindex2][numArray1[iindex1]];matrix[iindex2][numArray1[iindex1]]=num;++iindex2;}}--iindex1;}return true;};/**
     * Defines the trendline elements
     */Trendlines.prototype.getTrendLineElements=function(series,chart){findClipRect(series);var clipRect=series.clipRect;var clipRectElement=chart.renderer.drawClipPath(new RectOption(chart.element.id+'_ChartTrendlineClipRect_'+series.index,'transparent',{width:1,color:'Gray'},1,{x:0,y:0,width:clipRect.width,height:clipRect.height}));var element=chart.renderer.createGroup({'id':chart.element.id+'TrendlineSeriesGroup'+series.index,'transform':'translate('+clipRect.x+','+clipRect.y+')','clip-path':'url(#'+chart.element.id+'_ChartTrendlineClipRect_'+series.index+')'});//defines the clip rect element
if(element){element.appendChild(clipRectElement);}for(var _i=0,_a=series.trendlines;_i<_a.length;_i++){var trendline=_a[_i];this.createTrendLineElements(chart,trendline,trendline.index,element,clipRectElement);}};/**
     * To destroy the trendline
     */Trendlines.prototype.destroy=function(){/**
         * Destroys the Linear Trendline
         */};/**
     * Get module name
     */Trendlines.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'TrendLine';};return Trendlines;}();/**
 * `Crosshair` module is used to render the crosshair for chart.
 */var Crosshair=/** @class */function(){/**
     * Constructor for crosshair module.
     *
     * @private
     */function Crosshair(chart){this.arrowLocation=new ChartLocation(0,0);this.rx=2;this.ry=2;this.chart=chart;this.elementID=this.chart.element.id;this.svgRenderer=new sf.svgbase.SvgRenderer(this.chart.element.id);this.addEventListener();}/**
     * @hidden
     */Crosshair.prototype.addEventListener=function(){if(this.chart.isDestroyed){return;}var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(sf.base.Browser.touchEndEvent,this.mouseUpHandler,this);this.chart.on(cancelEvent,this.mouseLeaveHandler,this);this.chart.on('tapHold',this.longPress,this);};Crosshair.prototype.mouseUpHandler=function(){if(this.chart.startMove){this.removeCrosshair(2000);}};Crosshair.prototype.mouseLeaveHandler=function(){this.removeCrosshair(1000);};Crosshair.prototype.mouseMoveHandler=function(event){var chart=this.chart;if(event.type==='touchmove'&&(sf.base.Browser.isIos||sf.base.Browser.isIos7)&&chart.startMove&&event.preventDefault){event.preventDefault();}// Tooltip for chart series.
if(!chart.disableTrackTooltip){if(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){if(chart.startMove||!chart.isTouch){this.crosshair();}}else{this.removeCrosshair(1000);}}};/**
     * Handles the long press on chart.
     *
     * @returns {boolean} false
     * @private
     */Crosshair.prototype.longPress=function(){var chart=this.chart;if(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){this.crosshair();}return false;};/**
     * Renders the crosshair.
     *
     * @returns {void}
     */Crosshair.prototype.crosshair=function(){var chart=this.chart;var horizontalCross='';var verticalCross='';var options;var axisTooltipGroup=document.getElementById(this.elementID+'_crosshair_axis');var crosshair=chart.crosshair;var tooltipdiv=document.getElementById(this.elementID+'_tooltip');var chartRect=chart.chartAxisLayoutPanel.seriesClipRect;var crossGroup=chart.enableCanvas?document.getElementById(this.elementID+'_Secondary_Element'):document.getElementById(this.elementID+'_UserInteraction');var crosshairsvg;var cross=document.getElementById(this.elementID+'_Crosshair');if(chart.enableCanvas){if(!cross){cross=sf.base.createElement('div',{id:this.elementID+'_Crosshair',styles:'position: absolute; pointer-events: none'});crossGroup.appendChild(cross);}}this.stopAnimation();if(chart.tooltip.enable&&!withInBounds(chart.tooltipModule.valueX,chart.tooltipModule.valueY,chartRect)){return null;}if(chart.stockChart&&chart.stockChart.onPanning){this.removeCrosshair(1000);return null;}this.valueX=chart.tooltip.enable?chart.tooltipModule.valueX:chart.mouseX;this.valueY=chart.tooltip.enable?chart.tooltipModule.valueY:chart.mouseY;if(!chart.enableCanvas){crossGroup.setAttribute('opacity','1');}if(crosshair.lineType==='Both'||crosshair.lineType==='Horizontal'){horizontalCross+='M '+chartRect.x+' '+this.valueY+' L '+(chartRect.x+chartRect.width)+' '+this.valueY;}if(crosshair.lineType==='Both'||crosshair.lineType==='Vertical'){verticalCross+='M '+this.valueX+' '+chartRect.y+' L '+this.valueX+' '+(chartRect.y+chartRect.height);}if(chart.enableCanvas){if(!axisTooltipGroup){axisTooltipGroup=this.svgRenderer.createGroup({'id':this.elementID+'_crosshair_axis'});}var elementID=chart.tooltip.enable?chart.element.id+'_tooltip_svg':chart.element.id+'_svg';crosshairsvg=this.svgRenderer.createSvg({id:elementID,width:chart.availableSize.width,height:chart.availableSize.height});if(chart.tooltip.enable){tooltipdiv=!tooltipdiv?chart.tooltipModule.createElement():tooltipdiv;tooltipdiv.appendChild(crosshairsvg);crossGroup.appendChild(tooltipdiv);}options=new sf.svgbase.PathOption(this.elementID+'_HorizontalLine','none',crosshair.line.width,crosshair.line.color||chart.themeStyle.crosshairLine,1,crosshair.dashArray,horizontalCross);this.drawCrosshairLine(options,cross,chartRect.x,this.valueY,chartRect.width,0,horizontalCross);options.d=verticalCross;options.id=this.elementID+'_VerticalLine';this.drawCrosshairLine(options,cross,this.valueX,chartRect.y,0,chartRect.height,verticalCross);this.renderAxisTooltip(chart,chartRect,axisTooltipGroup);crosshairsvg.appendChild(axisTooltipGroup);if(!chart.tooltip.enable){cross.appendChild(crosshairsvg);}}else{if(crossGroup.childNodes.length===0){axisTooltipGroup=chart.renderer.createGroup({'id':this.elementID+'_crosshair_axis'});options=new sf.svgbase.PathOption(this.elementID+'_HorizontalLine','none',crosshair.line.width,crosshair.line.color||chart.themeStyle.crosshairLine,1,crosshair.dashArray,horizontalCross);this.renderCrosshairLine(options,crossGroup);options.d=verticalCross;options.id=this.elementID+'_VerticalLine';this.renderCrosshairLine(options,crossGroup);crossGroup.appendChild(axisTooltipGroup);this.renderAxisTooltip(chart,chartRect,crossGroup.lastChild);}else{document.getElementById(this.elementID+'_HorizontalLine').setAttribute('d',horizontalCross);document.getElementById(this.elementID+'_VerticalLine').setAttribute('d',verticalCross);this.renderAxisTooltip(chart,chartRect,crossGroup.lastChild);}}};Crosshair.prototype.renderCrosshairLine=function(options,crossGroup){var htmlObject=this.chart.renderer.drawPath(options);crossGroup.appendChild(htmlObject);};Crosshair.prototype.drawCrosshairLine=function(options,crossGroup,left,top,width,height,direction){if(!document.getElementById(options.id)&&direction){var line=sf.base.createElement('div',{id:options.id});crossGroup.appendChild(line);}if(document.getElementById(options.id)){var style='top:'+top.toString()+'px;'+'left:'+left.toString()+'px;'+'width:'+width+'px;'+'height:'+height+'px;'+'fill:'+options.stroke+';'+'border: 0.5px solid black;'+'position: absolute';var crosshairline=document.getElementById(options.id);var crosshairtooltip=document.getElementById(this.elementID+'_crosshair_axis');crosshairline.setAttribute('style',style);crossGroup.style.opacity='1';if(crosshairtooltip){crosshairtooltip.style.opacity='1';}}};Crosshair.prototype.renderAxisTooltip=function(chart,chartRect,axisGroup){var axis;var text;var rect;var pathElement;var textElem;var options;var padding=5;var direction;var axisRect;for(var k=0,length_1=chart.axisCollections.length;k<length_1;k++){axis=chart.axisCollections[k];axisRect=!axis.placeNextToAxisLine?axis.rect:axis.updatedRect;if(axis.crosshairTooltip.enable){if(this.valueX<=axisRect.x+axisRect.width&&axisRect.x<=this.valueX||this.valueY<=axisRect.y+axisRect.height&&axisRect.y<=this.valueY){pathElement=document.getElementById(this.elementID+'_axis_tooltip_'+k);textElem=document.getElementById(this.elementID+'_axis_tooltip_text_'+k);text=this.getAxisText(axis);if(!text){continue;}rect=this.tooltipLocation(text,axis,chartRect,axisRect);if(pathElement===null){if(chart.enableCanvas){pathElement=this.svgRenderer.drawPath({'id':this.elementID+'_axis_tooltip_'+k,'fill':axis.crosshairTooltip.fill||chart.themeStyle.crosshairFill});}else{pathElement=chart.renderer.drawPath({'id':this.elementID+'_axis_tooltip_'+k,'fill':axis.crosshairTooltip.fill||chart.themeStyle.crosshairFill},null);}axisGroup.appendChild(pathElement);options=new sf.svgbase.TextOption(this.elementID+'_axis_tooltip_text_'+k,0,0,'start',text);var render=chart.enableCanvas?this.svgRenderer:chart.renderer;textElem=textElement(render,options,axis.crosshairTooltip.textStyle,axis.crosshairTooltip.textStyle.color||chart.themeStyle.crosshairLabel,axisGroup);}direction=sf.svgbase.findDirection(this.rx,this.ry,rect,this.arrowLocation,10,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY);pathElement.setAttribute('d',direction);textElem.textContent=text;textElem.setAttribute('x',(rect.x+padding).toString());textElem.setAttribute('y',(rect.y+padding+3*this.elementSize.height/4).toString());}else{removeElement(this.elementID+'_axis_tooltip_'+k);removeElement(this.elementID+'_axis_tooltip_text_'+k);}}}};Crosshair.prototype.getAxisText=function(axis){var value;this.isBottom=false;this.isTop=false;this.isLeft=false;this.isRight=false;var labelValue=axis.valueType==='Category'&&axis.labelPlacement==='BetweenTicks'?0.5:0;if(axis.orientation==='Horizontal'){value=getValueXByPoint(Math.abs(this.valueX-axis.rect.x),axis.rect.width,axis)+labelValue;this.isBottom=!axis.opposedPosition;this.isTop=axis.opposedPosition;}else{value=getValueYByPoint(Math.abs(this.valueY-axis.rect.y),axis.rect.height,axis)+labelValue;this.isRight=axis.opposedPosition;this.isLeft=!axis.opposedPosition;}if(axis.valueType==='DateTime'){return axis.format(new Date(value));}else if(axis.valueType==='Category'){return axis.labels[Math.floor(value)];}else if(axis.valueType==='DateTimeCategory'){return this.chart.dateTimeCategoryModule.getIndexedAxisLabel(axis.labels[Math.floor(value)],axis.format);}else if(axis.valueType==='Logarithmic'){return value=axis.format(Math.pow(axis.logBase,value));}else{var customLabelFormat=axis.labelFormat&&axis.labelFormat.match('{value}')!==null;return customLabelFormat?axis.labelFormat.replace('{value}',axis.format(value)):axis.format(value);}};Crosshair.prototype.tooltipLocation=function(text,axis,bounds,axisRect){var padding=5;var arrowPadding=10;var tooltipRect;var boundsX=bounds.x;var boundsY=bounds.y;var islabelInside=axis.labelPosition==='Inside';var scrollBarHeight=axis.scrollbarSettings.enable||axis.zoomingScrollBar&&axis.zoomingScrollBar.svgObject?axis.scrollBarHeight:0;this.elementSize=sf.svgbase.measureText(text,axis.crosshairTooltip.textStyle);if(axis.orientation==='Horizontal'){var yLocation=islabelInside?axisRect.y-this.elementSize.height-(padding*2+arrowPadding):axisRect.y+scrollBarHeight;var height=islabelInside?axisRect.y-this.elementSize.height-arrowPadding:axisRect.y+arrowPadding;this.arrowLocation=new ChartLocation(this.valueX,yLocation);tooltipRect=new sf.svgbase.Rect(this.valueX-this.elementSize.width/2-padding,height+(!islabelInside?scrollBarHeight:0),this.elementSize.width+padding*2,this.elementSize.height+padding*2);if(axis.opposedPosition){tooltipRect.y=islabelInside?axisRect.y:axisRect.y-(this.elementSize.height+padding*2+arrowPadding)-scrollBarHeight;}if(tooltipRect.x<boundsX){tooltipRect.x=boundsX;}if(tooltipRect.x+tooltipRect.width>boundsX+bounds.width){tooltipRect.x-=tooltipRect.x+tooltipRect.width-(boundsX+bounds.width);}if(this.arrowLocation.x+arrowPadding/2>tooltipRect.x+tooltipRect.width-this.rx){this.arrowLocation.x=tooltipRect.x+tooltipRect.width-this.rx-arrowPadding/2;}if(this.arrowLocation.x-arrowPadding/2<tooltipRect.x+this.rx){this.arrowLocation.x=tooltipRect.x+this.rx+arrowPadding/2;}}else{scrollBarHeight=scrollBarHeight*(axis.opposedPosition?1:-1);this.arrowLocation=new ChartLocation(axisRect.x,this.valueY);var width=islabelInside?axisRect.x-scrollBarHeight:axisRect.x-this.elementSize.width-(padding*2+arrowPadding);tooltipRect=new sf.svgbase.Rect(width+scrollBarHeight,this.valueY-this.elementSize.height/2-padding,this.elementSize.width+padding*2,this.elementSize.height+padding*2);if(axis.opposedPosition){tooltipRect.x=islabelInside?axisRect.x-this.elementSize.width-arrowPadding:axisRect.x+arrowPadding+scrollBarHeight;if(tooltipRect.x+tooltipRect.width>this.chart.availableSize.width){this.arrowLocation.x-=tooltipRect.x+tooltipRect.width-this.chart.availableSize.width;tooltipRect.x-=tooltipRect.x+tooltipRect.width-this.chart.availableSize.width;}}else{if(tooltipRect.x<0){this.arrowLocation.x-=tooltipRect.x;tooltipRect.x=0;}}if(tooltipRect.y<boundsY){tooltipRect.y=boundsY;}if(tooltipRect.y+tooltipRect.height>=boundsY+bounds.height){tooltipRect.y-=tooltipRect.y+tooltipRect.height-(boundsY+bounds.height);}if(this.arrowLocation.y+arrowPadding/2>tooltipRect.y+tooltipRect.height-this.ry){this.arrowLocation.y=tooltipRect.y+tooltipRect.height-this.ry-arrowPadding/2;}if(this.arrowLocation.y-arrowPadding/2<tooltipRect.y+this.ry){this.arrowLocation.y=tooltipRect.y+this.ry+arrowPadding/2;}}return tooltipRect;};Crosshair.prototype.stopAnimation=function(){stopTimer(this.crosshairInterval);};Crosshair.prototype.progressAnimation=function(){stopTimer(this.crosshairInterval);};/**
     * Removes the crosshair on mouse leave.
     *
     * @returns {void}
     * @private
     */Crosshair.prototype.removeCrosshair=function(duration){var chart=this.chart;var crosshair=chart.enableCanvas?document.getElementById(this.elementID+'_Crosshair'):document.getElementById(this.elementID+'_UserInteraction');var crosshairtooltip=chart.enableCanvas?document.getElementById(this.elementID+'_crosshair_axis'):null;this.stopAnimation();if(crosshair&&crosshair.getAttribute('opacity')!=='0'){this.crosshairInterval=+setTimeout(function(){new sf.base.Animation({}).animate(crosshair,{duration:200,progress:function progress(args){// crosshair.removeAttribute('e-animate');
crosshair.style.animation='';if(!chart.enableCanvas){crosshair.setAttribute('opacity',(1-args.timeStamp/args.duration).toString());}else{crosshair.style.opacity=(1-args.timeStamp/args.duration).toString();crosshairtooltip.style.opacity=(1-args.timeStamp/args.duration).toString();}},end:function end(){if(chart.enableCanvas){crosshair.style.opacity='0';crosshairtooltip.style.opacity='0';}else{crosshair.setAttribute('opacity','0');}chart.startMove=false;if(chart.tooltipModule){chart.tooltipModule.valueX=null;chart.tooltipModule.valueY=null;}}});},duration);}};/**
     * Get module name.
     *
     * @returns {string} module name
     */Crosshair.prototype.getModuleName=function(){/**
         * Returns the module name
         */return'Crosshair';};/**
     * To destroy the crosshair.
     *
     * @returns {void}
     * @private
     */Crosshair.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return Crosshair;}();var __extends$55=undefined&&undefined.__extends||function(){var _extendStatics56=function extendStatics(d,b){_extendStatics56=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics56(d,b);};return function(d,b){_extendStatics56(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `Tooltip` module is used to render the tooltip for chart series.
 */var Tooltip$1=/** @class */function(_super){__extends$55(Tooltip$$1,_super);/**
     * Constructor for tooltip module.
     *
     * @private
     */function Tooltip$$1(chart){var _this=_super.call(this,chart)||this;_this.addEventListener();return _this;}/**
     * @hidden
     */Tooltip$$1.prototype.addEventListener=function(){if(this.chart.isDestroyed){return;}var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';this.chart.on(cancelEvent,this.mouseLeaveHandler,this);this.chart.on('tapHold',this.longPress,this);this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(sf.base.Browser.touchEndEvent,this.mouseUpHandler,this);};Tooltip$$1.prototype.mouseUpHandler=function(){var chart=this.control;if(chart.isTouch&&!this.isSelected(chart)&&(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)&&chart.tooltip.shared||!chart.tooltip.shared)){if(!chart.crosshair.enable){this.tooltip();this.removeTooltip(2000);}else if(chart.startMove){this.removeTooltip(2000);}}};Tooltip$$1.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration);};Tooltip$$1.prototype.mouseMoveHandler=function(){var chart=this.chart;// Tooltip for chart series.
if(!chart.disableTrackTooltip&&!this.isSelected(chart)){if(!chart.tooltip.shared&&(!chart.isTouch||chart.startMove)){this.tooltip();}if(withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){if(chart.tooltip.shared&&(!chart.isTouch||chart.startMove)){this.tooltip();}}else{if(chart.tooltip.shared){this.removeTooltip(this.chart.tooltip.fadeOutDuration);}}}};/**
     * Handles the long press on chart.
     *
     * @returns {boolean} false
     * @private
     */Tooltip$$1.prototype.longPress=function(){var chart=this.chart;if(chart.crosshair.enable&&withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){this.tooltip();}return false;};/**
     * Renders the tooltip.
     *
     * @returns {void}
     */Tooltip$$1.prototype.tooltip=function(){if(this.chart.stockChart&&this.chart.stockChart.onPanning){this.removeTooltip(1000);return null;}var elementId=this.chart.enableCanvas?this.element.id+'_tooltip_group':this.element.id+'_tooltip_svg';var svgElement=this.getElement(elementId);// To prevent the disappearance of the tooltip, while resize the stock chart.
var isStockSvg=this.chart.stockChart&&svgElement&&svgElement.firstChild.childNodes.length>1;var isTooltip=svgElement&&parseInt(svgElement.getAttribute('opacity'),10)>0&&!isStockSvg;var tooltipDiv=this.getTooltipElement(isTooltip);if(this.chart.enableCanvas&&tooltipDiv){document.getElementById(this.chart.element.id+'_Secondary_Element').appendChild(tooltipDiv);tooltipDiv.appendChild(document.getElementById(this.chart.element.id+'_tooltip_svg'));}if(!this.chart.tooltip.shared){this.renderSeriesTooltip(this.chart,!isTooltip,tooltipDiv);}else{this.renderGroupedTooltip(this.chart,!isTooltip,tooltipDiv);}};Tooltip$$1.prototype.findHeader=function(data){if(this.header===''){return'';}this.header=this.parseTemplate(data.point,data.series,this.header,data.series.xAxis,data.series.yAxis);if(this.header.replace(/<b>/g,'').replace(/<\/b>/g,'').trim()!==''){return this.header;}return'';};Tooltip$$1.prototype.findShapes=function(){if(!this.chart.tooltip.enableMarker){return[];}var marker=[];for(var _i=0,_a=this.currentPoints;_i<_a.length;_i++){var data=_a[_i];marker.push(data.point.marker.shape||data.series.marker.shape);}return marker;};Tooltip$$1.prototype.renderSeriesTooltip=function(chart,isFirst,tooltipDiv){var data=this.getData();data.lierIndex=this.lierIndex;this.currentPoints=[];if(this.findData(data,this.previousPoints[0])){if(!(chart.dataEditingModule&&chart.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&data.point.index===this.previousPoints[0].point.index&&data.series.index===this.previousPoints[0].series.index){return null;}if(this.pushData(data,isFirst,tooltipDiv,true)){this.triggerTooltipRender(data,isFirst,this.getTooltipText(data),this.findHeader(data));}}else{if(!data.point&&this.isRemove){this.removeTooltip(this.chart.tooltip.fadeOutDuration);this.isRemove=false;}else{for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(series.visible&&!(series.category==='TrendLine')){data=this.getClosestX(chart,series)||data;}}}}if(data&&data.point){this.findMouseValue(data,chart);}};Tooltip$$1.prototype.triggerTooltipRender=function(point,isFirst,textCollection,headerText){var _this=this;var template;var argsData={cancel:false,name:tooltipRender,text:textCollection,headerText:headerText,template:template,series:this.chart.isBlazor?{}:point.series,textStyle:this.textStyle,point:point.point,data:{pointX:point.point.x,pointY:point.point.y,seriesIndex:point.series.index,seriesName:point.series.name,pointIndex:point.point.index,pointText:point.point.text}};var chartTooltipSuccess=function chartTooltipSuccess(argsData){if(!argsData.cancel){if(point.series.type==='BoxAndWhisker'){_this.removeText();isFirst=true;}_this.headerText=argsData.headerText;_this.formattedText=_this.formattedText.concat(argsData.text);_this.text=_this.formattedText;_this.createTooltip(_this.chart,isFirst,_this.getSymbolLocation(point),point.series.clipRect,point.point,_this.findShapes(),_this.findMarkerHeight(_this.currentPoints[0]),_this.chart.chartAxisLayoutPanel.seriesClipRect,null,_this.getTemplateText(point),_this.chart.tooltip.template?argsData.template:'');}else{_this.removeHighlight();sf.base.remove(_this.getElement(_this.element.id+'_tooltip'));}_this.isRemove=true;};chartTooltipSuccess.bind(this,point);this.chart.trigger(tooltipRender,argsData,chartTooltipSuccess);};Tooltip$$1.prototype.findMarkerHeight=function(pointData){if(!this.chart.tooltip.enableMarker){return 0;}var markerHeight=0;var series=pointData.series;markerHeight=(series.marker.visible||this.chart.tooltip.shared&&(!series.isRectSeries||series.marker.visible)||series.type==='Scatter'||series.drawType==='Scatter')&&!(series.type==='Candle'||series.type==='Hilo'||series.type==='HiloOpenClose')?(series.marker.height+2)/2+2*series.marker.border.width:0;return markerHeight;};Tooltip$$1.prototype.findData=function(data,previous){return data.point&&(!previous||previous.point!==data.point||previous&&previous.lierIndex>3&&previous.lierIndex!==this.lierIndex||previous.point===data.point);};Tooltip$$1.prototype.getSymbolLocation=function(data){var location;if(data.series.type!=='BoxAndWhisker'){if(!data.point.symbolLocations[0]){return null;}location=new ChartLocation(data.point.symbolLocations[0].x,data.point.symbolLocations[0].y);}switch(data.series.type){case'BoxAndWhisker':return this.getBoxLocation(data);case'Waterfall':return this.getWaterfallRegion(data,location);case'RangeArea':return this.getRangeArea(data,location);default:return location;}};Tooltip$$1.prototype.getRangeArea=function(data,location){if(data.point.regions[0]){if(!this.inverted){location.y=data.point.regions[0].y+data.point.regions[0].height/2;}else{location.x=data.point.regions[0].x+data.point.regions[0].width/2;}}return location;};Tooltip$$1.prototype.getWaterfallRegion=function(data,location){if(!this.inverted){location.y=data.point.y<0?location.y-data.point.regions[0].height:location.y;}else{location.x=data.point.y<0?location.x+data.point.regions[0].width:location.x;}return location;};Tooltip$$1.prototype.getTooltipText=function(pointData){var series=pointData.series;return this.parseTemplate(pointData.point,series,this.getFormat(this.chart,series),series.xAxis,series.yAxis);};Tooltip$$1.prototype.getTemplateText=function(data){if(this.chart.tooltip.template){var point=sf.base.extend({},data.point);point.x=this.formatPointValue(data.point,data.series.xAxis,'x',true,false);if(data.series.seriesType==='XY'){point.y=this.formatPointValue(data.point,data.series.yAxis,'y',false,true);}else{point.low=this.formatPointValue(data.point,data.series.yAxis,'low',false,true);point.high=this.formatPointValue(data.point,data.series.yAxis,'high',false,true);}return point;}else{return data.point;}};Tooltip$$1.prototype.findMouseValue=function(data,chart){if(!chart.requireInvertedAxis){if(chart.chartAreaType==='PolarRadar'){this.valueX=valueToPolarCoefficient(data.point.xValue,data.series.xAxis)*data.series.xAxis.rect.width+data.series.xAxis.rect.x;}else{this.valueX=data.series.category==='TrendLine'&&chart.tooltip.shared?this.valueX:valueToCoefficient(data.point.xValue,data.series.xAxis)*data.series.xAxis.rect.width+data.series.xAxis.rect.x;}this.valueY=chart.mouseY;}else{this.valueY=(1-valueToCoefficient(data.point.xValue,data.series.xAxis))*data.series.xAxis.rect.height+data.series.xAxis.rect.y;this.valueX=chart.mouseX;}};Tooltip$$1.prototype.renderGroupedTooltip=function(chart,isFirst,tooltipDiv){var data;var lastData;var pointData=chart.chartAreaType==='PolarRadar'?this.getData():null;this.stopAnimation();this.removeHighlight();this.currentPoints=[];var extraPoints=[];//let headerContent : string = '';
if(isFirst){if(!chart.stockChart){if(tooltipDiv){document.getElementById(this.element.id+'_Secondary_Element').appendChild(tooltipDiv);}}else{if(tooltipDiv&&!sf.svgbase.getElement(tooltipDiv.id)){document.getElementById(chart.stockChart.element.id+'_Secondary_Element').appendChild(tooltipDiv);}}}this.removeText();var argument={text:[],cancel:false,name:sharedTooltipRender,data:[],headerText:'',textStyle:this.textStyle};for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(!series.enableTooltip||!series.visible){continue;}if(chart.chartAreaType==='Cartesian'&&series.visible){data=this.getClosestX(chart,series);}else if(chart.chartAreaType==='PolarRadar'&&series.visible&&pointData.point!==null){data=new PointData(series.points[pointData.point.index],series);}// if (data && this.header !== '' && this.currentPoints.length === 0) {
//     headerContent = this.findHeader(data);
// }
if(data){if(!chart.isBlazor){this.triggerSharedTooltip(data,isFirst,this.getTooltipText(data),this.findHeader(data),extraPoints);}else{argument.data.push({pointX:data.point.x,pointY:data.point.y,seriesIndex:data.series.index,seriesName:data.series.name,pointIndex:data.point.index,pointText:data.point.text});argument.headerText=this.findHeader(data);this.currentPoints.push(data);argument.text.push(this.getTooltipText(data));lastData=data.series.category==='TrendLine'&&chart.tooltip.shared?lastData:data;}}// if (data && this.triggerEvent(data, isFirst, this.getTooltipText(data)), this.findHeader(data)) {
//     this.findMouseValue(data, chart);
//     (<PointData[]>this.currentPoints).push(data);
//     data = null;
// } else if (data) {
//     extraPoints.push(data);
// }
}if(chart.isBlazor&&data){// To avoid console error when we have empty chart with shared tooltip.
this.triggerBlazorSharedTooltip(argument,lastData,extraPoints,chart,isFirst);}if(this.currentPoints.length>0){this.createTooltip(chart,isFirst,this.findSharedLocation(),this.currentPoints.length===1?this.currentPoints[0].series.clipRect:null,null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),chart.chartAxisLayoutPanel.seriesClipRect,extraPoints,this.chart.tooltip.template?this.getTemplateText(data):null,this.chart.tooltip.template?argument.template:'');}else if(this.getElement(this.element.id+'_tooltip_path')){this.getElement(this.element.id+'_tooltip_path').setAttribute('d','');}};Tooltip$$1.prototype.triggerBlazorSharedTooltip=function(argument,point,extraPoints,chart,isFirst){var _this=this;var argsData={cancel:false,name:sharedTooltipRender,text:argument.text,headerText:argument.headerText,textStyle:argument.textStyle,data:argument.data};var blazorSharedTooltip=function blazorSharedTooltip(argsData){if(!argsData.cancel){_this.text=argsData.text;_this.headerText=argsData.headerText;_this.findMouseValue(point,_this.chart);point=null;_this.createTooltip(chart,isFirst,_this.findSharedLocation(),null,null,_this.findShapes(),_this.findMarkerHeight(_this.currentPoints[0]),chart.chartAxisLayoutPanel.seriesClipRect,extraPoints);}else{extraPoints.push(point);}};blazorSharedTooltip.bind(this,point,extraPoints);this.chart.trigger(sharedTooltipRender,argsData,blazorSharedTooltip);};Tooltip$$1.prototype.triggerSharedTooltip=function(point,isFirst,textCollection,headerText,extraPoints){var _this=this;var argsData={cancel:false,name:tooltipRender,text:textCollection,headerText:headerText,point:point.point,series:this.chart.isBlazor?{}:point.series,textStyle:this.textStyle,data:{pointX:point.point.x,pointY:point.point.y,seriesIndex:point.series.index,seriesName:point.series.name,pointIndex:point.point.index,pointText:point.point.text}};var sharedTooltipSuccess=function sharedTooltipSuccess(argsData){if(!argsData.cancel){if(point.series.type==='BoxAndWhisker'){_this.removeText();isFirst=true;}_this.formattedText=_this.formattedText.concat(argsData.text);_this.text=_this.formattedText;_this.headerText=argsData.headerText;_this.findMouseValue(point,_this.chart);_this.currentPoints.push(point);point=null;}else{extraPoints.push(point);}};sharedTooltipSuccess.bind(this,point,extraPoints);this.chart.trigger(tooltipRender,argsData,sharedTooltipSuccess);if(argsData.template){this.chart.tooltip.template=argsData.template;}};Tooltip$$1.prototype.findSharedLocation=function(){var stockChart=this.chart.stockChart;if(stockChart){if(this.text.length===1){this.text.push('');}var toolbarHeight=stockChart.enablePeriodSelector?stockChart.toolbarHeight:0;var element=document.getElementById(stockChart.element.id+'_ChartTitle');var titleHeight=stockChart.title!==''?element.getBoundingClientRect().height+10:0;return new ChartLocation(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+toolbarHeight+5+titleHeight);}else{if(this.currentPoints.length>1){return new ChartLocation(this.valueX,this.valueY);}else{return this.getSymbolLocation(this.currentPoints[0]);}}};Tooltip$$1.prototype.getBoxLocation=function(data){var location=this.lierIndex>3?data.point.symbolLocations[this.lierIndex-4]:{x:data.point.regions[0].x+data.point.regions[0].width/2,y:data.point.regions[0].y+data.point.regions[0].height/2};return location;};Tooltip$$1.prototype.parseTemplate=function(point,series,format,xAxis,yAxis){var val;var textValue;for(var _i=0,_a=Object.keys(point);_i<_a.length;_i++){var dataValue=_a[_i];val=new RegExp('${point'+'.'+dataValue+'}','gm');format=format.replace(val.source,this.formatPointValue(point,val.source==='${point.x}'?xAxis:yAxis,dataValue,val.source==='${point.x}',val.source==='${point.high}'||val.source==='${point.open}'||val.source==='${point.close}'||val.source==='${point.low}'||val.source==='${point.y}'||val.source==='${point.minimum}'||val.source==='${point.maximum}'||val.source==='${point.outliers}'||val.source==='${point.upperQuartile}'||val.source==='${point.lowerQuartile}'||val.source==='${point.median}'));}for(var _b=0,_c=Object.keys(Object.getPrototypeOf(series));_b<_c.length;_b++){var dataValue=_c[_b];val=new RegExp('${series'+'.'+dataValue+'}','gm');textValue=series[dataValue];format=format.replace(val.source,textValue);}return format;};Tooltip$$1.prototype.formatPointValue=function(point,axis,dataValue,isXPoint,isYPoint){var textValue;var customLabelFormat;var value;if(axis.valueType!=='Category'&&isXPoint){customLabelFormat=axis.labelFormat&&axis.labelFormat.match('{value}')!==null;textValue=customLabelFormat?axis.labelFormat.replace('{value}',axis.format(point[dataValue])):axis.format(point[dataValue]);}else if(isYPoint&&!sf.base.isNullOrUndefined(point[dataValue])){customLabelFormat=axis.labelFormat&&axis.labelFormat.match('{value}')!==null;value=dataValue==='outliers'?axis.format(point[dataValue][this.lierIndex-4]):axis.format(point[dataValue]);textValue=customLabelFormat?axis.labelFormat.replace('{value}',value):value;}else{textValue=point[dataValue];}return textValue;};Tooltip$$1.prototype.getFormat=function(chart,series){if(series.tooltipFormat){if(series.seriesType==='XY'&&series.category==='Indicator'){return this.getIndicatorTooltipFormat(series,chart,chart.tooltip.format);}return series.tooltipFormat;}if(!series.tooltipFormat&&chart.tooltip.format){if(series.seriesType==='XY'&&series.category==='Indicator'){return this.getIndicatorTooltipFormat(series,chart,chart.tooltip.format);}return chart.tooltip.format;}var textX=series.type==='Histogram'?'${point.minimum}'+'-'+'${point.maximum}':'${point.x}';var format=!chart.tooltip.shared?textX:'${series.name}';switch(series.seriesType){case'XY':if(series.category==='Indicator'){this.getIndicatorTooltipFormat(series,chart,chart.tooltip.format);}return format+' : '+(series.type==='Bubble'?'<b>${point.y}</b>  Size : <b>${point.size}</b>':'<b>${point.y}</b>');case'HighLow':return format+'<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>';case'HighLowOpenClose':return format+('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>'+'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');case'BoxPlot':{return format+'<br/>'+(this.lierIndex>3?'Outliers : <b>${point.outliers}</b>':'Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>'+'Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');}default:return'';}};Tooltip$$1.prototype.getIndicatorTooltipFormat=function(series,chart,format){var toolTip;if(series.seriesType==='XY'){toolTip=series.name+' : <b>${point.y}</b>';}else{toolTip=format;}return toolTip;};/*
    * @hidden
    */Tooltip$$1.prototype.removeHighlightedMarker=function(data){for(var _i=0,data_1=data;_i<data_1.length;_i++){var item=data_1[_i];removeElement(this.element.id+'_Series_'+item.series.index+'_Point_'+item.point.index+'_Trackball');}if(this.chart.markerRender){this.chart.markerRender.removeHighlightedMarker();}this.previousPoints=[];};/**
     * Get module name.
     */Tooltip$$1.prototype.getModuleName=function(){/**
         * Returns the module name
         */return'Tooltip';};/**
     * To destroy the tooltip.
     *
     * @returns {void}
     * @private
     */Tooltip$$1.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return Tooltip$$1;}(BaseTooltip);/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * Zooming Toolkit created here
 *
 * @private
 */var Toolkit=/** @class */function(){/** @private */function Toolkit(chart){this.iconRectOverFill='transparent';this.iconRectSelectionFill='transparent';/** @private */this.zoomCompleteEvtCollection=[];this.chart=chart;this.elementId=chart.element.id;this.chart.svgRenderer=new sf.svgbase.SvgRenderer(this.elementId);this.selectionColor=chart.theme==='Bootstrap4'?'#FFFFFF':'#ff4081';this.fillColor=chart.theme==='Bootstrap4'?'#495057':'#737373';this.iconRectOverFill=chart.theme==='Bootstrap4'?'#5A6268':this.iconRectOverFill;this.iconRectSelectionFill=chart.theme==='Bootstrap4'?'#5B6269':this.iconRectSelectionFill;this.iconRect=chart.theme==='Bootstrap4'?new sf.svgbase.Rect(-5,-5,26,26):new sf.svgbase.Rect(0,0,16,16);}/**
     * To create the pan button.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.createPanButton=function(childElement,parentElement){var render=this.chart.svgRenderer;var fillColor=this.chart.zoomModule.isPanning?this.selectionColor:this.fillColor;var direction='M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';direction+='11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';childElement.id=this.elementId+'_Zooming_Pan';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('Pan'));this.panElements=childElement;childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Pan_1','transparent',{},1,this.iconRect)));childElement.appendChild(render.drawPath(new sf.svgbase.PathOption(this.elementId+'_Zooming_Pan_2',fillColor,null,null,1,null,direction)));parentElement.appendChild(childElement);this.wireEvents(childElement,this.pan);};/**
     * To create the zoom button.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.createZoomButton=function(childElement,parentElement){var render=this.chart.svgRenderer;var fillColor=this.chart.zoomModule.isPanning?this.fillColor:this.selectionColor;var rectColor=this.chart.zoomModule.isPanning?'transparent':this.iconRectSelectionFill;var direction='M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';direction+='5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';direction=direction+'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';childElement.id=this.elementId+'_Zooming_Zoom';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('Zoom'));this.zoomElements=childElement;this.selectedID=this.chart.zoomModule.isPanning?this.chart.element.id+'_Zooming_Pan_1':this.elementId+'_Zooming_Zoom_1';childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Zoom_1',rectColor,{},1,this.iconRect)));childElement.appendChild(render.drawPath(new sf.svgbase.PathOption(this.elementId+'_Zooming_Zoom_3',fillColor,null,null,1,null,direction+'4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));parentElement.appendChild(childElement);this.wireEvents(childElement,this.zoom);};/**
     * To create the ZoomIn button.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.createZoomInButton=function(childElement,parentElement,chart){var render=this.chart.svgRenderer;var fillColor=this.fillColor;var direction='M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';direction+='14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';direction+='5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';childElement.id=this.elementId+'_Zooming_ZoomIn';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('ZoomIn'));var polygonDirection='12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_ZoomIn_1','transparent',{},1,this.iconRect)));childElement.appendChild(render.drawPath(new sf.svgbase.PathOption(this.elementId+'_Zooming_ZoomIn_2',fillColor,null,null,1,null,direction+'4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId+'_Zooming_ZoomIn_3',polygonDirection+' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466',fillColor)));this.zoomInElements=childElement;this.elementOpacity=chart.zoomModule.isPanning?'0.2':'1';childElement.setAttribute('opacity',this.elementOpacity);parentElement.appendChild(childElement);this.wireEvents(childElement,this.zoomIn);};/**
     * To create the ZoomOut button.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.createZoomOutButton=function(childElement,parentElement,chart){var render=this.chart.svgRenderer;var fillColor=this.fillColor;var direction='M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';direction+='1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';direction+='1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';childElement.id=this.elementId+'_Zooming_ZoomOut';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('ZoomOut'));childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_ZoomOut_1','transparent',{},1,this.iconRect)));childElement.appendChild(render.drawPath(new sf.svgbase.PathOption(this.elementId+'_Zooming_ZoomOut_2',fillColor,null,null,1,null,direction+'4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));this.zoomOutElements=childElement;this.elementOpacity=chart.zoomModule.isPanning?'0.2':'1';childElement.setAttribute('opacity',this.elementOpacity);parentElement.appendChild(childElement);this.wireEvents(childElement,this.zoomOut);};/**
     * To create the Reset button.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.createResetButton=function(childElement,parentElement,chart,isDevice){var render=this.chart.svgRenderer;var fillColor=this.fillColor;var size;var direction='M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';direction+='1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';direction+='13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';childElement.id=this.elementId+'_Zooming_Reset';childElement.setAttribute('aria-label',this.chart.getLocalizedLabel('Reset'));if(!isDevice){childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Reset_1','transparent',{},1,this.iconRect)));childElement.appendChild(render.drawPath(new sf.svgbase.PathOption(this.elementId+'_Zooming_Reset_2',fillColor,null,null,1,null,direction+'3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));}else{size=sf.svgbase.measureText(this.chart.getLocalizedLabel('ResetZoom'),{size:'12px'});childElement.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Reset_1','transparent',{},1,new sf.svgbase.Rect(0,0,size.width,size.height))));textElement(chart.renderer,new sf.svgbase.TextOption(this.elementId+'_Zooming_Reset_2',0+size.width/2,0+size.height*3/4,'middle',this.chart.getLocalizedLabel('ResetZoom'),'rotate(0,'+0+','+0+')','auto'),{size:'12px'},'black',childElement);}parentElement.appendChild(childElement);this.wireEvents(childElement,this.reset);};/**
     * To bind events.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.wireEvents=function(element,process){sf.base.EventHandler.add(element,'mousedown touchstart',process,this);sf.base.EventHandler.add(element,'mouseover',this.showTooltip,this);sf.base.EventHandler.add(element,'mouseout',this.removeTooltip,this);};/**
     * To show tooltip.
     *
     * @returns {void}
     * @private
     */Toolkit.prototype.showTooltip=function(event){var text=event.currentTarget.id.split('_Zooming_')[1];var left=event.pageX-(sf.svgbase.measureText(text,{size:'10px'}).width+5);var rect=getElement$1(event.currentTarget.id+'_1');var icon2=getElement$1(event.currentTarget.id+'_2');var icon3=getElement$1(event.currentTarget.id+'_3');if(rect){this.hoveredID=rect.id;rect.setAttribute('fill',this.iconRectOverFill);}if(icon2){icon2.setAttribute('fill',this.selectionColor);}if(icon3){icon3.setAttribute('fill',this.selectionColor);}if(!this.chart.isTouch){createTooltip('EJ2_Chart_ZoomTip',this.chart.getLocalizedLabel(text),event.pageY+10,left,'10px');}};/** @private */ /* eslint-disable */Toolkit.prototype.removeTooltip=function(){if(getElement$1(this.hoveredID)){var rectColor=this.chart.zoomModule.isPanning?this.hoveredID.indexOf('_Pan_')>-1?this.iconRectSelectionFill:'transparent':this.hoveredID.indexOf('_Zoom_')>-1?this.iconRectSelectionFill:'transparent';getElement$1(this.hoveredID).setAttribute('fill',rectColor);}var icon2=this.hoveredID?getElement$1(this.hoveredID.replace('_1','_2')):null;var icon3=this.hoveredID?getElement$1(this.hoveredID.replace('_1','_3')):null;if(icon2){var iconColor=this.chart.zoomModule.isPanning?this.hoveredID.indexOf('_Pan_')>-1?this.selectionColor:this.fillColor:this.hoveredID.indexOf('_Zoom_')>-1?this.selectionColor:this.fillColor;icon2.setAttribute('fill',iconColor);}if(icon3){var iconColor=this.chart.zoomModule.isPanning?this.fillColor:this.hoveredID.indexOf('_Zoom_')>-1?this.selectionColor:this.fillColor;icon3.setAttribute('fill',iconColor);}removeElement('EJ2_Chart_ZoomTip');};// Toolkit events function calculation here.
/** @private */Toolkit.prototype.reset=function(){var _this=this;var chart=this.chart;if(!chart.zoomModule.isDevice){sf.base.remove(chart.zoomModule.toolkitElements);}var argsData;this.removeTooltip();chart.svgObject.setAttribute('cursor','auto');var zoomingEventArgs;var zoomedAxisCollection=[];this.zoomCompleteEvtCollection=[];for(var _i=0,_a=chart.axisCollections;_i<_a.length;_i++){var axis=_a[_i];argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:axis.zoomFactor,previousZoomPosition:axis.zoomPosition,currentZoomFactor:1,currentZoomPosition:0,previousVisibleRange:axis.visibleRange,currentVisibleRange:null};axis.zoomFactor=1;axis.zoomPosition=0;if(axis.zoomingScrollBar){axis.zoomingScrollBar.isScrollUI=false;}if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;this.zoomCompleteEvtCollection.push(argsData);}zoomedAxisCollection.push({zoomFactor:axis.zoomFactor,zoomPosition:axis.zoomFactor,axisName:axis.name,axisRange:axis.visibleRange});}zoomingEventArgs={cancel:false,axisCollection:zoomedAxisCollection,name:_onZooming};if(!zoomingEventArgs.cancel&&this.chart.isBlazor){this.chart.trigger(_onZooming,zoomingEventArgs,function(){_this.setDefferedZoom(chart);});return false;}else{return this.setDefferedZoom(chart);}};Toolkit.prototype.setDefferedZoom=function(chart){chart.disableTrackTooltip=false;chart.zoomModule.isZoomed=chart.zoomModule.isPanning=chart.isChartDrag=chart.delayRedraw=false;chart.zoomModule.touchMoveList=chart.zoomModule.touchStartList=[];chart.zoomModule.pinchTarget=null;chart.removeSvg();if(chart.enableAutoIntervalOnBothAxis){chart.processData(false);}chart.refreshAxis();chart.refreshBound();this.elementOpacity='1';return false;};Toolkit.prototype.zoomIn=function(e){this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode);return false;};Toolkit.prototype.zoomOut=function(e){this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode);return false;};Toolkit.prototype.zoom=function(e){this.chart.zoomModule.isPanning=false;var zoomModule=this.chart.zoomModule;this.elementOpacity='1';this.chart.svgObject.setAttribute('cursor','auto');this.zoomInElements.setAttribute('opacity',this.elementOpacity);this.zoomOutElements.setAttribute('opacity',this.elementOpacity);this.applySelection(this.zoomElements.childNodes,this.selectionColor);this.applySelection(this.panElements.childNodes,'#737373');if(getElement$1(this.selectedID)){getElement$1(this.selectedID).setAttribute('fill','transparent');}this.selectedID=this.chart.element.id+'_Zooming_Zoom_1';getElement$1(this.selectedID).setAttribute('fill',this.iconRectSelectionFill);return false;};/** @private */Toolkit.prototype.pan=function(){var element;this.chart.zoomModule.isPanning=true;this.chart.svgObject.setAttribute('cursor','pointer');this.elementOpacity='0.2';element=this.zoomInElements?this.zoomInElements.setAttribute('opacity',this.elementOpacity):null;element=this.zoomOutElements?this.zoomOutElements.setAttribute('opacity',this.elementOpacity):null;element=this.panElements?this.applySelection(this.panElements.childNodes,this.selectionColor):null;element=this.zoomElements?this.applySelection(this.zoomElements.childNodes,'#737373'):null;if(getElement$1(this.selectedID)){getElement$1(this.selectedID).setAttribute('fill','transparent');}this.selectedID=this.chart.element.id+'_Zooming_Pan_1';getElement$1(this.selectedID).setAttribute('fill',this.iconRectSelectionFill);return false;};Toolkit.prototype.zoomInOutCalculation=function(scale,chart,axes,mode){if(!chart.zoomModule.isPanning&&this.elementOpacity!=='0.2'){var zoomFactor=void 0;var zoomPosition=void 0;var cumulative=void 0;chart.disableTrackTooltip=true;chart.delayRedraw=true;var argsData=void 0;this.zoomCompleteEvtCollection=[];for(var _i=0,_a=axes;_i<_a.length;_i++){var axis=_a[_i];argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:axis.zoomFactor,previousZoomPosition:axis.zoomPosition,currentZoomFactor:axis.zoomFactor,currentZoomPosition:axis.zoomPosition,previousVisibleRange:axis.visibleRange,currentVisibleRange:null};if(axis.orientation==='Horizontal'&&mode!=='Y'||axis.orientation==='Vertical'&&mode!=='X'){cumulative=Math.max(Math.max(1/minMax(axis.zoomFactor,0,1),1)+0.25*scale,1);zoomFactor=cumulative===1?1:minMax(1/cumulative,0,1);zoomPosition=cumulative===1?0:axis.zoomPosition+(axis.zoomFactor-zoomFactor)*0.5;if(axis.zoomPosition!==zoomPosition||axis.zoomFactor!==zoomFactor){zoomFactor=zoomPosition+zoomFactor>1?1-zoomPosition:zoomFactor;}argsData.currentZoomFactor=zoomFactor;argsData.currentZoomPosition=zoomPosition;if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;this.zoomCompleteEvtCollection.push(argsData);}}}}};Toolkit.prototype.applySelection=function(elements,color){for(var i=1,length_1=elements.length;i<length_1;i++){elements[i].setAttribute('fill',color);}};return Toolkit;}();/**
 * `Zooming` module handles the zooming for chart.
 */var Zoom=/** @class */function(){/**
     * Constructor for Zooming module.
     *
     * @private
     */function Zoom(chart){this.zoomCompleteEvtCollection=[];this.chart=chart;this.isPointer=sf.base.Browser.isPointer;this.browserName=sf.base.Browser.info.name;this.wheelEvent=this.browserName==='mozilla'?this.isPointer?'mousewheel':'DOMMouseScroll':'mousewheel';this.cancelEvent=this.isPointer?'pointerleave':'mouseleave';this.addEventListener();this.isDevice=sf.base.Browser.isDevice;var zooming=chart.zoomSettings;this.toolkit=new Toolkit(chart);this.zooming=zooming;this.elementId=chart.element.id;this.zoomingRect=new sf.svgbase.Rect(0,0,0,0);this.zoomAxes=[];this.zoomkitOpacity=0.3;this.isIOS=sf.base.Browser.isIos||sf.base.Browser.isIos7;this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming;if(zooming.enableScrollbar){chart.scrollElement=sf.base.createElement('div',{id:chart.element.id+'_scrollElement'});}}/**
     * Function that handles the Rectangular zooming.
     *
     * @returns {void}
     */Zoom.prototype.renderZooming=function(e,chart,isTouch){this.calculateZoomAxesRange(chart);if(this.zooming.enableSelectionZooming&&(!isTouch||chart.isDoubleTap&&this.touchStartList.length===1)&&(!this.isPanning||chart.isDoubleTap)){this.isPanning=this.isDevice?true:this.isPanning;this.performedUI=true;this.drawZoomingRectangle(chart);}else if(this.isPanning&&chart.isChartDrag){if(!isTouch||isTouch&&this.touchStartList.length===1){this.pinchTarget=isTouch?e.target:null;this.doPan(chart,chart.axisCollections);}}};// Zooming rectangle drawn here
Zoom.prototype.drawZoomingRectangle=function(chart){var areaBounds=chart.chartAxisLayoutPanel.seriesClipRect;var startLocation=new ChartLocation(chart.previousMouseMoveX,chart.previousMouseMoveY);var endLocation=new ChartLocation(chart.mouseX,chart.mouseY);var rect=this.zoomingRect=getRectLocation(startLocation,endLocation,areaBounds);if(rect.width>0&&rect.height>0){this.isZoomed=true;chart.disableTrackTooltip=true;chart.svgObject.setAttribute('cursor','crosshair');if(this.zooming.mode==='X'){rect.height=areaBounds.height;rect.y=areaBounds.y;}else if(this.zooming.mode==='Y'){rect.width=areaBounds.width;rect.x=areaBounds.x;}var svg=chart.enableCanvas?document.getElementById(this.elementId+'_tooltip_svg'):chart.svgObject;svg.appendChild(chart.svgRenderer.drawRectangle(new RectOption(this.elementId+'_ZoomArea',chart.themeStyle.selectionRectFill,{color:chart.themeStyle.selectionRectStroke,width:1},1,rect,0,0,'','3')));}};// Panning performed here
Zoom.prototype.doPan=function(chart,axes){var _this=this;if(chart.startMove&&chart.crosshair.enable){return null;}var currentScale;var offset;this.isZoomed=true;this.offset=!chart.delayRedraw?chart.chartAxisLayoutPanel.seriesClipRect:this.offset;chart.delayRedraw=true;this.zoomCompleteEvtCollection=[];chart.disableTrackTooltip=true;var argsData;var zoomedAxisCollection=[];for(var _i=0,_a=axes;_i<_a.length;_i++){var axis=_a[_i];argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:axis.zoomFactor,previousZoomPosition:axis.zoomPosition,currentZoomFactor:axis.zoomFactor,currentZoomPosition:axis.zoomPosition,previousVisibleRange:axis.visibleRange,currentVisibleRange:null};currentScale=Math.max(1/minMax(axis.zoomFactor,0,1),1);if(axis.orientation==='Horizontal'){offset=(chart.previousMouseMoveX-chart.mouseX)/axis.rect.width/currentScale;argsData.currentZoomPosition=minMax(axis.zoomPosition+offset,0,1-axis.zoomFactor);}else{offset=(chart.previousMouseMoveY-chart.mouseY)/axis.rect.height/currentScale;argsData.currentZoomPosition=minMax(axis.zoomPosition-offset,0,1-axis.zoomFactor);}if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;this.zoomCompleteEvtCollection.push(argsData);}zoomedAxisCollection.push({zoomFactor:axis.zoomFactor,zoomPosition:axis.zoomFactor,axisName:axis.name,axisRange:axis.visibleRange});}var zoomingEventArgs={cancel:false,axisCollection:zoomedAxisCollection,name:_onZooming};if(!zoomingEventArgs.cancel&&this.chart.isBlazor){this.chart.trigger(_onZooming,zoomingEventArgs,function(){_this.performDefferedZoom(chart);});}else{this.performDefferedZoom(chart);this.redrawOnZooming(chart,false);}};Zoom.prototype.performDefferedZoom=function(chart){var translateX;var translateY;if(this.zooming.enableDeferredZooming){translateX=chart.mouseX-chart.mouseDownX;translateY=chart.mouseY-chart.mouseDownY;switch(this.zooming.mode){case'X':translateY=0;break;case'Y':translateX=0;break;}this.setTransform(translateX,translateY,null,null,chart,false);this.refreshAxis(chart.chartAxisLayoutPanel,chart,chart.axisCollections);if(chart.enableCanvas){this.performZoomRedraw(chart);}}else{this.performZoomRedraw(chart);}chart.previousMouseMoveX=chart.mouseX;chart.previousMouseMoveY=chart.mouseY;};/**
     * Redraw the chart on zooming.
     *
     * @returns {void}
     * @private
     */Zoom.prototype.performZoomRedraw=function(chart){var rect=this.zoomingRect;chart.animateSeries=false;if(this.isZoomed){if(rect.width>0&&rect.height>0){this.performedUI=true;chart.svgObject.setAttribute('cursor','auto');this.doZoom(chart,chart.axisCollections,chart.chartAxisLayoutPanel.seriesClipRect);chart.isDoubleTap=false;}else if(chart.disableTrackTooltip){chart.disableTrackTooltip=false;chart.delayRedraw=false;chart.enableCanvas?chart.createChartSvg():chart.removeSvg();chart.refreshAxis();chart.refreshBound();}}};Zoom.prototype.refreshAxis=function(layout,chart,axes){var mode=chart.zoomSettings.mode;layout.measureAxis(new sf.svgbase.Rect(chart.initialClipRect.x,chart.initialClipRect.y,chart.initialClipRect.width,chart.initialClipRect.height));axes.map(function(axis,index){if(axis.orientation==='Horizontal'&&mode!=='Y'){layout.drawXAxisLabels(axis,index,null,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}if(axis.orientation==='Vertical'&&mode!=='X'){layout.drawYAxisLabels(axis,index,null,axis.placeNextToAxisLine?axis.updatedRect:axis.rect);}});};// Rectangular zoom calculated here performed here
Zoom.prototype.doZoom=function(chart,axes,bounds){var _this=this;var zoomRect=this.zoomingRect;var mode=this.zooming.mode;var argsData;this.isPanning=chart.zoomSettings.enablePan||this.isPanning;var zoomedAxisCollections=[];this.zoomCompleteEvtCollection=[];for(var _i=0,_a=axes;_i<_a.length;_i++){var axis=_a[_i];argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:axis.zoomFactor,previousZoomPosition:axis.zoomPosition,currentZoomFactor:axis.zoomFactor,currentZoomPosition:axis.zoomPosition,previousVisibleRange:axis.visibleRange,currentVisibleRange:null};if(axis.orientation==='Horizontal'){if(mode!=='Y'){argsData.currentZoomPosition+=Math.abs((zoomRect.x-bounds.x)/bounds.width)*axis.zoomFactor;argsData.currentZoomFactor*=zoomRect.width/bounds.width;}}else{if(mode!=='X'){argsData.currentZoomPosition+=(1-Math.abs((zoomRect.height+(zoomRect.y-bounds.y))/bounds.height))*axis.zoomFactor;argsData.currentZoomFactor*=zoomRect.height/bounds.height;}}if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;this.zoomCompleteEvtCollection.push(argsData);}zoomedAxisCollections.push({zoomFactor:axis.zoomFactor,zoomPosition:axis.zoomFactor,axisName:axis.name,axisRange:axis.visibleRange});}var onZoomingEventArg={cancel:false,axisCollection:zoomedAxisCollections,name:_onZooming};if(!onZoomingEventArg.cancel&&this.chart.isBlazor){this.chart.trigger(_onZooming,onZoomingEventArg,function(){_this.zoomingRect=new sf.svgbase.Rect(0,0,0,0);_this.performZoomRedraw(chart);});}else{this.zoomingRect=new sf.svgbase.Rect(0,0,0,0);this.redrawOnZooming(chart);}};/** It is used to redraw the chart and trigger zoomComplete event */Zoom.prototype.redrawOnZooming=function(chart,isRedraw,isMouseUp){if(isRedraw===void 0){isRedraw=true;}if(isMouseUp===void 0){isMouseUp=false;}var zoomCompleteCollection=isMouseUp?this.toolkit.zoomCompleteEvtCollection:this.zoomCompleteEvtCollection;if(isRedraw){this.performZoomRedraw(chart);}var argsData;for(var i=0;i<zoomCompleteCollection.length;i++){if(!zoomCompleteCollection[i].cancel){argsData={cancel:false,name:zoomComplete,axis:chart.axisCollections[i],previousZoomFactor:zoomCompleteCollection[i].previousZoomFactor,previousZoomPosition:zoomCompleteCollection[i].previousZoomPosition,currentZoomFactor:chart.axisCollections[i].zoomFactor,currentZoomPosition:chart.axisCollections[i].zoomPosition,currentVisibleRange:chart.axisCollections[i].visibleRange,previousVisibleRange:zoomCompleteCollection[i].previousVisibleRange};chart.trigger(zoomComplete,argsData);}}};/**
     * Function that handles the Mouse wheel zooming.
     *
     * @returns {void}
     * @private
     */Zoom.prototype.performMouseWheelZooming=function(e,mouseX,mouseY,chart,axes){var _this=this;var direction=this.browserName==='mozilla'&&!this.isPointer?-e.detail/3>0?1:-1:e['wheelDelta']>0?1:-1;var mode=this.zooming.mode;var origin=0.5;var cumulative;var zoomFactor;var zoomPosition;this.isZoomed=true;this.calculateZoomAxesRange(chart);chart.disableTrackTooltip=true;this.performedUI=true;this.isPanning=chart.zoomSettings.enablePan||this.isPanning;this.zoomCompleteEvtCollection=[];var argsData;var zoomedAxisCollection=[];for(var _i=0,_a=axes;_i<_a.length;_i++){var axis=_a[_i];argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:axis.zoomFactor,previousZoomPosition:axis.zoomPosition,currentZoomFactor:axis.zoomFactor,currentZoomPosition:axis.zoomPosition,currentVisibleRange:null,previousVisibleRange:axis.visibleRange};if(axis.orientation==='Vertical'&&mode!=='X'||axis.orientation==='Horizontal'&&mode!=='Y'){cumulative=Math.max(Math.max(1/minMax(axis.zoomFactor,0,1),1)+0.25*direction,1);if(cumulative>=1){origin=axis.orientation==='Horizontal'?mouseX/axis.rect.width:1-mouseY/axis.rect.height;origin=origin>1?1:origin<0?0:origin;zoomFactor=cumulative===1?1:minMax((direction>0?0.9:1.1)/cumulative,0,1);zoomPosition=cumulative===1?0:axis.zoomPosition+(axis.zoomFactor-zoomFactor)*origin;if(axis.zoomPosition!==zoomPosition||axis.zoomFactor!==zoomFactor){zoomFactor=zoomPosition+zoomFactor>1?1-zoomPosition:zoomFactor;}argsData.currentZoomFactor=zoomFactor;argsData.currentZoomPosition=zoomPosition;}if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;this.zoomCompleteEvtCollection.push(argsData);}}zoomedAxisCollection.push({zoomFactor:axis.zoomFactor,zoomPosition:axis.zoomFactor,axisName:axis.name,axisRange:axis.visibleRange});}var onZoomingEventArgs={cancel:false,axisCollection:zoomedAxisCollection,name:_onZooming};if(!onZoomingEventArgs.cancel&&this.chart.isBlazor){this.chart.trigger(_onZooming,onZoomingEventArgs,function(){_this.performZoomRedraw(chart);});}else{this.redrawOnZooming(chart);}};/**
     * Function that handles the Pinch zooming.
     *
     * @returns {void}
     * @private
     */Zoom.prototype.performPinchZooming=function(e,chart){if(this.zoomingRect.width>0&&this.zoomingRect.height>0||chart.startMove&&chart.crosshair.enable){return false;}this.calculateZoomAxesRange(chart);this.isZoomed=true;this.isPanning=true;this.performedUI=true;this.offset=!chart.delayRedraw?chart.chartAxisLayoutPanel.seriesClipRect:this.offset;chart.delayRedraw=true;chart.disableTrackTooltip=true;var elementOffset=chart.element.getBoundingClientRect();var touchDown=this.touchStartList;var touchMove=this.touchMoveList;var touch0StartX=touchDown[0].pageX-elementOffset.left;var touch0StartY=touchDown[0].pageY-elementOffset.top;var touch0EndX=touchMove[0].pageX-elementOffset.left;var touch0EndY=touchMove[0].pageY-elementOffset.top;var touch1StartX=touchDown[1].pageX-elementOffset.left;var touch1StartY=touchDown[1].pageY-elementOffset.top;var touch1EndX=touchMove[1].pageX-elementOffset.left;var touch1EndY=touchMove[1].pageY-elementOffset.top;var scaleX=Math.abs(touch0EndX-touch1EndX)/Math.abs(touch0StartX-touch1StartX);var scaleY=Math.abs(touch0EndY-touch1EndY)/Math.abs(touch0StartY-touch1StartY);var clipX=(this.offset.x-touch0EndX)/scaleX+touch0StartX;var clipY=(this.offset.y-touch0EndY)/scaleY+touch0StartY;var pinchRect=new sf.svgbase.Rect(clipX,clipY,this.offset.width/scaleX,this.offset.height/scaleY);var translateXValue=touch0EndX-scaleX*touch0StartX;var translateYValue=touch0EndY-scaleY*touch0StartY;if(!isNaN(scaleX-scaleX)&&!isNaN(scaleY-scaleY)){switch(this.zooming.mode){case'XY':this.setTransform(translateXValue,translateYValue,scaleX,scaleY,chart,true);break;case'X':this.setTransform(translateXValue,0,scaleX,1,chart,true);break;case'Y':this.setTransform(0,translateYValue,1,scaleY,chart,true);break;}}this.calculatePinchZoomFactor(chart,pinchRect);this.refreshAxis(chart.chartAxisLayoutPanel,chart,chart.axisCollections);this.redrawOnZooming(chart,false);return true;};Zoom.prototype.calculatePinchZoomFactor=function(chart,pinchRect){var mode=this.zooming.mode;var selectionMin;var selectionMax;var rangeMin;var rangeMax;var value;var axisTrans;var argsData;var currentZF;var currentZP;var zoomedAxisCollection=[];this.zoomCompleteEvtCollection=[];for(var index=0;index<chart.axisCollections.length;index++){var axis=chart.axisCollections[index];if(axis.orientation==='Horizontal'&&mode!=='Y'||axis.orientation==='Vertical'&&mode!=='X'){currentZF=axis.zoomFactor;currentZP=axis.zoomPosition;argsData={cancel:false,name:zoomComplete,axis:axis,previousZoomFactor:axis.zoomFactor,previousZoomPosition:axis.zoomPosition,currentZoomFactor:currentZF,currentZoomPosition:currentZP,previousVisibleRange:axis.visibleRange,currentVisibleRange:null};if(axis.orientation==='Horizontal'){value=pinchRect.x-this.offset.x;axisTrans=axis.rect.width/this.zoomAxes[index].delta;rangeMin=value/axisTrans+this.zoomAxes[index].min;value=pinchRect.x+pinchRect.width-this.offset.x;rangeMax=value/axisTrans+this.zoomAxes[index].min;}else{value=pinchRect.y-this.offset.y;axisTrans=axis.rect.height/this.zoomAxes[index].delta;rangeMin=(value*-1+axis.rect.height)/axisTrans+this.zoomAxes[index].min;value=pinchRect.y+pinchRect.height-this.offset.y;rangeMax=(value*-1+axis.rect.height)/axisTrans+this.zoomAxes[index].min;}selectionMin=Math.min(rangeMin,rangeMax);selectionMax=Math.max(rangeMin,rangeMax);currentZP=(selectionMin-this.zoomAxes[index].actualMin)/this.zoomAxes[index].actualDelta;currentZF=(selectionMax-selectionMin)/this.zoomAxes[index].actualDelta;argsData.currentZoomPosition=currentZP<0?0:currentZP;argsData.currentZoomFactor=currentZF>1?1:currentZF;if(!argsData.cancel){axis.zoomFactor=argsData.currentZoomFactor;axis.zoomPosition=argsData.currentZoomPosition;this.zoomCompleteEvtCollection.push(argsData);}zoomedAxisCollection.push({zoomFactor:axis.zoomFactor,zoomPosition:axis.zoomFactor,axisName:axis.name,axisRange:axis.visibleRange});}}var onZoomingEventArgs={cancel:false,axisCollection:zoomedAxisCollection,name:_onZooming};if(!onZoomingEventArgs.cancel&&this.chart.isBlazor){this.chart.trigger(_onZooming,onZoomingEventArgs);}};// Series transformation style applied here.
Zoom.prototype.setTransform=function(transX,transY,scaleX,scaleY,chart,isPinch){if(!chart.enableCanvas){chart.seriesElements.setAttribute('clip-path','url(#'+this.elementId+'_ChartAreaClipRect_)');}if(chart.indicatorElements){chart.indicatorElements.setAttribute('clip-path','url(#'+this.elementId+'_ChartAreaClipRect_)');}var translate;var xAxisLoc;var yAxisLoc;var element;if(transX!==null&&transY!==null){for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var value=_a[_i];xAxisLoc=chart.requireInvertedAxis?value.yAxis.rect.x:value.xAxis.rect.x;yAxisLoc=chart.requireInvertedAxis?value.xAxis.rect.y:value.yAxis.rect.y;translate='translate('+(transX+(isPinch?scaleX*xAxisLoc:xAxisLoc))+','+(transY+(isPinch?scaleY*yAxisLoc:yAxisLoc))+')';translate=scaleX||scaleY?translate+' scale('+scaleX+' '+scaleY+')':translate;if(value.visible){if(value.category==='Indicator'){value.seriesElement.parentNode.setAttribute('transform',translate);}else{if(!chart.enableCanvas){value.seriesElement.setAttribute('transform',translate);}}element=getElement$1(chart.element.id+'_Series_'+value.index+'_DataLabelCollections');if(value.errorBarElement){value.errorBarElement.setAttribute('transform',translate);}if(value.symbolElement){value.symbolElement.setAttribute('transform',translate);}if(value.textElement){value.textElement.setAttribute('visibility','hidden');value.shapeElement.setAttribute('visibility','hidden');}if(element){element.style.visibility='hidden';}}}}};Zoom.prototype.calculateZoomAxesRange=function(chart){var range;var axisRange;for(var index=0;index<chart.axisCollections.length;index++){var axis=chart.axisCollections[index];axisRange=axis.visibleRange;if(this.zoomAxes[index]){if(!chart.delayRedraw){this.zoomAxes[index].min=axisRange.min;this.zoomAxes[index].delta=axisRange.delta;}}else{range={actualMin:axis.actualRange.min,actualDelta:axis.actualRange.delta,min:axisRange.min,delta:axisRange.delta};this.zoomAxes[index]=range;}}};// Zooming Toolkit created here
Zoom.prototype.showZoomingToolkit=function(chart){var toolboxItems=this.zooming.toolbarItems;var areaBounds=chart.chartAxisLayoutPanel.seriesClipRect;var spacing=5;var render=chart.svgRenderer;var length=this.isDevice?1:toolboxItems.length;var iconSize=this.isDevice?sf.svgbase.measureText('Reset Zoom',{size:'12px'}).width:16;var height=this.isDevice?sf.svgbase.measureText('Reset Zoom',{size:'12px'}).height:22;var width=length*iconSize+(length+1)*spacing+(length-1)*spacing;var transX=areaBounds.x+areaBounds.width-width-spacing;var transY=areaBounds.y+spacing;var xPosition=spacing;var toolkit=this.toolkit;var element;var shadowElement='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';shadowElement+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>';shadowElement+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';if(length===0||getElement$1(this.elementId+'_Zooming_KitCollection')){return false;}var defElement=render.createDefs();toolboxItems=this.isDevice?['Reset']:toolboxItems;defElement.innerHTML=shadowElement;this.toolkitElements=render.createGroup({id:this.elementId+'_Zooming_KitCollection',transform:'translate('+transX+','+transY+')'});this.toolkitElements.appendChild(defElement);this.toolkitElements.appendChild(render.drawRectangle(new RectOption(this.elementId+'_Zooming_Rect','#fafafa',{color:'transparent',width:1},1,new sf.svgbase.Rect(0,0,width,height+spacing*2),0,0)));var outerElement=render.drawRectangle(new RectOption(this.elementId+'_Zooming_Rect','#fafafa',{color:'transparent',width:1},0.1,new sf.svgbase.Rect(0,0,width,height+spacing*2),0,0));outerElement.setAttribute('filter','url(#chart_shadow)');this.toolkitElements.appendChild(outerElement);var currentItem;for(var i=1;i<=length;i++){currentItem=toolboxItems[i-1];element=render.createGroup({transform:'translate('+xPosition+','+(this.isDevice?spacing:spacing+3)+')'});// for desktop toolkit hight is 32 and top padding is 8 icon size 16
switch(currentItem){case'Pan':toolkit.createPanButton(element,this.toolkitElements);break;case'Zoom':toolkit.createZoomButton(element,this.toolkitElements);break;case'ZoomIn':toolkit.createZoomInButton(element,this.toolkitElements,chart);break;case'ZoomOut':toolkit.createZoomOutButton(element,this.toolkitElements,chart);break;case'Reset':toolkit.createResetButton(element,this.toolkitElements,chart,this.isDevice);break;}xPosition+=iconSize+spacing*2;}this.toolkitElements.setAttribute('opacity',this.isDevice?'1':''+this.zoomkitOpacity);this.toolkitElements.setAttribute('cursor','auto');if(chart.enableCanvas){var zoomDiv=document.createElement('div');zoomDiv.id=chart.element.id+'_zoom';zoomDiv.setAttribute('style','position:absolute; z-index:1');var zoomheight=chart.availableSize.height/2;var svg=chart.svgRenderer.createSvg({id:chart.element.id+'_zoomkit_svg',width:chart.availableSize.width,height:zoomheight});svg.setAttribute('style','position:absolute');svg.appendChild(this.toolkitElements);zoomDiv.appendChild(svg);document.getElementById(this.elementId+'_Secondary_Element').appendChild(zoomDiv);}else{chart.svgObject.appendChild(this.toolkitElements);}if(!this.isDevice){sf.base.EventHandler.add(this.toolkitElements,'mousemove touchstart',this.zoomToolkitMove,this);sf.base.EventHandler.add(this.toolkitElements,'mouseleave touchend',this.zoomToolkitLeave,this);if(this.isPanning){toolkit.pan();}}return true;};/**
     * To the show the zooming toolkit.
     *
     * @returns {void}
     * @private
     */Zoom.prototype.applyZoomToolkit=function(chart,axes){var showToolkit=this.isAxisZoomed(axes);if(showToolkit){this.showZoomingToolkit(chart);this.isZoomed=true;}else{this.toolkit.removeTooltip();this.isPanning=false;this.isZoomed=false;chart.svgObject.setAttribute('cursor','auto');}};/**
     * Return boolean property to show zooming toolkit.
     *
     * @returns {void}
     * @private
     */Zoom.prototype.isAxisZoomed=function(axes){var showToolkit=false;for(var _i=0,_a=axes;_i<_a.length;_i++){var axis=_a[_i];showToolkit=showToolkit||axis.zoomFactor!==1||axis.zoomPosition!==0;}return showToolkit;};Zoom.prototype.zoomToolkitMove=function(){var element=this.toolkitElements;this.zoomkitOpacity=1;element.setAttribute('opacity',''+this.zoomkitOpacity);return false;};Zoom.prototype.zoomToolkitLeave=function(){var element=this.toolkitElements;this.zoomkitOpacity=0.3;element.setAttribute('opacity',''+this.zoomkitOpacity);return false;};/**
     * @hidden
     */Zoom.prototype.addEventListener=function(){if(this.chart.isDestroyed){return;}sf.base.EventHandler.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this);this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler,this);this.chart.on(sf.base.Browser.touchStartEvent,this.mouseDownHandler,this);this.chart.on(sf.base.Browser.touchEndEvent,this.mouseUpHandler,this);this.chart.on(this.cancelEvent,this.mouseCancelHandler,this);};/**
     * @hidden
     */Zoom.prototype.removeEventListener=function(){if(this.chart.isDestroyed){return;}sf.base.EventHandler.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel);this.chart.off(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler);this.chart.off(sf.base.Browser.touchStartEvent,this.mouseDownHandler);this.chart.off(sf.base.Browser.touchEndEvent,this.mouseUpHandler);this.chart.off(this.cancelEvent,this.mouseCancelHandler);};/**
     * Handles the mouse wheel on chart.
     *
     * @returns {boolean} false
     * @private
     */Zoom.prototype.chartMouseWheel=function(e){var chart=this.chart;var offset=chart.element.getBoundingClientRect();var svgRect=getElement$1(chart.svgId).getBoundingClientRect();var mouseX=e.clientX-offset.left-Math.max(svgRect.left-offset.left,0);var mouseY=e.clientY-offset.top-Math.max(svgRect.top-offset.top,0);if(this.zooming.enableMouseWheelZooming&&withInBounds(mouseX,mouseY,chart.chartAxisLayoutPanel.seriesClipRect)){e.preventDefault();this.performMouseWheelZooming(e,mouseX,mouseY,chart,chart.axisCollections);}return false;};/**
     * @hidden
     */Zoom.prototype.mouseMoveHandler=function(e){//Zooming for chart
var chart=this.chart;var touches=null;if(e.type==='touchmove'){if(e.preventDefault&&this.isIOS&&(this.isPanning||chart.isDoubleTap||this.zooming.enablePinchZooming&&this.touchStartList.length>1)){e.preventDefault();}touches=e.touches;}if(chart.isChartDrag){if(chart.isTouch){this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,touches);if(this.zooming.enablePinchZooming&&this.touchMoveList.length>1&&this.touchStartList.length>1){this.performPinchZooming(e,chart);}}this.renderZooming(e,chart,chart.isTouch);}};/**
     * @hidden
     */Zoom.prototype.mouseDownHandler=function(e){//Zooming for chart
var chart=this.chart;var touches=null;var target;if(e.type==='touchstart'){touches=e.touches;target=e.target;}else{target=e.target;}if(target.id.indexOf(chart.element.id+'_Zooming_')===-1&&withInBounds(chart.previousMouseMoveX,chart.previousMouseMoveY,chart.chartAxisLayoutPanel.seriesClipRect)){chart.isChartDrag=true;}if(chart.isTouch){this.touchStartList=this.addTouchPointer(this.touchStartList,e,touches);}};/**
     * @hidden
     */Zoom.prototype.mouseUpHandler=function(e){var chart=this.chart;var performZoomRedraw=e.target.id.indexOf(chart.element.id+'_ZoomOut_')===-1||e.target.id.indexOf(chart.element.id+'_ZoomIn_')===-1;if(chart.isChartDrag||performZoomRedraw){this.redrawOnZooming(chart,true,true);}if(chart.isTouch){if(chart.isDoubleTap&&withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect)&&this.touchStartList.length===1&&this.isZoomed){this.toolkit.reset();}this.touchStartList=[];chart.isDoubleTap=false;}};/**
     * @hidden
     */Zoom.prototype.mouseCancelHandler=function(){if(this.isZoomed){this.performZoomRedraw(this.chart);}this.pinchTarget=null;this.touchStartList=[];this.touchMoveList=[];};/**
     * Handles the touch pointer.
     *
     * @returns {ITouches[]} touchList collection
     * @private
     */Zoom.prototype.addTouchPointer=function(touchList,e,touches){if(touches){touchList=[];for(var i=0,length_1=touches.length;i<length_1;i++){touchList.push({pageX:touches[i].clientX,pageY:touches[i].clientY,pointerId:null});}}else{touchList=touchList?touchList:[];if(touchList.length===0){touchList.push({pageX:e.clientX,pageY:e.clientY,pointerId:e.pointerId});}else{for(var i=0,length_2=touchList.length;i<length_2;i++){if(touchList[i].pointerId===e.pointerId){touchList[i]={pageX:e.clientX,pageY:e.clientY,pointerId:e.pointerId};}else{touchList.push({pageX:e.clientX,pageY:e.clientY,pointerId:e.pointerId});}}}}return touchList;};/**
     * Get module name.
     */Zoom.prototype.getModuleName=function(){// Returns te module name
return'Zoom';};/**
     * To destroy the zooming.
     *
     * @returns {void}
     * @private
     */Zoom.prototype.destroy=function(){// Destroy method performed here
this.removeEventListener();};return Zoom;}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Selection src file
 */ /**
 * Selection Module handles the selection for chart.
 *
 * @private
 */var BaseSelection=/** @class */function(){function BaseSelection(control){this.control=control;}/**
     * To create selection styles for series
     *
     * @returns {void}
     */BaseSelection.prototype.seriesStyles=function(){var seriesclass;var style=document.getElementById(this.styleId);var pattern='{}';var fill;var opacity;var selectionPattern=this.control.selectionPattern;var highlightPattern=this.control.highlightPattern;if(sf.base.isNullOrUndefined(style)||selectionPattern!=='None'||highlightPattern!=='None'){style=document.createElement('style');style.setAttribute('id',this.styleId);for(var _i=0,_a=this.control.visibleSeries;_i<_a.length;_i++){var series=_a[_i];var visibleSeries=this.control.visibleSeries[series.index]||this.control.visibleSeries[series.index];if((!sf.base.isNullOrUndefined(selectionPattern)||!sf.base.isNullOrUndefined(highlightPattern))&&(selectionPattern!=='None'||highlightPattern!=='None')){var patternName=this.styleId.indexOf('highlight')>0?highlightPattern:selectionPattern;if(visibleSeries.type==='Pie'||visibleSeries.type==='Funnel'||visibleSeries.type==='Pyramid'){for(var i=0;i<visibleSeries.points.length;i++){opacity=visibleSeries.opacity;fill=this.pattern(this.control,visibleSeries.points[i].color,series.index,patternName,opacity);pattern='{ fill:'+fill+'}';}}else if(visibleSeries.type){opacity=visibleSeries.opacity;fill=this.pattern(this.control,visibleSeries.interior,series.index,patternName,opacity);pattern='{ fill:'+fill+'}';}}seriesclass=series.selectionStyle||this.styleId+'_series_'+series.index+','+'.'+this.styleId+'_series_'+series.index+'> *';pattern=pattern.indexOf('None')>-1?'{}':pattern;style.innerHTML+=series.selectionStyle?'':'.'+seriesclass+pattern;}style.innerHTML+='.'+this.unselected+' { opacity:'+0.3+';} ';document.body.appendChild(style);}};/**
     * To create the pattern for series/points
     *
     * @param chart
     * @param color
     * @param index
     * @param patternName
     * @param opacity
     * @param chart
     * @param color
     * @param index
     * @param patternName
     * @param opacity
     * @param chart
     * @param color
     * @param index
     * @param patternName
     * @param opacity
     * @param chart
     * @param color
     * @param index
     * @param patternName
     * @param opacity
     * @param chart
     * @param color
     * @param index
     * @param patternName
     * @param opacity
     */BaseSelection.prototype.pattern=function(chart,color,index,patternName,opacity){var backgroundColor='#ffffff';var svg=chart.svgObject;var pathOptions=[];var patternGroup={'id':patternName+'_Selection'+'_'+index,'patternUnits':'userSpaceOnUse'};var heightStr='height';var widthStr='width';var width=10;var height=12;var patternNum=6;var turquoiseNum=17;var turstrokewidth=1;var starNum=21;var circleNum=9;var tileNum=18;var strokeWidth=1;var bubNum=20;switch(patternName){case'Dots':patternGroup[heightStr]=patternGroup[widthStr]=patternNum;patternGroup[widthStr]=patternNum;pathOptions[0]={'x':0,'y':0,'width':7,'height':7,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity,'name':'rect'};pathOptions[1]={'cx':3,'cy':3,'r':2,'stroke-width':1,'fill':color,'name':'circle'};break;case'Pacman':patternGroup[heightStr]='18.384';patternGroup[widthStr]='17.917';pathOptions[0]={'name':'rect','x':0,'y':0,'width':17.917,'height':18.384,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z','stroke-width':1,'stroke':color,'fill':color};break;case'Chessboard':patternGroup[heightStr]=patternGroup[widthStr]=width;pathOptions[0]={'x':0,'y':0,'width':width,'height':width,'fill':backgroundColor,'opacity':opacity,'name':'rect'};pathOptions[1]={'x':0,'y':0,'width':5,'height':5,'fill':color,'opacity':opacity,'name':'rect'};pathOptions[2]={'x':5,'y':5,'width':5,'height':5,'fill':color,'opacity':opacity,'name':'rect'};break;case'Crosshatch':patternGroup[heightStr]=patternGroup[widthStr]='8';pathOptions[0]={'x':0,'y':0,'width':8,'height':8,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity,'name':'rect'};pathOptions[1]={'d':'M0 0L8 8ZM8 0L0 8Z','stroke-width':1,'stroke':color,'name':'path'};break;case'DiagonalForward':patternGroup[heightStr]=patternGroup[widthStr]=patternNum;pathOptions[0]={'x':0,'y':0,'width':patternNum,'height':patternNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity,'name':'rect'};pathOptions[1]={'d':'M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3','stroke-width':2,'stroke':color,'name':'path'};break;case'DiagonalBackward':patternGroup[heightStr]=patternGroup[widthStr]=patternNum;pathOptions[0]={'x':0,'y':0,'width':patternNum,'height':patternNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity,'name':'rect'};pathOptions[1]={'d':'M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9','stroke-width':2,'stroke':color,'name':'path'};break;case'Grid':patternGroup[heightStr]=patternGroup[widthStr]=patternNum;pathOptions[0]={'name':'rect','x':0,'y':0,'width':patternNum,'height':patternNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z','stroke-width':1,'stroke':color};break;case'Turquoise':patternGroup[heightStr]=patternGroup[widthStr]=turquoiseNum;pathOptions[0]={'name':'rect','x':0,'y':0,'width':turquoiseNum,'height':turquoiseNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};pathOptions[2]={'name':'path','d':'M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};pathOptions[3]={'name':'path','d':'M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};pathOptions[4]={'name':'path','d':'M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};pathOptions[5]={'name':'path','d':'M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};pathOptions[6]={'name':'path','d':'M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};pathOptions[7]={'name':'path','d':'M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0','stroke-width':turstrokewidth,'stroke-miterlimit':width,'stroke':color,'fill':color};break;case'Star':patternGroup[heightStr]=patternGroup[widthStr]=starNum;pathOptions[0]={'name':'rect','x':0,'y':0,'width':starNum,'height':starNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z','stroke-width':1,'stroke':color,'fill':color};break;case'Triangle':patternGroup[heightStr]=patternGroup[widthStr]=width;pathOptions[0]={'name':'rect','x':0,'y':0,'width':width,'height':width,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z','stroke-width':1,'stroke':color,'fill':color};break;case'Circle':patternGroup[heightStr]=patternGroup[widthStr]=circleNum;pathOptions[0]={'name':'rect','x':0,'y':0,'width':circleNum,'height':circleNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'circle','cx':5.125,'cy':3.875,'r':3.625,'stroke-width':1,'fill':color};break;case'Tile':patternGroup[heightStr]=patternGroup[widthStr]=tileNum;pathOptions[0]={'name':'rect','x':0,'y':0,'width':tileNum,'height':tileNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M0,9L0 0 9 0 z','stroke-width':strokeWidth,'stroke':color,'fill':color};pathOptions[2]={'name':'path','d':'M9,9L9 0 18 0 z','stroke-width':strokeWidth,'stroke':color,'fill':color};pathOptions[3]={'name':'path','d':'M0,18L0 9 9 9 z','stroke-width':strokeWidth,'stroke':color,'fill':color};pathOptions[4]={'name':'path','d':'M9,18L9 9 18 9 z','stroke-width':strokeWidth,'stroke':color,'fill':color};break;case'HorizontalDash':patternGroup[heightStr]=patternGroup[widthStr]=height;pathOptions[0]={'name':'rect','x':0,'y':0,'width':height,'height':height,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z','stroke-width':1,'stroke':color,'fill':color};break;case'VerticalDash':patternGroup[heightStr]=patternGroup[widthStr]=height;pathOptions[0]={'name':'rect','x':0,'y':0,'width':height,'height':height,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z','stroke-width':1,'stroke':color,'fill':color};break;case'Rectangle':patternGroup[heightStr]=patternGroup[widthStr]=height;pathOptions[0]={'name':'rect','width':height,'height':height,'fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'rect','x':1,'y':2,'width':4,'height':9,'fill':color,'opacity':opacity};pathOptions[2]={'name':'rect','x':7,'y':2,'width':4,'height':9,'fill':color,'opacity':opacity};break;case'Box':patternGroup[heightStr]=patternGroup[widthStr]=width;pathOptions[0]={'name':'rect','width':13,'height':13,'fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'rect','x':1.5,'y':1.5,'width':width,'height':9,'fill':color,'opacity':opacity};break;case'HorizontalStripe':patternGroup[heightStr]=height;patternGroup[widthStr]=width;pathOptions[0]={'name':'rect','x':0,'y':0,'width':width,'height':height,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z','stroke-width':1,'stroke':color,'fill':color};break;case'VerticalStripe':patternGroup[heightStr]=width;patternGroup[widthStr]=height;pathOptions[0]={'name':'rect','x':0,'y':0,'width':height,'height':width,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'path','d':'M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z','stroke-width':1,'stroke':color,'fill':color};break;case'Bubble':patternGroup[heightStr]=patternGroup[widthStr]=bubNum;pathOptions[0]={'name':'rect','x':0,'y':0,'width':bubNum,'height':bubNum,'transform':'translate(0,0)','fill':backgroundColor,'opacity':opacity};pathOptions[1]={'name':'circle','cx':5.217,'cy':11.325,'r':3.429,'stroke-width':1,'fill':'#D0A6D1'};pathOptions[2]={'name':'circle','cx':13.328,'cy':6.24,'r':4.884,'stroke-width':1,'fill':color};pathOptions[3]={'name':'circle','cx':13.277,'cy':14.66,'r':3.018,'stroke-width':1,'fill':'#D0A6D1'};break;}var svgRenderer=chart.svgRenderer||chart.renderer;var pattern=svgRenderer.createPattern(patternGroup,'pattern');this.loadPattern(chart,pathOptions,pattern,svgRenderer);svg.appendChild(pattern);return'url(#'+patternName+'_'+'Selection'+'_'+index+')';};/**
     * To load the pattern into svg
     *
     * @param chart
     * @param options
     * @param pattern
     * @param svgRenderer
     * @param chart
     * @param options
     * @param pattern
     * @param svgRenderer
     * @param chart
     * @param options
     * @param pattern
     * @param svgRenderer
     * @param chart
     * @param options
     * @param pattern
     * @param svgRenderer
     */BaseSelection.prototype.loadPattern=function(chart,options,pattern,svgRenderer){var i;for(i=0;i<options.length;i++){// eslint-disable-next-line @typescript-eslint/ban-types
var path=svgRenderer.createPattern(options[i],options[i].name);pattern.appendChild(path);}};/**
     * To concat indexes
     *
     * @param userIndexes
     * @param localIndexes
     * @param userIndexes
     * @param localIndexes
     */BaseSelection.prototype.concatIndexes=function(userIndexes,localIndexes){return userIndexes.concat(localIndexes);};/**
     * Selected points series visibility checking on legend click
     *
     * @param selectedIndexes
     */BaseSelection.prototype.checkVisibility=function(selectedIndexes){if(!selectedIndexes){return false;}var visible=false;var uniqueSeries=[];for(var _i=0,selectedIndexes_1=selectedIndexes;_i<selectedIndexes_1.length;_i++){var index=selectedIndexes_1[_i];if(uniqueSeries.indexOf(index.series)===-1){uniqueSeries.push(index.series);}}for(var _a=0,uniqueSeries_1=uniqueSeries;_a<uniqueSeries_1.length;_a++){var index=uniqueSeries_1[_a];if(this.control.series[index].visible){visible=true;break;}}return visible;};/**
     * To add svg element style class
     *
     * @param element
     * @param className
     * @param element
     * @param className
     * @private
     */BaseSelection.prototype.addSvgClass=function(element,className){var elementClassName=element.getAttribute('class')||'';elementClassName+=elementClassName!==''?' ':'';if(elementClassName.indexOf(className)===-1){element.setAttribute('class',elementClassName+className);}};/**
     * To remove svg element style class
     *
     * @param element
     * @param className
     * @param element
     * @param className
     * @private
     */BaseSelection.prototype.removeSvgClass=function(element,className){var elementClassName=element.getAttribute('class')||'';if(elementClassName.indexOf(className)>-1){element.setAttribute('class',elementClassName.replace(className,''));}};/**
     * To get children from parent element
     *
     * @param parent
     */BaseSelection.prototype.getChildren=function(parent){var children=[];for(var i=0;i<parent.childNodes.length;i++){if(parent.childNodes[i].tagName!=='defs'){children.push(parent.childNodes[i]);}}return children;};return BaseSelection;}();var __extends$56=undefined&&undefined.__extends||function(){var _extendStatics57=function extendStatics(d,b){_extendStatics57=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics57(d,b);};return function(d,b){_extendStatics57(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /* eslint-disable valid-jsdoc */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Selection src file
 */ /**
 * `Selection` module handles the selection for chart.
 *
 * @private
 */var Selection=/** @class */function(_super){__extends$56(Selection,_super);/**
     * Constructor for selection module.
     *
     * @private
     */function Selection(chart){var _this=_super.call(this,chart)||this;_this.isdrawRect=true;_this.multiDataIndexes=[];_this.pathIndex=0;_this.seriesIndex=0;_this.count=-1;_this.dragRectArray=[];_this.filterArray=[];_this.totalSelectedPoints=[];_this.chart=chart;_this.renderer=chart.renderer;var mode=chart.selectionMode;_this.isMultiDrag=chart.isMultiSelect&&mode.indexOf('Drag')>-1;_this.addEventListener();return _this;}/**
     * Binding events for selection module.
     */Selection.prototype.addEventListener=function(){if(this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning){return;}var cancelEvent=sf.base.Browser.isPointer?'pointerleave':'mouseleave';this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMove,this);this.chart.on(cancelEvent,this.completeSelection,this);this.chart.on('click',this.calculateSelectedElements,this);this.chart.on(sf.base.Browser.touchStartEvent,this.mousedown,this);this.chart.on(sf.base.Browser.touchEndEvent,this.completeSelection,this);};/**
     * Chart mouse down
     */Selection.prototype.mousedown=function(e){var chart=this.chart;if(chart.isPointMouseDown||chart.selectionMode==='None'||chart.isChartDrag){return;}if(chart.isDoubleTap||!chart.isTouch||this.rectPoints){this.dragStart(chart,chart.chartAxisLayoutPanel.seriesClipRect,chart.mouseDownX,chart.mouseDownY,e);}};/**
     * UnBinding events for selection module.
     */Selection.prototype.removeEventListener=function(){if(this.chart.isDestroyed){return;}this.chart.off(sf.base.Browser.touchMoveEvent,this.mouseMove);this.chart.off('pointerleave'||false,this.completeSelection);this.chart.off('click',this.calculateSelectedElements);this.chart.off(sf.base.Browser.touchStartEvent,this.mousedown);this.chart.off(sf.base.Browser.touchEndEvent,this.completeSelection);};/**
     * To find private variable values
     */Selection.prototype.initPrivateVariables=function(chart){this.styleId=chart.element.id+'_ej2_chart_selection';this.unselected=chart.element.id+'_ej2_deselected';this.closeIconId=chart.element.id+'_ej2_drag_close';this.draggedRectGroup=chart.element.id+'_ej2_drag_group';this.multiRectGroup=chart.element.id+'_ej2_drag_multi_group';this.draggedRect=chart.element.id+'_ej2_drag_rect';this.lassoPath=chart.element.id+'_ej2_drag_path';this.selectedDataIndexes=[];this.rectPoints=null;this.isSeriesMode=chart.selectionMode==='Series';};/**
     * Method to select the point and series.
     *
     * @returns {void}
     */Selection.prototype.invokeSelection=function(chart){this.initPrivateVariables(chart);this.series=sf.base.extend({},chart.visibleSeries,null,true);this.seriesStyles();this.currentMode=chart.selectionMode;if(!(chart.selectionMode.indexOf('Drag')>-1)){this.selectDataIndex(chart,this.concatIndexes(chart.selectedDataIndexes,this.selectedDataIndexes));}};Selection.prototype.generateStyle=function(series){if(series){if(this.styleId.indexOf('selection')>1&&this.chart.selectionMode!=='None'){this.unselected=series.unSelectedStyle||this.unselected;}if(this.styleId.indexOf('highlight')>0&&this.chart.highlightMode!=='None'){this.unselected=series.nonHighlightStyle||this.unselected;}return series.selectionStyle||this.styleId+'_series_'+series.index;}return'undefined';};/**
     *  Method to get the selected data index
     *
     * @private
     */Selection.prototype.selectDataIndex=function(chart,indexes){for(var _i=0,indexes_1=indexes;_i<indexes_1.length;_i++){var index=indexes_1[_i];this.performSelection(index,chart,this.getElementByIndex(chart,index)[0]);}};/**
     *  Method to get the selected index element
     *
     * @private
     */Selection.prototype.getElementByIndex=function(chart,index,suffix){if(suffix===void 0){suffix='';}var elementId=chart.element.id+'_Series_'+index.series+'_Point'+'_'+index.point;var series=chart.series[index.series];elementId=!series.isRectSeries&&series.type!=='Scatter'&&series.type!=='Bubble'&&series.marker.visible?elementId+'_Symbol'+suffix:elementId;return[getElement$1(elementId),series.type==='RangeArea'&&series.marker.visible?getElement$1(elementId+'1'):null];};/**
     *  Method to get the selected cluster element
     *
     * @private
     */Selection.prototype.getClusterElements=function(chart,index){var clusters=[];var seriesStyle;var selectedElements;for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];index=new Index(series.index,index.point);clusters.push(this.getElementByIndex(chart,index)[0]);seriesStyle=this.generateStyle(chart.visibleSeries[index.series]);selectedElements=document.querySelectorAll('.'+seriesStyle);this.findTrackballElements(selectedElements,seriesStyle);if(!chart.isMultiSelect&&selectedElements.length>0&&selectedElements[0].id!==clusters[index.series].id){this.removeSelection(chart,index.series,selectedElements,seriesStyle,true);}}return clusters;};/**
     *  Method to get trackball elements
     *
     * @private
     */Selection.prototype.findTrackballElements=function(selectedElements,className){var trackballElements;var elements;for(var i=0;i<selectedElements.length;i++){if(!sf.base.isNullOrUndefined(selectedElements[i])){trackballElements=!sf.base.isNullOrUndefined(selectedElements[i].parentNode)?[].slice.call(selectedElements[0].parentNode.querySelectorAll('.'+className)):[];if(trackballElements.length>0){elements=[];for(var i_1=0;i_1<trackballElements.length;i_1++){if(trackballElements[i_1].id.indexOf('Trackball')>-1){elements.push(trackballElements[i_1]);}}this.removeStyles(elements);}}}};/**
     *  Method to get the selected element
     *
     * @private
     */Selection.prototype.findElements=function(chart,series,index,suffix){if(suffix===void 0){suffix='';}if(this.isSeriesMode){return this.getSeriesElements(series);}else if(this.currentMode==='Cluster'){return this.getClusterElements(chart,index);}else{return this.getElementByIndex(chart,index,suffix);}};/**
     * To find the selected element.
     *
     * @returns {void}
     * @private
     */Selection.prototype.isAlreadySelected=function(event){var targetElem=event.target;if(event.type==='click'){this.currentMode=this.chart.selectionMode;this.styleId=this.chart.element.id+'_ej2_chart_selection';}else if(event.type==='mousemove'){this.currentMode=this.chart.highlightMode;this.highlightDataIndexes=[];this.styleId=this.chart.element.id+'_ej2_chart_highlight';}if(this.chart.highlightMode!=='None'&&this.chart.selectionMode==='None'){if(event.type==='click'){return false;}}if(this.chart.highlightMode!=='None'&&this.previousSelectedEle&&this.previousSelectedEle[0]){var parentNodeId=targetElem.parentNode.id;var isElement=void 0;if(targetElem.parentNode){isElement=parentNodeId.indexOf('SeriesGroup')>0||parentNodeId.indexOf('SymbolGroup')>0?true:false;}for(var i=0;i<this.previousSelectedEle.length;i++){if(this.previousSelectedEle[i].hasAttribute('class')){if(this.previousSelectedEle[i].getAttribute('class').indexOf('highlight')>-1&&(isElement||event.type==='click')){this.previousSelectedEle[i].removeAttribute('class');this.addOrRemoveIndex(this.highlightDataIndexes,this.indexFinder(this.previousSelectedEle[i].id));}else if(!isElement&&this.previousSelectedEle[i].getAttribute('class').indexOf('highlight')>-1){this.performSelection(this.indexFinder(this.previousSelectedEle[i].id),this.chart,this.previousSelectedEle[i]);}}}}return true;};/**
     * To find the selected element.
     *
     * @returns {void}
     * @private
     */Selection.prototype.calculateSelectedElements=function(event){if(sf.base.isNullOrUndefined(event.target)){return;}var targetElement=event.target;if(this.chart.selectionMode==='None'&&this.chart.highlightMode==='None'||targetElement.id.indexOf(this.chart.element.id+'_')===-1){return;}if(event.type==='mousemove'){if(targetElement.hasAttribute('class')&&(targetElement.getAttribute('class').indexOf('highlight')>-1||targetElement.getAttribute('class').indexOf('selection')>-1)){return;}if(!sf.base.isNullOrUndefined(targetElement.parentNode)&&targetElement.parentNode.hasAttribute('class')&&(targetElement.parentNode.getAttribute('class').indexOf('highlight')>0||targetElement.parentNode.getAttribute('class').indexOf('selection')>0)){return;}}this.isAlreadySelected(event);if(targetElement.id.indexOf('_Series_')>-1){var element=void 0;if(targetElement.id.indexOf('_Trackball_1')>-1){element=getElement$1(targetElement.id.split('_Trackball_')[0]+'_Symbol');element=sf.base.isNullOrUndefined(element)?getElement$1(targetElement.id.split('_Trackball_')[0]):element;}else if(targetElement.id.indexOf('_Trackball_0')>-1){return null;}this.performSelection(this.indexFinder(targetElement.id),this.chart,element||targetElement);}};/**
     *  Method to perform the selection
     *
     * @private
     */Selection.prototype.performSelection=function(index,chart,element){this.isSeriesMode=this.currentMode==='Series';if(chart.series[index.series].type==='BoxAndWhisker'&&element.id===chart.element.id+'_Series_'+index.series+'_Point_'+index.point+'_BoxPath'){element=element.parentNode;}if(chart.series[index.series].type==='Area'&&(this.currentMode==='Point'||this.currentMode==='Cluster')&&element.id===this.chart.element.id+'_Series_'+index.series){var className=this.generateStyle(chart.series[index.series]);var selectionEle=document.querySelectorAll('.'+className);this.findTrackballElements(selectionEle,className);this.blurEffect(chart.element.id,chart.visibleSeries);}switch(this.currentMode){case'Series':this.selection(chart,index,this.getSeriesElements(chart.series[index.series]));this.selectionComplete(chart,index,this.currentMode);this.blurEffect(chart.element.id,chart.visibleSeries);break;case'Point':if(!isNaN(index.point)){this.selection(chart,index,[element]);this.selectionComplete(chart,index,this.currentMode);this.blurEffect(chart.element.id,chart.visibleSeries);}break;case'Cluster':if(!isNaN(index.point)){this.clusterSelection(chart,index);this.selectionComplete(chart,index,this.currentMode);this.blurEffect(chart.element.id,chart.visibleSeries);}break;}};/**
     *  Method to get the selected data index
     *
     * @private
     */Selection.prototype.selectionComplete=function(chart,index,selectionMode){var points;var pointIndex;var seriesIndex;var selectedPointValues=[];var yValue;var selectedPointX;if(selectionMode==='Cluster'){for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(series.visible){for(var i=0;i<this.selectedDataIndexes.length;i++){pointIndex=chart.isMultiSelect?this.selectedDataIndexes[i].point:index.point;seriesIndex=series.index;points=series.points;if(!isNaN(pointIndex)){yValue=series.type!=='RangeArea'?points[pointIndex].yValue:points[pointIndex].regions[0].y;selectedPointX=points[pointIndex].xValue;if(chart.primaryXAxis.valueType==='Category'){selectedPointX=points[pointIndex].x.toLocaleString();}else if(chart.primaryXAxis.valueType==='DateTime'){selectedPointX=new Date(points[pointIndex].xValue);}if(series.category!=='Indicator'){selectedPointValues.push({x:selectedPointX,y:yValue,seriesIndex:seriesIndex,pointIndex:pointIndex});}if(series.type==='RangeArea'){selectedPointValues.push({x:selectedPointX,y:points[pointIndex].regions[0].y,seriesIndex:seriesIndex,pointIndex:pointIndex});}}}}}}else if(selectionMode==='Series'){if(chart.isMultiSelect){for(var i=0;i<this.selectedDataIndexes.length;i++){seriesIndex=this.selectedDataIndexes[i].series;selectedPointValues.push({seriesIndex:seriesIndex});}}else{seriesIndex=this.selectedDataIndexes.length>0?this.selectedDataIndexes[0].series:0;selectedPointValues.push({seriesIndex:seriesIndex});}}else if(selectionMode==='Point'){for(var i=0;i<this.selectedDataIndexes.length;i++){pointIndex=this.selectedDataIndexes[i].point;seriesIndex=this.selectedDataIndexes[i].series;var series=chart.series[seriesIndex];points=series.points;if(!isNaN(pointIndex)){selectedPointX=points[pointIndex].xValue;yValue=series.type!=='RangeArea'?points[pointIndex].yValue:points[pointIndex].regions[0].y;if(chart.primaryXAxis.valueType==='Category'){selectedPointX=points[pointIndex].x.toLocaleString();}else if(chart.primaryXAxis.valueType==='DateTime'){selectedPointX=new Date(points[pointIndex].xValue);}selectedPointValues.push({x:selectedPointX,y:yValue,seriesIndex:seriesIndex,pointIndex:pointIndex});}}}var args={name:selectionComplete,selectedDataValues:selectedPointValues,cancel:false};chart.trigger(selectionComplete,args);};/**
     *  Method to perform selection
     *
     * @private
     */Selection.prototype.selection=function(chart,index,selectedElements){if(!(this.currentMode==='Lasso')){if(!chart.isMultiSelect&&this.currentMode.indexOf('Drag')===-1&&this.styleId.indexOf('highlight')===-1&&chart.selectionMode!=='None'){this.removeMultiSelectElements(chart,this.selectedDataIndexes,index,chart.series);}}if(!sf.base.isNullOrUndefined(selectedElements[0])){var isAdd=void 0;var className=selectedElements[0]&&(selectedElements[0].getAttribute('class')||'');var pClassName=selectedElements[0].parentNode&&(selectedElements[0].parentNode.getAttribute('class')||'');if(className!==''&&this.currentMode!=='Cluster'){this.findTrackballElements(selectedElements,className);}if(selectedElements[0]&&className.indexOf(this.getSelectionClass(selectedElements[0].id))>-1){this.removeStyles(selectedElements);}else if(selectedElements[0].parentNode&&pClassName.indexOf(this.getSelectionClass(selectedElements[0].id))>-1){this.removeStyles([selectedElements[0].parentNode]);}else{this.previousSelectedEle=chart.highlightMode!=='None'?selectedElements:[];this.applyStyles(selectedElements);isAdd=true;}if(this.styleId.indexOf('highlight')>0&&chart.highlightMode!=='None'){this.addOrRemoveIndex(this.highlightDataIndexes,index,isAdd);}else{this.addOrRemoveIndex(this.selectedDataIndexes,index,isAdd);}}};/**
     *  Method to get the cluster selection element
     *
     * @private
     */Selection.prototype.clusterSelection=function(chart,index){this.selection(chart,index,this.getClusterElements(chart,new Index(index.series,index.point)));};/**
     * Method to remove the multi selected elements
     *
     * @private
     */Selection.prototype.removeMultiSelectElements=function(chart,index,currentIndex,seriesCollection){var series;for(var i=0;i<index.length;i++){series=seriesCollection[index[i].series];if(this.isSeriesMode&&!this.toEquals(index[i],currentIndex,this.isSeriesMode)||this.currentMode==='Cluster'&&!this.toEquals(index[i],currentIndex,false)||!this.isSeriesMode&&this.toEquals(index[i],currentIndex,true)&&!this.toEquals(index[i],currentIndex,false)){this.removeStyles(this.findElements(chart,series,index[i]));index.splice(i,1);i--;}}};/**
     * Method to remove the selection
     *
     * @private
     */Selection.prototype.blurEffect=function(chartId,visibleSeries,legendClick$$1){if(legendClick$$1===void 0){legendClick$$1=false;}var visibility=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes);// legend click scenario
for(var _i=0,visibleSeries_1=visibleSeries;_i<visibleSeries_1.length;_i++){var series=visibleSeries_1[_i];if(series.visible){this.checkSelectionElements(getElement$1(chartId+'SeriesGroup'+series.index),this.generateStyle(series),visibility,legendClick$$1,series.index);if(!sf.base.isNullOrUndefined(getElement$1(chartId+'SymbolGroup'+series.index))){this.checkSelectionElements(getElement$1(chartId+'SymbolGroup'+series.index),this.generateStyle(series),visibility,legendClick$$1,series.index);}}}};/**
     * Method to add the add/remove class to element
     *
     * @private
     */Selection.prototype.checkSelectionElements=function(element,className,visibility,legendClick$$1,series){var children=this.isSeriesMode?[element]:element.childNodes;if(this.chart.selectionMode!=='None'&&this.chart.highlightMode!=='None'){children=element.children;}var elementClassName;var parentClassName;var legendShape;var selectElement=element;for(var i=0;i<children.length;i++){elementClassName=children[i].getAttribute('class')||'';parentClassName=children[i].parentNode.getAttribute('class')||'';if(this.chart.selectionMode!=='None'&&this.chart.highlightMode!=='None'){className=elementClassName.indexOf('selection')>0||elementClassName.indexOf('highlight')>0?elementClassName:className;className=parentClassName.indexOf('selection')>0||parentClassName.indexOf('highlight')>0?parentClassName:className;}if(elementClassName.indexOf(className)===-1&&parentClassName.indexOf(className)===-1&&visibility){this.addSvgClass(children[i],this.unselected);}else{selectElement=children[i];this.removeSvgClass(children[i],this.unselected);this.removeSvgClass(children[i].parentNode,this.unselected);}if(children[i].id.indexOf('Trackball')>0&&selectElement.classList[0]===className){this.removeSvgClass(children[i],this.unselected);this.removeSvgClass(children[i].parentNode,this.unselected);this.addSvgClass(children[i],className);}}if(element.id.indexOf('Symbol')>-1){if(element.querySelectorAll('.'+className)[0]&&element.querySelectorAll('.'+className)[0].getAttribute('class')===className){var symbolEle=getElement$1(this.control.element.id+'_Series_'+element.id[element.id.length-1]);var seriesClassName=symbolEle&&symbolEle.hasAttribute('class')?symbolEle.getAttribute('class'):'';if(seriesClassName.indexOf(this.unselected)>-1){this.removeSvgClass(symbolEle,this.unselected);}}}if(this.control.legendModule&&this.control.legendSettings.visible){legendShape=getElement$1(this.control.element.id+'_chart_legend_shape_'+series);if(legendShape){if(legendShape.hasAttribute('class')){this.removeSvgClass(legendShape,legendShape.getAttribute('class'));}elementClassName=selectElement.getAttribute('class')||'';parentClassName=selectElement.parentNode.getAttribute('class')||'';if(elementClassName.indexOf(className)===-1&&parentClassName.indexOf(className)===-1&&visibility){this.addSvgClass(legendShape,this.unselected);this.removeSvgClass(legendShape,className);}else{this.removeSvgClass(legendShape,this.unselected);if(elementClassName===''&&parentClassName===''||elementClassName.trim()==='EJ2-Trackball'){this.removeSvgClass(legendShape,className);}else{this.addSvgClass(legendShape,className);}}if(legendClick$$1&&parentClassName.indexOf(className)>-1){this.addSvgClass(legendShape,className);}}}};/**
     *  Method to apply the styles
     *
     * @private
     */Selection.prototype.applyStyles=function(elements){for(var _i=0,elements_1=elements;_i<elements_1.length;_i++){var element=elements_1[_i];if(element){this.removeSvgClass(element.parentNode,this.unselected);this.removeSvgClass(element,this.unselected);this.addSvgClass(element,this.getSelectionClass(element.id));}}};/**
     *  Method to get the selection class
     *
     * @private
     */Selection.prototype.getSelectionClass=function(id){return this.generateStyle(this.control.series[this.indexFinder(id).series]);};/**
     *  Method to remove styles
     *
     * @private
     */Selection.prototype.removeStyles=function(elements){for(var _i=0,elements_2=elements;_i<elements_2.length;_i++){var element=elements_2[_i];if(element){this.removeSvgClass(element,this.getSelectionClass(element.id));}}};/**
     *  Method to remove the selected data index
     *
     * @private
     */Selection.prototype.addOrRemoveIndex=function(indexes,index,isAdd){for(var i=0;i<indexes.length;i++){if(this.toEquals(indexes[i],index,this.isSeriesMode)){indexes.splice(i,1);i--;}}if(isAdd){indexes.push(index);}};/**
     *  Method to get the equal index
     *
     * @private
     */Selection.prototype.toEquals=function(first,second,checkSeriesOnly){return(first.series===second.series||this.currentMode==='Cluster'&&!checkSeriesOnly)&&(checkSeriesOnly||first.point===second.point);};/**
     * To redraw the selected points.
     *
     * @returns {void}
     * @private
     */Selection.prototype.redrawSelection=function(chart,oldMode){this.isSeriesMode=oldMode==='Series';var selectedDataIndexes=sf.base.extend([],this.selectedDataIndexes,null,true);var highlightDataIndexes=sf.base.extend([],this.highlightDataIndexes,null,true);if(this.styleId.indexOf('highlight')>0&&highlightDataIndexes.length>0){this.removeSelectedElements(chart,this.highlightDataIndexes,chart.series);selectedDataIndexes=highlightDataIndexes;}else{this.removeSelectedElements(chart,this.selectedDataIndexes,chart.series);}this.blurEffect(chart.element.id,chart.visibleSeries);this.selectDataIndex(chart,selectedDataIndexes);};/** @private */Selection.prototype.legendSelection=function(chart,series,event){var targetElement=event.target;if(event.type==='mousemove'){if(event.target.id.indexOf('text')>1){targetElement=getElement$1(event.target.id.replace('text','shape'));}if(targetElement.hasAttribute('class')&&(targetElement.getAttribute('class').indexOf('highlight')>-1||targetElement.getAttribute('class').indexOf('selection')>-1)){return;}this.currentMode=this.chart.highlightMode;}var isPreSelected=this.isAlreadySelected(event);if(isPreSelected){var seriesStyle=this.generateStyle(chart.visibleSeries[series]);var selectedElements=document.querySelectorAll('.'+seriesStyle);this.isSeriesMode=this.currentMode==='Series';var isBlurEffectNeeded=true;if(selectedElements.length>0){this.removeSelection(chart,series,selectedElements,seriesStyle,isBlurEffectNeeded);}else{for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var element=_a[_i];if(element.index!==series&&!chart.isMultiSelect){seriesStyle=this.generateStyle(chart.visibleSeries[element.index]);selectedElements=document.querySelectorAll('.'+seriesStyle);this.removeSelection(chart,series,selectedElements,seriesStyle,isBlurEffectNeeded);}}var seriesElements=this.getSeriesElements(chart.visibleSeries[series]);for(var _b=0,seriesElements_1=seriesElements;_b<seriesElements_1.length;_b++){var seriesElement=seriesElements_1[_b];this.checkSelectionElements(seriesElement,seriesStyle,false,true,series);}this.isSeriesMode=true;this.selection(chart,new Index(series,NaN),seriesElements);this.isSeriesMode=chart.selectionMode==='Series';this.blurEffect(chart.element.id,chart.visibleSeries,true);}}};Selection.prototype.removeSelection=function(chart,series,selectedElements,seriesStyle,isBlurEffectNeeded){if(selectedElements.length>0){var elements=[];for(var i=0;i<selectedElements.length;i++){elements.push(selectedElements[i]);}this.removeStyles(elements);this.isSeriesMode=true;this.addOrRemoveIndex(this.selectedDataIndexes,new Index(series,NaN));for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var value=_a[_i];seriesStyle=this.generateStyle(value);if(document.querySelectorAll('.'+seriesStyle).length>0){for(var _b=0,elements_3=elements;_b<elements_3.length;_b++){var element=elements_3[_b];this.checkSelectionElements(element,seriesStyle,true,true,series);}isBlurEffectNeeded=false;break;}}if(isBlurEffectNeeded){this.isSeriesMode=chart.selectionMode==='Series';this.blurEffect(chart.element.id,chart.visibleSeries);}}};/** @private */Selection.prototype.getSeriesElements=function(series){var seriesElements=[series.seriesElement];if(series.marker.visible&&series.type!=='Scatter'&&series.type!=='Bubble'&&!series.isRectSeries){seriesElements.push(series.symbolElement);}return seriesElements;};/** @private */Selection.prototype.indexFinder=function(id){var ids=['NaN','NaN'];if(id.indexOf('SeriesGroup')>-1){ids=id.split('SeriesGroup');ids[0]=ids[1];}else if(id.indexOf('SymbolGroup')>-1){ids=id.split('SymbolGroup');ids[0]=ids[1];}else if(id.indexOf('_Point_')>-1){ids=id.split('_Series_')[1].split('_Point_');}else if(id.indexOf('_Series_')>-1){ids[0]=id.split('_Series_')[1];}else if(id.indexOf('_chart_legend_shape_')>-1){ids=id.split('_chart_legend_shape_');ids[0]=ids[1];}return new Index(parseInt(ids[0],10),parseInt(ids[1],10));};/**
     * Drag selection that returns the selected data.
     *
     * @returns {void}
     * @private
     */Selection.prototype.calculateDragSelectedElements=function(chart,dragRect,isClose){this.removeSelectedElements(chart,this.selectedDataIndexes,chart.series);var isLasso=chart.selectionMode==='Lasso';var rect=new sf.svgbase.Rect(dragRect.x,dragRect.y,dragRect.width,dragRect.height);var axisOffset=new ChartLocation(chart.chartAxisLayoutPanel.seriesClipRect.x,chart.chartAxisLayoutPanel.seriesClipRect.y);this.removeOffset(rect,axisOffset);var points;var index;var selectedPointValues=[];var selectedSeriesValues=[];this.isSeriesMode=false;var isDragResize=chart.allowMultiSelection&&(this.rectGrabbing||this.resizing);this.rectPoints=this.dragRectArray[isDragResize?this.targetIndex:this.count]=new sf.svgbase.Rect(dragRect.x,dragRect.y,dragRect.width,dragRect.height);if(dragRect.width&&dragRect.height&&!isClose){var rt=new sf.svgbase.Rect(dragRect.x,dragRect.y,dragRect.width,dragRect.height);this.removeOffset(rt,axisOffset);this.filterArray[isDragResize?this.targetIndex:this.count]=rt;}var _loop_1=function _loop_1(series){if(series.visible){points=series.points;selectedPointValues=[];var xAxisOffset_1;var yAxisOffset_1;if((chart.isTransposed||series.type.indexOf('Bar')!==-1)&&!(chart.isTransposed&&series.type.indexOf('Bar')!==-1)){xAxisOffset_1=series.xAxis.rect.y-axisOffset.y;yAxisOffset_1=series.yAxis.rect.x-axisOffset.x;}else{xAxisOffset_1=series.xAxis.rect.x-axisOffset.x;yAxisOffset_1=series.yAxis.rect.y-axisOffset.y;}for(var j=0;j<points.length;j++){var yValue=series.type!=='RangeArea'?points[j].yValue:points[j].regions[0].y;var isCurrentPoint=void 0;var selectedPointX=points[j].xValue;if(chart.primaryXAxis.valueType==='Category'){selectedPointX=points[j].x.toLocaleString();}else if(chart.primaryXAxis.valueType==='DateTime'){selectedPointX=new Date(points[j].xValue);}if(series.type==='BoxAndWhisker'){isCurrentPoint=points[j].regions.some(function(region){return withInBounds(region.x+xAxisOffset_1,region.y+yAxisOffset_1,rect);});}else{if(chart.selectionMode==='Lasso'){isCurrentPoint=points[j].isSelect;}else{isCurrentPoint=chart.allowMultiSelection?this_1.isPointSelect(points[j],xAxisOffset_1,yAxisOffset_1,this_1.filterArray):points[j].symbolLocations.some(function(location){return location&&withInBounds(location.x+xAxisOffset_1,location.y+yAxisOffset_1,rect);});}}if(isCurrentPoint&&series.category!=='Indicator'){index=new Index(series.index,points[j].index);this_1.selection(chart,index,this_1.findElements(chart,series,index));selectedPointValues.push({x:selectedPointX,y:yValue});}if(isCurrentPoint&&series.type==='RangeArea'){selectedPointValues.push({x:selectedPointX,y:points[j].regions[0].y});}}selectedSeriesValues.push(selectedPointValues);}};var this_1=this;for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];_loop_1(series);}this.blurEffect(chart.element.id,chart.visibleSeries);var x=isLasso?chart.mouseDownX:dragRect.x+dragRect.width;var y=isLasso?chart.mouseDownY:dragRect.y;if(!isClose){this.createCloseButton(x,y);}var args={name:dragComplete,selectedDataValues:selectedSeriesValues,cancel:false};chart.trigger(dragComplete,args);};Selection.prototype.removeOffset=function(rect,clip){rect.x-=clip.x;rect.y-=clip.y;};Selection.prototype.isPointSelect=function(points,xAxisOffset,yAxisOffset,rectCollection){var location=points.symbolLocations[0];for(var _i=0,rectCollection_1=rectCollection;_i<rectCollection_1.length;_i++){var rect=rectCollection_1[_i];if(rect&&location&&withInBounds(location.x+xAxisOffset,location.y+yAxisOffset,rect)){return true;}}return false;};/**
     * Method to draw dragging rect.
     *
     * @returns {void}
     * @private
     */Selection.prototype.drawDraggingRect=function(chart,dragRect,target){var cartesianLayout=chart.chartAxisLayoutPanel.seriesClipRect;var border=chart.chartArea.border.width;var rectFill=chart.themeStyle.selectionRectFill;var rectStroke=chart.themeStyle.selectionRectStroke;var isLasso=chart.selectionMode==='Lasso';if(this.isdrawRect){cartesianLayout.x=cartesianLayout.x-border/2;cartesianLayout.y=cartesianLayout.y-border/2;cartesianLayout.width=cartesianLayout.width+border;cartesianLayout.height=cartesianLayout.height+border;this.isdrawRect=false;}switch(chart.selectionMode){case'DragX':dragRect.y=cartesianLayout.y;dragRect.height=cartesianLayout.height;break;case'DragY':dragRect.x=cartesianLayout.x;dragRect.width=cartesianLayout.width;break;}if((dragRect.width<5||dragRect.height<5)&&!isLasso){return null;}var isDragMode=chart.selectionMode.indexOf('Drag')>-1||chart.selectionMode==='Lasso';if(chart.allowMultiSelection&&isDragMode){var element=void 0;var dragGroup=void 0;var multiGroup=getElement$1(this.multiRectGroup);if(!multiGroup){multiGroup=chart.svgRenderer.createGroup({id:this.multiRectGroup});chart.svgObject.appendChild(multiGroup);}if(this.rectGrabbing||this.resizing){var rectElement=void 0;rectElement=getElement$1(this.draggedRect+this.targetIndex);if(rectElement.nextSibling){sf.base.remove(rectElement.nextSibling);}this.setAttributes(rectElement,dragRect);}else if(!getElement$1(this.draggedRectGroup+this.count)){dragGroup=chart.svgRenderer.createGroup({id:this.draggedRectGroup+this.count});var svgElement=document.getElementById(chart.element.id+'_series_svg');// eslint-disable-next-line @typescript-eslint/no-unused-expressions
chart.enableCanvas?svgElement.appendChild(dragGroup):multiGroup.appendChild(dragGroup);}if(!(chart.selectionMode==='Lasso')){element=chart.svgRenderer.drawRectangle(new RectOption(this.draggedRect+this.count,rectFill,{color:rectStroke,width:1},1,dragRect));element.setAttribute('style','cursor:move;');}else{element=chart.svgRenderer.drawPath(new sf.svgbase.PathOption(this.lassoPath+this.count,rectFill,3,rectStroke,1,'',this.path));}if(!dragGroup&&!this.rectGrabbing&&!this.resizing){getElement$1(this.draggedRectGroup+this.count).appendChild(element);}else if(!this.rectGrabbing&&!this.resizing){dragGroup.appendChild(element);}}else{var element=isLasso?getElement$1(this.lassoPath):getElement$1(this.draggedRect);if(this.closeIcon){removeElement(this.closeIconId);}if(element){if(isLasso){element.setAttribute('d',this.path);}else{this.setAttributes(element,dragRect);}}else{var dragGroup=chart.svgRenderer.createGroup({id:this.draggedRectGroup});var svgElement=document.getElementById(chart.element.id+'_series_svg');// eslint-disable-next-line @typescript-eslint/no-unused-expressions
chart.enableCanvas?svgElement.appendChild(dragGroup):chart.svgObject.appendChild(dragGroup);if(!(chart.selectionMode==='Lasso')){element=chart.svgRenderer.drawRectangle(new RectOption(this.draggedRect,rectFill,{color:rectStroke,width:1},1,dragRect));}else{element=chart.svgRenderer.drawPath(new sf.svgbase.PathOption(this.lassoPath,rectFill,3,rectStroke,1,'',this.path));}//element.setAttribute('style', 'cursor:move;');
dragGroup.appendChild(element);}}};/**
     * To get drag selected group element index from its id
     *
     * @param {string} id element id
     */Selection.prototype.getIndex=function(id){var i;for(i=id.length-1;i>0;i--){var x=Number(id[i]);if(!isNaN(x)){continue;}else{break;}}var index=+id.substr(i+1,id.length-1);return index;};Selection.prototype.createCloseButton=function(x,y){var isMultiDrag=this.chart.allowMultiSelection;var circleStroke=this.chart.themeStyle.selectionCircleStroke;var isDrag=this.rectGrabbing||this.resizing;var closeIcon=this.chart.svgRenderer.createGroup({id:this.closeIconId+(isMultiDrag?isDrag?this.targetIndex:this.count:''),style:'cursor:pointer; visibility: visible;'});closeIcon.appendChild(this.chart.svgRenderer.drawCircle(new CircleOption(this.closeIconId+'_circle'+(isMultiDrag?isDrag?this.targetIndex:this.count:''),'#FFFFFF',{color:circleStroke,width:1},1,x,y,10)));var direction='M '+(x-4)+' '+(y-4)+' L '+(x+4)+' '+(y+4)+' M '+(x-4)+' '+(y+4)+' L '+(x+4)+' '+(y-4);closeIcon.appendChild(this.chart.svgRenderer.drawPath({id:this.closeIconId+'_cross'+(isMultiDrag?isDrag?this.targetIndex:this.count:''),d:direction,stroke:circleStroke,'stroke-width':2,fill:circleStroke}));this.closeIcon=closeIcon;var pathElement=getElement$1(this.draggedRectGroup+(isMultiDrag?isDrag?this.targetIndex:this.count:''));if(pathElement){pathElement.appendChild(closeIcon);}};/**
     * Method to remove dragged element.
     *
     * @returns {void}
     * @private
     */Selection.prototype.removeDraggedElements=function(chart,event){if(event.target.id.indexOf(this.closeIconId)>-1&&event.type.indexOf('move')===-1){var isSelectedvalues=true;if(chart.allowMultiSelection){var index=this.getIndex(event.target.id);var multiRectGroupElement=getElement$1(this.multiRectGroup);sf.base.remove(getElement$1(this.draggedRectGroup+index));this.dragRectArray[index]=null;this.filterArray[index]=null;this.totalSelectedPoints[index]=null;if(multiRectGroupElement&&multiRectGroupElement.childElementCount===0){removeElement(multiRectGroupElement);this.dragRectArray=[];this.filterArray=[];this.totalSelectedPoints=[];}if(this.currentMode==='Lasso'){if(this.multiDataIndexes[index]!=null){for(var i=0;i<this.multiDataIndexes[index].length;i++){this.multiDataIndexes[index][i].isSelect=false;}}this.multiDataIndexes[index]=null;for(var j=0;j<this.multiDataIndexes.length;j++){if(this.multiDataIndexes[j]!=null){isSelectedvalues=false;for(var k=0;k<this.multiDataIndexes[j].length;k++){this.multiDataIndexes[j][k].isSelect=true;}}}this.calculateDragSelectedElements(chart,this.dragRect,true);}else if(this.filterArray.length){for(var i=0;i<this.filterArray.length;i++){if(this.filterArray[i]){isSelectedvalues=false;this.calculateDragSelectedElements(chart,this.filterArray[i],true);}}}else{this.calculateDragSelectedElements(chart,new sf.svgbase.Rect(0,0,0,0),true);}}else{sf.base.remove(getElement$1(this.draggedRectGroup));this.removeSelectedElements(chart,this.selectedDataIndexes,chart.series);}this.blurEffect(chart.element.id,chart.visibleSeries);this.changeCursorStyle(false,chart.svgObject,'auto');if(!chart.allowMultiSelection||isSelectedvalues){this.rectPoints=null;}}};/**
     * Method to resize the drag rect.
     *
     * @returns {void}
     * @private
     */Selection.prototype.resizingSelectionRect=function(chart,location,tapped,target){var rect;if(chart.allowMultiSelection&&target.id.indexOf('_ej2_drag_rect')>-1||this.dragRectArray[this.targetIndex]){if(target.id.indexOf('_ej2_drag_rect')>-1){this.targetIndex=this.getIndex(target.id);}var r=this.dragRectArray[this.targetIndex];rect=new sf.svgbase.Rect(r.x,r.y,r.width,r.height);}if(!chart.allowMultiSelection){rect=new sf.svgbase.Rect(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);}if(rect){var resize=this.findResizeMode(chart.svgObject,rect,location);if(this.resizing){rect=getDraggedRectLocation(rect.x,rect.y,rect.x+rect.width,rect.y+rect.height,chart.chartAxisLayoutPanel.seriesClipRect);this.drawDraggingRect(chart,rect);this.dragRect=rect;}if(tapped){this.resizing=resize;}}else{return;}};Selection.prototype.findResizeMode=function(chartSvgObject,rect,location){var cursorStyle='se-resize';var resize=false;if(!this.resizing){var resizeEdges=[new sf.svgbase.Rect(rect.x,rect.y,rect.width-5,5),new sf.svgbase.Rect(rect.x,rect.y,5,rect.height),new sf.svgbase.Rect(rect.x,rect.y+rect.height-5,rect.width-5,5),new sf.svgbase.Rect(rect.x+rect.width-5,rect.y+5,5,rect.height-15),new sf.svgbase.Rect(rect.x+rect.width-10,rect.y+rect.height-10,10,10)];//corner
for(var i=0;i<resizeEdges.length;i++){if(withInBounds(location.x,location.y,resizeEdges[i])){cursorStyle=i===4?cursorStyle:i%2===0?'ns-resize':'ew-resize';resize=true;this.resizeMode=i;break;}}}else{var x=rect.x;var y=rect.y;var width=location.x-x;var height=location.y-y;switch(this.resizeMode){case 0:height=Math.abs(rect.height+rect.y-location.y);rect.y=Math.min(rect.height+rect.y,location.y);rect.height=height;break;case 1:width=Math.abs(rect.width+rect.x-location.x);rect.x=Math.min(rect.width+rect.x,location.x);rect.width=width;break;case 2:rect.height=Math.abs(height);rect.y=Math.min(location.y,y);break;case 3:rect.width=Math.abs(width);rect.x=Math.min(location.x,x);break;case 4:rect.width=Math.abs(width);rect.height=Math.abs(height);rect.x=Math.min(location.x,x);rect.y=Math.min(location.y,y);break;}}if(this.currentMode!=='Lasso'){this.changeCursorStyle(resize,getElement$1(this.chart.allowMultiSelection?this.draggedRect+this.targetIndex:this.draggedRect),cursorStyle);}this.changeCursorStyle(resize,chartSvgObject,cursorStyle);return resize;};Selection.prototype.changeCursorStyle=function(isResize,rectelement,cursorStyle){cursorStyle=isResize?cursorStyle:this.control.svgObject===rectelement?'auto':'move';if(rectelement){rectelement.setAttribute('style','cursor:'+cursorStyle+';');}};Selection.prototype.removeSelectedElements=function(chart,index,seriesCollection){index.splice(0,index.length);var seriesElements;for(var _i=0,seriesCollection_1=seriesCollection;_i<seriesCollection_1.length;_i++){var series=seriesCollection_1[_i];seriesElements=this.getSeriesElements(series);this.removeStyles(seriesElements);for(var _a=0,seriesElements_2=seriesElements;_a<seriesElements_2.length;_a++){var seriesElement=seriesElements_2[_a];this.removeStyles(this.getChildren(seriesElement));}}};Selection.prototype.setAttributes=function(ele,object){var keys=Object.keys(object);for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var key=keys_1[_i];ele.setAttribute(key,object[key]);}};/**
     * Method to move the dragged rect.
     *
     * @returns {void}
     * @private
     */Selection.prototype.draggedRectMoved=function(chart,grabbedPoint,doDrawing,target){var rect;if((this.resizing||this.rectGrabbing)&&chart.allowMultiSelection){var r=this.dragRectArray[this.targetIndex];rect=new sf.svgbase.Rect(r.x,r.y,r.width,r.height);}else{rect=new sf.svgbase.Rect(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);}rect.x-=grabbedPoint.x-chart.mouseX;rect.y-=grabbedPoint.y-chart.mouseY;rect=getDraggedRectLocation(rect.x,rect.y,rect.x+rect.width,rect.height+rect.y,chart.chartAxisLayoutPanel.seriesClipRect);if(doDrawing){this.drawDraggingRect(chart,rect,target);}else{this.calculateDragSelectedElements(chart,rect);}};/**
     * To complete the selection.
     *
     * @returns {void}
     * @private
     */Selection.prototype.completeSelection=function(e){var chart=this.chart;if(chart.selectionMode==='None'){return;}this.currentMode=chart.selectionMode;if((this.dragging||this.resizing)&&this.dragRect.width>5&&this.dragRect.height>5){this.calculateDragSelectedElements(chart,this.dragRect);}else if(!chart.allowMultiSelection&&this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height){this.draggedRectMoved(chart,this.dragRect);}else if(this.rectGrabbing&&this.dragRectArray[this.targetIndex].width&&this.dragRectArray[this.targetIndex].height){this.draggedRectMoved(chart,this.dragRect);}if(chart.selectionMode==='Lasso'&&this.dragging&&this.path){if(this.path.indexOf('L')!==-1){if(!chart.allowMultiSelection){getElement$1(this.lassoPath).setAttribute('d',this.path+'Z');this.pointChecking(getElement$1(this.lassoPath));}else if(getElement$1(this.lassoPath+this.count)){getElement$1(this.lassoPath+this.count).setAttribute('d',this.path+'Z');this.pointChecking(getElement$1(this.lassoPath+this.count));}if(this.dragging||this.resizing){this.calculateDragSelectedElements(chart,this.dragRect);}}}this.dragging=false;this.rectGrabbing=false;this.resizing=false;this.removeDraggedElements(chart,e);};Selection.prototype.getDragRect=function(chart,seriesClipRect){return getDraggedRectLocation(chart.mouseDownX,chart.mouseDownY,chart.mouseX,chart.mouseY,seriesClipRect);};/** @private */Selection.prototype.dragStart=function(chart,seriesClipRect,mouseDownX,mouseDownY,event){var mode=chart.selectionMode;this.currentMode=chart.selectionMode;this.dragging=(mode.indexOf('Drag')>-1||mode==='Lasso')&&(chart.isDoubleTap||!chart.isTouch)&&chart.chartAreaType!=='PolarRadar';var target=event.target;this.path=undefined;if(this.dragging){this.count=getElement$1(this.multiRectGroup)?this.count+1:0;this.dragRect=new sf.svgbase.Rect(chart.mouseDownX,chart.mouseDownY,0,0);if(chart.mouseDownX<seriesClipRect.x||chart.mouseDownX>seriesClipRect.x+seriesClipRect.width||chart.mouseDownY<seriesClipRect.y||chart.mouseDownY>seriesClipRect.y+seriesClipRect.height){this.dragging=false;}}if(mode==='Lasso'){for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];if(series.visible){for(var _b=0,_c=series.points;_b<_c.length;_b++){var point=_c[_b];if(!chart.allowMultiSelection){point.isSelect=false;}}}}}if(!(mode==='Lasso')){if(this.rectPoints&&!chart.allowMultiSelection){this.dragRect=new sf.svgbase.Rect(chart.mouseDownX,chart.mouseDownY,0,0);this.resizingSelectionRect(chart,new ChartLocation(mouseDownX,mouseDownY),true);this.rectGrabbing=withInBounds(mouseDownX,mouseDownY,this.rectPoints);}if(chart.allowMultiSelection){var index=this.getIndex(target.id);this.targetIndex=this.isDragRect(target.id)?index:undefined;if(this.dragRectArray.length&&this.isDragRect(target.id)){this.resizingSelectionRect(chart,new ChartLocation(mouseDownX,mouseDownY),true,target);this.rectGrabbing=withInBounds(mouseDownX,mouseDownY,this.dragRectArray[index]);}}}};Selection.prototype.isDragRect=function(id){return id.indexOf('_ej2_drag_rect')>-1;};/** @private */Selection.prototype.mouseMove=function(event){var chart=this.chart;var target=event.target;if(chart.highlightMode!=='None'){if(!sf.base.isNullOrUndefined(target)){if(event.target.id.indexOf('text')>1){target=getElement$1(event.target.id.replace('text','shape'));}if(target.hasAttribute('class')&&(target.getAttribute('class').indexOf('highlight')>-1||target.getAttribute('class').indexOf('selection')>-1)){return;}this.calculateSelectedElements(event);return;}}if(chart.selectionMode==='None'){return;}if(event.type==='touchmove'&&(sf.base.Browser.isIos||sf.base.Browser.isIos7)&&this.dragging&&event.preventDefault){event.preventDefault();}var insideMoving=withInBounds(chart.mouseX,chart.mouseY,chart.chartAxisLayoutPanel.seriesClipRect);if(insideMoving){if(this.rectGrabbing&&!this.resizing){this.draggedRectMoved(chart,this.dragRect,true,target);}else if(this.dragging&&!this.resizing){if(chart.selectionMode==='Lasso'){this.getPath(chart.mouseDownX,chart.mouseDownY,chart.mouseX,chart.mouseY);this.drawDraggingRect(chart,this.dragRect,target);}else{this.dragRect=this.getDragRect(chart,chart.chartAxisLayoutPanel.seriesClipRect);this.drawDraggingRect(chart,this.dragRect,target);}}if(this.rectPoints&&!chart.allowMultiSelection){this.resizingSelectionRect(chart,new ChartLocation(chart.mouseX,chart.mouseY),null,target);}else if(chart.allowMultiSelection&&!this.dragging||this.resizing){this.resizingSelectionRect(chart,new ChartLocation(chart.mouseX,chart.mouseY),null,target);}}else{this.completeSelection(event);}};Selection.prototype.getPath=function(startX,startY,endX,endY){if(this.dragging){if(this.path){this.path=this.path+' L'+endX+' '+endY;}else{this.path='M '+startX+' '+startY;}}};Selection.prototype.pointChecking=function(path){var _this=this;var chart=this.chart;var element;var svgRect=getElement$1(chart.svgId).getBoundingClientRect();var offsetX=chart.chartAxisLayoutPanel.seriesClipRect.x+Math.max(svgRect.left,0);var offsetY=chart.chartAxisLayoutPanel.seriesClipRect.y+Math.max(svgRect.top,0);this.multiDataIndexes[this.count]=[];for(var _i=0,_a=chart.visibleSeries;_i<_a.length;_i++){var series=_a[_i];series.points.filter(function(point){// To check whether the point have symbol location value or not.
if(point.symbolLocations&&point.symbolLocations.length){element=document.elementFromPoint(point.symbolLocations[0].x+offsetX,point.symbolLocations[0].y+offsetY);}if(element===path){point.isSelect=true;if(_this.chart.allowMultiSelection&&_this.currentMode==='Lasso'){_this.multiDataIndexes[_this.count][_this.seriesIndex]=point;_this.seriesIndex++;}}else if(!chart.allowMultiSelection){point.isSelect=false;}});}this.seriesIndex=0;};/**
     * Get module name.
     *
     * @private
     */Selection.prototype.getModuleName=function(){return'Selection';};/**
     * To destroy the selection.
     *
     * @returns {void}
     * @private
     */Selection.prototype.destroy=function(){this.removeEventListener();// Destroy method performed here
};return Selection;}(BaseSelection);/**
 * `DataEditing` module handles data editing
 */var DataEditing=/** @class */function(){/**
     * Constructor for DataEditing module.
     *
     * @private
     */function DataEditing(chart){/**
         * It is used to identify point is dragging for data editing in other modules.
         *
         * @private
         */this.isPointDragging=false;this.chart=chart;}/**
     * Point drag start here
     */DataEditing.prototype.pointMouseDown=function(){var chart=this.chart;var series;var data=new ChartData(chart);var pointData=data.getData();if(pointData.point&&(data.insideRegion||!pointData.series.isRectSeries)){this.seriesIndex=pointData.series.index;this.pointIndex=pointData.point.index;series=chart.series[this.seriesIndex];if(series.dragSettings.enable&&!chart.zoomModule){chart.trigger(dragStart,{series:pointData.series,seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,point:pointData.point,oldValue:chart.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:chart.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue});chart.isPointMouseDown=true;chart.zoomSettings.enableDeferredZooming=false;}}};/**
     * Point dragging
     */DataEditing.prototype.pointMouseMove=function(event){var chart=this.chart;var series;if(event.type==='touchmove'&&event.preventDefault){event.preventDefault();}var data=new ChartData(chart);var pointData=data.getData();if(pointData.series.dragSettings.enable&&pointData.point&&(data.insideRegion||!pointData.series.isRectSeries)){this.getCursorStyle(pointData);}else{chart.svgObject.setAttribute('style','cursor: null');}if(chart.isPointMouseDown){series=chart.series[this.seriesIndex];if(series.type.indexOf('Spline')>-1){chart[firstToLowerCase(series.type)+'SeriesModule'].findSplinePoint(series);}this.pointDragging(this.seriesIndex,this.pointIndex);}};/**
     * Get cursor style
     */DataEditing.prototype.getCursorStyle=function(pointData){var chart=this.chart;if(pointData.series.type==='Bar'&&chart.isTransposed){chart.svgObject.setAttribute('style','cursor:ns-resize');}else if(chart.isTransposed||pointData.series.type==='Bar'){chart.svgObject.setAttribute('style','cursor:ew-resize');}else{chart.svgObject.setAttribute('style','cursor:ns-resize');}};/**
     * Dragging calculation
     */DataEditing.prototype.pointDragging=function(si,pi){var chart=this.chart;var yValueArray=[];var y;var ySize;var yValue;var series=chart.visibleSeries[si];var pointDrag=series.dragSettings;var xAxis=series.xAxis;var yAxis=series.yAxis;// To get drag region for column and bar series
var extra=series.isRectSeries?1:0;var axis=getTransform(xAxis,yAxis,chart.requireInvertedAxis);if(series.type==='Bar'){y=chart.isTransposed?axis.y+axis.height-chart.mouseY:chart.mouseX-axis.x;ySize=chart.isTransposed?axis.height:axis.width;}else{y=chart.isTransposed?chart.mouseX-axis.x:axis.y+axis.height-chart.mouseY;ySize=chart.isTransposed?axis.width:axis.height;}yValue=yAxis.isInversed?1-y/ySize:y/ySize;yValue=yValue*yAxis.visibleRange.delta+yAxis.visibleRange.min;var minRange=yAxis.minimum!==null?yAxis.visibleRange.min+extra:sf.base.isNullOrUndefined(pointDrag.minY)?yValue:pointDrag.minY;var maxRange=yAxis.maximum!==null?yAxis.visibleRange.max+extra:sf.base.isNullOrUndefined(pointDrag.maxY)?yValue:pointDrag.maxY;if(maxRange>=yValue&&minRange<=yValue){series.points[pi].yValue=series.points[pi].y=chart.dragY=yAxis.valueType==='Logarithmic'?Math.pow(yAxis.logBase,yValue):parseFloat(yValue.toFixed(2));series.points[pi].interior=pointDrag.fill;for(var i=0;i<series.points.length;i++){yValueArray[i]=series.points[i].yValue;}series.yMin=Math.min.apply(null,yValueArray);series.yMax=Math.max.apply(null,yValueArray);this.isPointDragging=true;chart.refreshBound();chart.trigger(drag,{seriesIndex:si,pointIndex:pi,series:series,point:series.points[pi],oldValue:chart.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:series.points[pi].yValue});}};/**
     * Point drag ends here
     */DataEditing.prototype.pointMouseUp=function(){var chart=this.chart;if(chart.isPointMouseDown){if(chart.series[this.seriesIndex].dragSettings.enable){chart.trigger(dragEnd,{series:chart.series[this.seriesIndex],point:chart.visibleSeries[this.seriesIndex].points[this.pointIndex],seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,oldValue:chart.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:chart.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue});chart.visibleSeries[this.seriesIndex].points[this.pointIndex].y=chart.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue;chart.isPointMouseDown=false;this.isPointDragging=false;this.seriesIndex=this.pointIndex=undefined;}}};/**
     * Get module name.
     */DataEditing.prototype.getModuleName=function(){// Returns te module name
return'DataEditing';};/**
     * To destroy the DataEditing.
     *
     * @returns {void}
     * @private
     */DataEditing.prototype.destroy=function(){// Destroy method performed here
};return DataEditing;}();var __extends$57=undefined&&undefined.__extends||function(){var _extendStatics58=function extendStatics(d,b){_extendStatics58=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics58(d,b);};return function(d,b){_extendStatics58(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable jsdoc/require-param */ /* eslint-disable valid-jsdoc */ /**
 * Highlight src file
 */ /**
 * `Highlight` module handles the selection for chart.
 *
 * @private
 */var Highlight=/** @class */function(_super){__extends$57(Highlight,_super);/**
     * Constructor for selection module.
     *
     * @private
     */function Highlight(chart){var _this=_super.call(this,chart)||this;_this.chart=chart;_this.renderer=chart.renderer;_this.wireEvents();return _this;}/**
     * Binding events for selection module.
     */Highlight.prototype.wireEvents=function(){if(this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning){return;}this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMove,this);};/**
     * UnBinding events for selection module.
     */Highlight.prototype.unWireEvents=function(){if(this.chart.isDestroyed){return;}this.chart.off(sf.base.Browser.touchMoveEvent,this.mouseMove);};/**
     * To find private variable values
     */Highlight.prototype.declarePrivateVariables=function(chart){this.styleId=chart.element.id+'_ej2_chart_highlight';this.unselected=chart.element.id+'_ej2_deselected';this.selectedDataIndexes=[];this.highlightDataIndexes=[];this.isSeriesMode=chart.highlightMode==='Series';};/**
     * Method to select the point and series.
     *
     * @returns {void}
     */Highlight.prototype.invokeHighlight=function(chart){this.declarePrivateVariables(chart);this.series=sf.base.extend({},chart.visibleSeries,null,true);this.seriesStyles();this.currentMode=chart.highlightMode;};/**
     * Get module name.
     *
     * @private
     */Highlight.prototype.getModuleName=function(){return'Highlight';};/**
     * To destroy the highlight.
     *
     * @returns {void}
     * @private
     */Highlight.prototype.destroy=function(){this.unWireEvents();// Destroy method performed here
};return Highlight;}(Selection);/* eslint-disable jsdoc/require-returns */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * `DataLabel` module is used to render data label for the data point.
 */var DataLabel=/** @class */function(){/**
     * Constructor for the data label module.
     *
     * @private
     */function DataLabel(chart){this.errorHeight=0;this.chart=chart;}DataLabel.prototype.initPrivateVariables=function(series,marker){var transform='';var clipPath='';var render=series.chart.renderer;var index=series.index===undefined?series.category:series.index;if(series.chart.chartAreaType==='Cartesian'){transform='translate('+series.clipRect.x+','+series.clipRect.y+')';clipPath='url(#'+this.chart.element.id+'_ChartSeriesClipRect_'+index+')';}if(marker.dataLabel.visible){series.shapeElement=render.createGroup({'id':this.chart.element.id+'ShapeGroup'+index,'transform':transform,'clip-path':'url(#'+this.chart.element.id+'_ChartSeriesClipRect_'+index+')'});series.textElement=render.createGroup({'id':this.chart.element.id+'TextGroup'+index,'transform':transform,'clip-path':clipPath});}this.markerHeight=series.type==='Scatter'||marker.visible?marker.height/2:0;this.commonId=this.chart.element.id+'_Series_'+index+'_Point_';this.calculateErrorHeight(series,series.marker.dataLabel.position);this.chartBackground=this.chart.chartArea.background==='transparent'?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background;};DataLabel.prototype.calculateErrorHeight=function(series,position){if(!series.errorBar.visible){return null;}else if(series.errorBar.visible&&this.chart.chartAreaType!=='PolarRadar'){var direction=series.errorBar.direction;var positiveHeight=this.chart.errorBarModule.positiveHeight;var negativeHeight=this.chart.errorBarModule.negativeHeight;if(this.isRectSeries(series)){if(position==='Top'||position==='Auto'){if(direction==='Both'||direction==='Minus'){this.errorHeight=negativeHeight;}else{this.errorHeight=0;}}if(position==='Outer'||position==='Auto'){if(direction==='Both'||direction==='Plus'){this.errorHeight=positiveHeight;}else{this.errorHeight=0;}}}else{if(position==='Top'||position==='Outer'||position==='Auto'){if((direction==='Both'||direction==='Plus')&&!series.chart.isTransposed){this.errorHeight=positiveHeight;}else{this.errorHeight=0;}}if(position==='Bottom'||position==='Auto'){if(direction==='Both'||direction==='Minus'){this.errorHeight=negativeHeight;}else{this.errorHeight=0;}}}}else{this.errorHeight=0;}};DataLabel.prototype.isRectSeries=function(series){return series.isRectSeries||series.type==='RangeArea';};/**
     * Render the data label for series.
     *
     * @returns {void}
     */DataLabel.prototype.render=function(series,chart,dataLabel){// initialize the private variable
this.initPrivateVariables(series,series.marker);var rect;var labelLocation={x:0,y:0};var rgbValue;var contrast;var argsData;var border;var textSize;var angle;var degree;this.inverted=chart.requireInvertedAxis;this.yAxisInversed=series.yAxis.isInversed;var redraw=chart.redraw;var isDataLabelOverlap=false;var coordinatesAfterRotation=[];var templateId=chart.element.id+'_Series_'+(series.index===undefined?series.category:series.index)+'_DataLabelCollections';var element=sf.base.createElement('div',{id:templateId});var visiblePoints=getVisiblePoints(series);var point;var rectCenterX;var rectCenterY;// Data label point iteration started
for(var i=0;i<visiblePoints.length;i++){point=visiblePoints[i];if(!dataLabel.showZero&&(point.y!==0||point.y===0&&series.emptyPointSettings.mode==='Zero')){return null;}this.margin=dataLabel.margin;var labelText=[];var labelLength=void 0;var xPos=void 0;var yPos=void 0;var xValue=void 0;var yValue=void 0;var isRender=true;var clip=series.clipRect;var shapeRect=void 0;isDataLabelOverlap=false;angle=degree=dataLabel.angle;border={width:dataLabel.border.width,color:dataLabel.border.color};var argsFont=sf.base.extend({},sf.base.getValue('properties',dataLabel.font),null,true);if(point.symbolLocations.length&&point.symbolLocations[0]||series.type==='BoxAndWhisker'&&point.regions.length){labelText=getLabelText(point,series,chart);labelLength=labelText.length;for(var i_1=0;i_1<labelLength;i_1++){argsData={cancel:false,name:textRender,series:series,point:point,text:labelText[i_1],border:border,color:dataLabel.fill,template:dataLabel.template,font:argsFont,location:labelLocation,textSize:sf.svgbase.measureText(labelText[i_1],dataLabel.font)};chart.trigger(textRender,argsData);if(!argsData.cancel){this.fontBackground=argsData.color;this.isDataLabelShape(argsData);this.markerHeight=series.type==='Bubble'?point.regions[0].height/2:this.markerHeight;if(argsData.template!==null){this.createDataLabelTemplate(element,series,dataLabel,point,argsData,i_1,redraw);}else{textSize=sf.svgbase.measureText(argsData.text,dataLabel.font);rect=this.calculateTextPosition(point,series,textSize,dataLabel,i_1);// To check whether the polar radar chart datalabel intersects the axis label or not
if(chart.chartAreaType==='PolarRadar'){for(var _i=0,_a=chart.chartAxisLayoutPanel.visibleAxisLabelRect;_i<_a.length;_i++){var rectRegion=_a[_i];if(isOverlap(new sf.svgbase.Rect(rect.x,rect.y,rect.width,rect.height),rectRegion)){isRender=false;break;}}}var actualRect=new sf.svgbase.Rect(rect.x+clip.x,rect.y+clip.y,rect.width,rect.height);//let notOverlapping: boolean;
if(dataLabel.enableRotation){var rectCoordinates=this.getRectanglePoints(rect);rectCenterX=rect.x+rect.width/2;rectCenterY=rect.y+rect.height/2;coordinatesAfterRotation=getRotatedRectangleCoordinates(rectCoordinates,rectCenterX,rectCenterY,angle);isDataLabelOverlap=this.isDataLabelOverlapWithChartBound(coordinatesAfterRotation,chart,clip);if(!isDataLabelOverlap){this.chart.rotatedDataLabelCollections.push(coordinatesAfterRotation);var currentPointIndex=this.chart.rotatedDataLabelCollections.length-1;for(var index=currentPointIndex;index>=0;index--){if(this.chart.rotatedDataLabelCollections[currentPointIndex]&&this.chart.rotatedDataLabelCollections[index-1]&&isRotatedRectIntersect(this.chart.rotatedDataLabelCollections[currentPointIndex],this.chart.rotatedDataLabelCollections[index-1])){isDataLabelOverlap=true;this.chart.rotatedDataLabelCollections[currentPointIndex]=null;break;}}}}else{isDataLabelOverlap=isCollide(rect,chart.dataLabelCollections,clip);}if((!isDataLabelOverlap||dataLabel.labelIntersectAction==='None')&&isRender){chart.dataLabelCollections.push(actualRect);if(this.isShape){shapeRect=chart.renderer.drawRectangle(new RectOption(this.commonId+point.index+'_TextShape_'+i_1,argsData.color,argsData.border,dataLabel.opacity,rect,dataLabel.rx,dataLabel.ry),new Int32Array([clip.x,clip.y]));if(series.shapeElement){series.shapeElement.appendChild(shapeRect);}}// Checking the font color
rgbValue=convertHexToColor(colorNameToHex(this.fontBackground));contrast=Math.round((rgbValue.r*299+rgbValue.g*587+rgbValue.b*114)/1000);xPos=rect.x+this.margin.left+textSize.width/2+labelLocation.x;yPos=rect.y+this.margin.top+textSize.height*3/4+labelLocation.y;labelLocation={x:0,y:0};if(angle!==0&&dataLabel.enableRotation){// xValue = xPos - (dataLabel.margin.left) / 2 + (dataLabel.margin.right / 2);
xValue=rectCenterX;//yValue = yPos - (dataLabel.margin.top) / 2 - (textSize.height / dataLabel.margin.top) +
// (dataLabel.margin.bottom) / 2;
yValue=rectCenterY;degree=angle>360?angle-360:angle<-360?angle+360:angle;}else{degree=0;xValue=rect.x;yValue=rect.y;}textElement(chart.renderer,new sf.svgbase.TextOption(this.commonId+point.index+'_Text_'+i_1,xPos,yPos,'middle',argsData.text,'rotate('+degree+','+xValue+','+yValue+')','auto',degree),argsData.font,argsData.font.color||(contrast>=128||series.type==='Hilo'?'black':'white'),series.textElement,false,redraw,true,false,series.chart.duration,series.clipRect);}}}}}}if(element.childElementCount){if(!chart.enableCanvas){appendChildElement(chart.enableCanvas,getElement$1(chart.element.id+'_Secondary_Element'),element,chart.redraw,// eslint-disable-next-line @typescript-eslint/indent
false,'x','y',null,'',false,false,null,chart.duration);}else{getElement$1(chart.element.id+'_Secondary_Element').appendChild(element);}}};/**
     * Get rect coordinates
     */DataLabel.prototype.getRectanglePoints=function(rect){var loc1=new ChartLocation(rect.x,rect.y);var loc2=new ChartLocation(rect.x+rect.width,rect.y);var loc3=new ChartLocation(rect.x+rect.width,rect.y+rect.height);var loc4=new ChartLocation(rect.x,rect.y+rect.height);return[loc1,loc2,loc3,loc4];};DataLabel.prototype.isDataLabelOverlapWithChartBound=function(rectCoordinates,chart,clip){for(var index=0;index<rectCoordinates.length;index++){if(!withInBounds(rectCoordinates[index].x+clip.x,rectCoordinates[index].y+clip.y,chart.initialClipRect)){return true;}}return false;};/**
     * Render the data label template.
     *
     * @returns {void}
     * @private
     */DataLabel.prototype.createDataLabelTemplate=function(parentElement,series,dataLabel,point,data,labelIndex,redraw){this.margin={left:0,right:0,bottom:0,top:0};var clip=series.clipRect;var childElement=createTemplate(sf.base.createElement('div',{id:this.chart.element.id+'_Series_'+(series.index===undefined?series.category:series.index)+'_DataLabel_'+point.index+(labelIndex?'_'+labelIndex:''),styles:'position: absolute;background-color:'+data.color+';'+getFontStyle(dataLabel.font)+';border:'+data.border.width+'px solid '+data.border.color+';'}),point.index,data.template,this.chart,point,series,this.chart.element.id+'_DataLabel',labelIndex);this.calculateTemplateLabelSize(parentElement,childElement,point,series,dataLabel,labelIndex,clip,redraw);};DataLabel.prototype.calculateTemplateLabelSize=function(parentElement,childElement,point,series,dataLabel,labelIndex,clip,redraw,isReactCallback){var elementRect=measureElementRect(childElement,redraw);var rect=this.calculateTextPosition(point,series,{width:elementRect.width,height:elementRect.height},dataLabel,labelIndex);var clipWidth=0;var clipHeight=0;if(isReactCallback){clipWidth=series.clipRect.x+rect.x+elementRect.width>parentElement.clientWidth?parentElement.clientWidth-(series.clipRect.x+rect.x):0;clipHeight=series.points.length-1===point.index?elementRect.height/2:0;}childElement.style.left=(this.chart.chartAreaType==='PolarRadar'?0:series.clipRect.x)+rect.x-clipWidth+'px';childElement.style.top=(this.chart.chartAreaType==='PolarRadar'?0:series.clipRect.y)+rect.y+clipHeight+'px';var rgbValue=convertHexToColor(colorNameToHex(this.fontBackground));var vAxis=series.chart.requireInvertedAxis?series.xAxis:series.yAxis;var hAxis=series.chart.requireInvertedAxis?series.yAxis:series.xAxis;childElement.style.color=dataLabel.font.color||(Math.round((rgbValue.r*299+rgbValue.g*587+rgbValue.b*114)/1000)>=128?'black':'white');if(childElement.childElementCount&&(!isCollide(rect,this.chart.dataLabelCollections,clip)||dataLabel.labelIntersectAction==='None')&&(series.seriesType!=='XY'||point.yValue===undefined||withIn(point.yValue,series.yAxis.visibleRange)||series.type.indexOf('Stacking')>-1||series.type.indexOf('100')>-1&&withIn(series.stackedValues.endValues[point.index],series.yAxis.visibleRange))&&withIn(point.xValue,series.xAxis.visibleRange)&&parseFloat(childElement.style.top)>=vAxis.rect.y&&parseFloat(childElement.style.left)>=hAxis.rect.x&&parseFloat(childElement.style.top)<=vAxis.rect.y+vAxis.rect.height&&parseFloat(childElement.style.left)<=hAxis.rect.x+hAxis.rect.width){this.chart.dataLabelCollections.push(new sf.svgbase.Rect(rect.x+clip.x,rect.y+clip.y,rect.width,rect.height));appendChildElement(this.chart.enableCanvas,parentElement,childElement,redraw,true,'left','top');if(series.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas){this.doDataLabelAnimation(series,childElement);}else if(this.chart.enableCanvas){parentElement.appendChild(childElement);}}};DataLabel.prototype.calculateTextPosition=function(point,series,textSize,dataLabel,labelIndex){var labelRegion=labelIndex>1?series.type==='Candle'?point.regions[1]:point.regions[0]:point.regions[0];if(labelIndex>1&&series.type==='HiloOpenClose'){labelRegion=labelIndex===2?point.regions[1]:point.regions[2];}var location;location=this.getLabelLocation(point,series,textSize,labelIndex);var padding=5;var clipRect=series.clipRect;// calculating alignment
if(!this.chart.requireInvertedAxis||!this.isRectSeries(series)||series.type==='BoxAndWhisker'){this.locationX=location.x;var alignmentValue=textSize.height+this.borderWidth*2+this.markerHeight+this.margin.bottom+this.margin.top+padding;location.y=dataLabel.position==='Auto'?location.y:this.calculateAlignment(alignmentValue,location.y,dataLabel.alignment,this.isRectSeries(series)?point.yValue<0:false);// calculating position
location.y=!this.isRectSeries(series)||series.type==='BoxAndWhisker'?this.calculatePathPosition(location.y,dataLabel.position,series,point,textSize,labelIndex):this.calculateRectPosition(location.y,labelRegion,point.yValue<0!==this.yAxisInversed,dataLabel.position,series,textSize,labelIndex,point);if(this.isRectSeries(series)&&this.chart.chartAreaType==='PolarRadar'){location=this.calculatePolarRectPosition(location,dataLabel.position,series,point,textSize,labelIndex,dataLabel.alignment,alignmentValue);}}else{this.locationY=location.y;var alignmentValue=textSize.width+this.borderWidth+this.margin.left+this.margin.right-padding;location.x=dataLabel.position==='Auto'?location.x:this.calculateAlignment(alignmentValue,location.x,dataLabel.alignment,point.yValue<0);location.x=this.calculateRectPosition(location.x,labelRegion,point.yValue<0!==this.yAxisInversed,dataLabel.position,series,textSize,labelIndex,point);}var rect=calculateRect(location,textSize,this.margin);// Checking the condition whether data Label has been exist the clip rect
if(!(dataLabel.enableRotation===true&&dataLabel.angle!==0)&&!(rect.y>clipRect.y+clipRect.height||rect.x>clipRect.x+clipRect.width||rect.x+rect.width<0||rect.y+rect.height<0)){rect.x=rect.x<0?padding:rect.x;rect.y=rect.y<0&&!(dataLabel.labelIntersectAction==='None')?padding:rect.y;rect.x-=rect.x+rect.width>clipRect.x+clipRect.width?rect.x+rect.width-(clipRect.x+clipRect.width)+padding:0;rect.y-=rect.y+rect.height>clipRect.y+clipRect.height?rect.y+rect.height-(clipRect.y+clipRect.height)+padding:0;this.fontBackground=this.fontBackground==='transparent'?this.chartBackground:this.fontBackground;}return rect;};// Calculation label location for polar column draw types
DataLabel.prototype.calculatePolarRectPosition=function(location,position,series,point,size,labelIndex,alignment,alignmentValue){var padding=5;var columnRadius;var chartWidth=this.chart.availableSize.width;var alignmentSign=alignment==='Center'?0:alignment==='Far'?1:-1;var angle=point.regionData.startAngle-0.5*Math.PI+(point.regionData.endAngle-point.regionData.startAngle)/2;if(labelIndex===0){columnRadius=point.regionData.radius<point.regionData.innerRadius?point.regionData.innerRadius:point.regionData.radius;}else{columnRadius=point.regionData.radius>point.regionData.innerRadius?point.regionData.innerRadius:point.regionData.radius;}this.fontBackground=this.fontBackground==='transparent'?this.chartBackground:this.fontBackground;if(series.drawType.indexOf('Stacking')>-1){position=position==='Outer'?'Top':position;}else if(series.drawType.indexOf('Range')>-1){position=position==='Outer'||position==='Top'?position:'Auto';}if(position==='Outer'){columnRadius=labelIndex===0?columnRadius+2*padding+this.markerHeight:columnRadius-2*padding-this.markerHeight;}else if(position==='Middle'){columnRadius=columnRadius/2+padding;if(series.drawType==='StackingColumn'){columnRadius=point.regionData.innerRadius+(point.regionData.radius-point.regionData.innerRadius)/2+padding-size.height/2;}}else if(position==='Top'){columnRadius=labelIndex===0?columnRadius-2*padding-this.markerHeight:columnRadius+2*padding+this.markerHeight;}else if(position==='Bottom'){columnRadius=2*padding;columnRadius+=series.drawType==='StackingColumn'?point.regionData.innerRadius+this.markerHeight:0;}else{if(labelIndex===0){columnRadius=columnRadius>=series.chart.radius?columnRadius-padding:series.drawType==='StackingColumn'?columnRadius-2*padding:columnRadius+2*padding;}else{columnRadius=columnRadius>=series.chart.radius?columnRadius+padding:columnRadius-2*padding;}}columnRadius+=alignmentValue*alignmentSign;location.x=series.clipRect.width/2+series.clipRect.x+columnRadius*Math.cos(angle);// To change x location based on text anchor for column and stackingcolumn chart
if(series.drawType==='StackingColumn'){location.x=location.x<chartWidth/2?location.x+size.width/2:location.x>chartWidth/2?location.x-size.width/2:location.x;}else if(series.drawType==='Column'){location.x=location.x<chartWidth/2?location.x-size.width/2:location.x>chartWidth/2?location.x+size.width/2:location.x;}location.y=series.clipRect.height/2+series.clipRect.y+columnRadius*Math.sin(angle);return location;};/**
     * Get the label location
     */DataLabel.prototype.getLabelLocation=function(point,series,textSize,labelIndex){var location=new ChartLocation(0,0);var labelRegion=series.type==='Candle'&&labelIndex>1?point.regions[1]:point.regions[0];if(series.type==='HiloOpenClose'){labelRegion=labelIndex===2?point.regions[1]:point.regions[2];}var xAxis=series.xAxis;var yAxis=series.yAxis;var isInverted=series.chart.requireInvertedAxis;if(series.type==='BoxAndWhisker'){this.markerHeight=0;switch(labelIndex){case 0:location=getPoint(point.xValue,point.median,xAxis,yAxis,isInverted);break;case 1:location=getPoint(point.xValue,point.maximum,xAxis,yAxis,isInverted);break;case 2:location=getPoint(point.xValue,point.minimum,xAxis,yAxis,isInverted);break;case 3:location=getPoint(point.xValue,point.upperQuartile,xAxis,yAxis,isInverted);break;case 4:location=getPoint(point.xValue,point.lowerQuartile,xAxis,yAxis,isInverted);break;default:{location=getPoint(point.xValue,point.outliers[labelIndex-5],xAxis,yAxis,isInverted);this.markerHeight=series.marker.height/2;break;}}if(isInverted){location.y=point.regions[0].y+point.regions[0].height/2;}else{location.x=point.regions[0].x+point.regions[0].width/2;}}else if(labelIndex===0||labelIndex===1){location=new ChartLocation(point.symbolLocations[0].x,point.symbolLocations[0].y);}else if((labelIndex===2||labelIndex===3)&&series.type==='Candle'){location=new ChartLocation(point.symbolLocations[1].x,point.symbolLocations[1].y);}else if(isInverted){location={x:labelRegion.x+labelRegion.width/2,y:labelRegion.y};}else{location={x:labelRegion.x+labelRegion.width,y:labelRegion.y+labelRegion.height/2};}//Aligning the label at the beginning of the tick, when tick size is less than text size
if(labelIndex>1&&series.type==='HiloOpenClose'){if(series.chart.requireInvertedAxis){var height=labelRegion.height;location.y=labelRegion.y+height/2+2*(labelIndex===2?1:-1);}else{var width=labelRegion.width;location.x=labelRegion.x+width/2+2*(labelIndex===2?1:-1);}}return location;};DataLabel.prototype.calculateRectPosition=function(labelLocation,rect,isMinus,position,series,textSize,labelIndex,point){if(series.chart.chartAreaType==='PolarRadar'){return null;}var padding=5;var margin=this.margin;var textLength=!this.inverted?textSize.height:textSize.width;var extraSpace=this.borderWidth+textLength/2+padding;if(series.type==='StackingColumn100'||series.type==='StackingBar100'){position=position==='Outer'?'Top':position;}else if(series.type.indexOf('Range')>-1){position=position==='Outer'||position==='Top'?position:'Auto';}else if(series.type==='Waterfall'){position=position==='Auto'?'Middle':position;}switch(position){case'Bottom':labelLocation=!this.inverted?isMinus?labelLocation-rect.height+extraSpace+margin.top:labelLocation+rect.height-extraSpace-margin.bottom:isMinus?labelLocation+rect.width-extraSpace-margin.left:labelLocation-rect.width+extraSpace+margin.right;break;case'Middle':labelLocation=labelLocation=!this.inverted?isMinus?labelLocation-rect.height/2:labelLocation+rect.height/2:isMinus?labelLocation+rect.width/2:labelLocation-rect.width/2;break;case'Auto':labelLocation=this.calculateRectActualPosition(labelLocation,rect,isMinus,series,textSize,labelIndex,point);break;default:extraSpace+=this.errorHeight;labelLocation=this.calculateTopAndOuterPosition(labelLocation,rect,position,series,labelIndex,extraSpace,isMinus);break;}var check=!this.inverted?labelLocation<rect.y||labelLocation>rect.y+rect.height:labelLocation<rect.x||labelLocation>rect.x+rect.width;this.fontBackground=check?this.fontBackground==='transparent'?this.chartBackground:this.fontBackground:this.fontBackground==='transparent'?point.color||series.interior:this.fontBackground;var seriesLength=series.chart.series.length;if(position==='Outer'&&series.type.indexOf('Stacking')>-1&&seriesLength-1>series.index){var nextSeries=void 0;var nextSeriesPoint=void 0;for(var i=series.index+1;i<seriesLength;i++){nextSeries=series.chart.series[i];nextSeriesPoint=nextSeries.points[point.index];if(nextSeries.type.indexOf('Stacking')>-1&&nextSeries.type.indexOf('100')===-1){this.fontBackground=nextSeriesPoint&&(nextSeriesPoint.yValue<0&&point.yValue<0||nextSeriesPoint.yValue>0&&point.yValue>0)?nextSeriesPoint?nextSeriesPoint.color:nextSeries.interior:this.fontBackground;break;}}}return labelLocation;};DataLabel.prototype.calculatePathPosition=function(labelLocation,position,series,point,size,labelIndex){var padding=5;if(series.type.indexOf('Area')>-1&&series.type!=='RangeArea'&&this.yAxisInversed&&series.marker.dataLabel.position!=='Auto'){position=position==='Top'?'Bottom':position==='Bottom'?'Top':position;}this.fontBackground=this.fontBackground==='transparent'?this.chartBackground:this.fontBackground;switch(position){case'Top':case'Outer':labelLocation=labelLocation-this.markerHeight-this.borderWidth-size.height/2-this.margin.bottom-padding-this.errorHeight;break;case'Bottom':labelLocation=labelLocation+this.markerHeight+this.borderWidth+size.height/2+this.margin.top+padding+this.errorHeight;break;case'Auto':labelLocation=this.calculatePathActualPosition(labelLocation,this.markerHeight,series,point,size,labelIndex);break;}return labelLocation;};DataLabel.prototype.isDataLabelShape=function(style){this.isShape=style.color!=='transparent'||style.border.width>0;this.borderWidth=style.border.width;if(!this.isShape){this.margin={left:0,right:0,bottom:0,top:0};}};DataLabel.prototype.calculateRectActualPosition=function(labelLocation,rect,isMinus,series,size,labelIndex,point){var location;var labelRect;var isOverLap=true;var position=0;var collection=this.chart.dataLabelCollections;var finalPosition=series.type.indexOf('Range')!==-1||series.type==='Hilo'?2:4;while(isOverLap&&position<finalPosition){var actualPosition=this.getPosition(position);if(series.type.indexOf('Stacking')>-1&&actualPosition==='Outer'){actualPosition='Top';position++;}location=this.calculateRectPosition(labelLocation,rect,isMinus,actualPosition,series,size,labelIndex,point);if(!this.inverted){labelRect=calculateRect(new ChartLocation(this.locationX,location),size,this.margin);isOverLap=labelRect.y<0||isCollide(labelRect,collection,series.clipRect)||labelRect.y>series.clipRect.height;}else{labelRect=calculateRect(new ChartLocation(location,this.locationY),size,this.margin);isOverLap=labelRect.x<0||isCollide(labelRect,collection,series.clipRect)||labelRect.x+labelRect.width>series.clipRect.width;}position++;}return location;};// alignment calculation assigned here
DataLabel.prototype.calculateAlignment=function(value,labelLocation,alignment,isMinus){switch(alignment){case'Far':labelLocation=!this.inverted?isMinus?labelLocation+value:labelLocation-value:isMinus?labelLocation-value:labelLocation+value;break;case'Near':labelLocation=!this.inverted?isMinus?labelLocation-value:labelLocation+value:isMinus?labelLocation+value:labelLocation-value;break;// eslint-disable-next-line no-self-assign
case'Center':labelLocation=labelLocation;break;}return labelLocation;};//calculation for top and outer position of datalabel for rect series
DataLabel.prototype.calculateTopAndOuterPosition=function(location,rect,position,series,index,extraSpace,isMinus){var margin=this.margin;var top;switch(series.type){case'RangeColumn':case'RangeArea':case'Hilo':top=index===0&&!this.yAxisInversed||index===1&&this.yAxisInversed;location=this.updateLabelLocation(position,location,extraSpace,margin,rect,top);break;case'Candle':top=(index===0||index===2)&&!this.yAxisInversed||(index===1||index===3)&&this.yAxisInversed;location=this.updateLabelLocation(position,location,extraSpace,margin,rect,top,index>1);break;case'HiloOpenClose':if(index<=1){top=index===0&&!this.yAxisInversed||index===1&&this.yAxisInversed;location=this.updateLabelLocation(position,location,extraSpace,margin,rect,top);}else{if(this.yAxisInversed){location=!this.inverted?location+extraSpace+margin.top:location-extraSpace-margin.right;}else{location=!this.inverted?location-extraSpace-margin.bottom:location+extraSpace+margin.left;}}break;default:if(isMinus&&position==='Top'||!isMinus&&position==='Outer'){location=!this.inverted?location-extraSpace-margin.bottom-this.markerHeight:location+extraSpace+margin.left+this.markerHeight;}else{location=!this.inverted?location+extraSpace+margin.top+this.markerHeight:location-extraSpace-margin.right-this.markerHeight;}break;}return location;};/**
     * Updates the label location
     */DataLabel.prototype.updateLabelLocation=function(position,location,extraSpace,margin,rect,top,inside$$1){if(inside$$1===void 0){inside$$1=false;}if(!this.inverted){if(top){location=position==='Outer'&&!inside$$1?location-extraSpace-margin.bottom-this.markerHeight:location+extraSpace+margin.top+this.markerHeight;}else{location=position==='Outer'&&!inside$$1?location+rect.height+extraSpace+margin.top+this.markerHeight:location+rect.height-extraSpace-margin.bottom-this.markerHeight;}}else{if(top){location=position==='Outer'&&!inside$$1?location+extraSpace+margin.left+this.markerHeight:location-extraSpace-margin.right-this.markerHeight;}else{location=position==='Outer'&&!inside$$1?location-rect.width-extraSpace-margin.right-this.markerHeight:location-rect.width+extraSpace+margin.left+this.markerHeight;}}return location;};DataLabel.prototype.calculatePathActualPosition=function(y,markerSize,series,point,size,labelIndex){var points=series.points;var index=point.index;var yValue=points[index].yValue;var position;var nextPoint=points.length-1>index?points[index+1]:null;var previousPoint=index>0?points[index-1]:null;var yLocation;var isOverLap=true;var labelRect;var isBottom;var positionIndex;var collection=this.chart.dataLabelCollections;if(series.type==='Bubble'){position='Top';}else if(series.type.indexOf('Step')>-1){position='Top';if(index){position=!previousPoint||!previousPoint.visible||yValue>previousPoint.yValue!==this.yAxisInversed||yValue===previousPoint.yValue?'Top':'Bottom';}}else if(series.type==='BoxAndWhisker'){if(labelIndex===1||labelIndex===3||labelIndex>4){position=series.yAxis.isInversed?'Bottom':'Top';}else if(labelIndex===2||labelIndex===4){position=series.yAxis.isInversed?'Top':'Bottom';}else{isOverLap=false;position='Middle';yLocation=this.calculatePathPosition(y,position,series,point,size,labelIndex);}}else{if(index===0){position=!nextPoint||!nextPoint.visible||yValue>nextPoint.yValue||yValue<nextPoint.yValue&&this.yAxisInversed?'Top':'Bottom';}else if(index===points.length-1){position=!previousPoint||!previousPoint.visible||yValue>previousPoint.yValue||yValue<previousPoint.yValue&&this.yAxisInversed?'Top':'Bottom';}else{if(!nextPoint.visible&&!(previousPoint&&previousPoint.visible)){position='Top';}else if(!nextPoint.visible||!previousPoint){position=nextPoint.yValue>yValue||previousPoint&&previousPoint.yValue>yValue?'Bottom':'Top';}else{var slope=(nextPoint.yValue-previousPoint.yValue)/2;var intersectY=slope*index+(nextPoint.yValue-slope*(index+1));position=!this.yAxisInversed?intersectY<yValue?'Top':'Bottom':intersectY<yValue?'Bottom':'Top';}}}isBottom=position==='Bottom';positionIndex=['Outer','Top','Bottom','Middle','Auto'].indexOf(position);while(isOverLap&&positionIndex<4){yLocation=this.calculatePathPosition(y,this.getPosition(positionIndex),series,point,size,labelIndex);labelRect=calculateRect(new ChartLocation(this.locationX,yLocation),size,this.margin);isOverLap=labelRect.y<0||isCollide(labelRect,collection,series.clipRect)||labelRect.y+labelRect.height>series.clipRect.height;positionIndex=isBottom?positionIndex-1:positionIndex+1;isBottom=false;}return yLocation;};/**
     * Animates the data label.
     *
     * @param  {Series} series - Data label of the series gets animated.
     * @returns {void}
     */DataLabel.prototype.doDataLabelAnimation=function(series,element){var shapeElements=series.shapeElement.childNodes;var textNode=series.textElement.childNodes;var delay=series.animation.delay+series.animation.duration;var duration=series.chart.animated?series.chart.duration:200;var location;var length=element?1:textNode.length;var tempElement;for(var i=0;i<length;i++){tempElement=textNode[i];if(element){element.style.visibility='hidden';templateAnimate(element,delay,duration,'ZoomIn');}else{location=new ChartLocation(+tempElement.getAttribute('x')+ +tempElement.getAttribute('width')/2,+tempElement.getAttribute('y')+ +tempElement.getAttribute('height')/2);markerAnimate(tempElement,delay,duration,series,null,location,true);if(shapeElements[i]){tempElement=shapeElements[i];location=new ChartLocation(+tempElement.getAttribute('x')+ +tempElement.getAttribute('width')/2,+tempElement.getAttribute('y')+ +tempElement.getAttribute('height')/2);markerAnimate(tempElement,delay,duration,series,null,location,true);}}}};DataLabel.prototype.getPosition=function(index){return['Outer','Top','Bottom','Middle','Auto'][index];};/**
     * Get module name.
     */DataLabel.prototype.getModuleName=function(){// Returns the module name
return'DataLabel';};/**
     * To destroy the dataLabel for series.
     *
     * @returns {void}
     * @private
     */DataLabel.prototype.destroy=function(){// Destroy method performed here
};return DataLabel;}();/**
 * `ErrorBar` module is used to render the error bar for series.
 */var ErrorBar=/** @class */function(){/**
     * Constructor for the error bar module.
     *
     * @private
     */function ErrorBar(chart){this.chart=chart;}/**
     * Render the error bar for series.
     *
     * @returns {void}
     */ErrorBar.prototype.render=function(series){if(this.chart.chartAreaType==='PolarRadar'){return null;}this.createElement(series,this.chart);this.renderErrorBar(series);};ErrorBar.prototype.renderErrorBar=function(series){var seriesIndex=series.index;var symbolId;var capId;var errorbar=series.errorBar;var errorBarCap=series.errorBar.errorBarCap;var errorDirection=['',''];var redraw=series.chart.redraw;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(point.visible&&point.symbolLocations[0]){var errorX=0;var errorY=0;switch(errorbar.mode){case'Vertical':errorY=errorbar.verticalError;break;case'Horizontal':errorX=errorbar.horizontalError;break;case'Both':errorX=errorbar.horizontalError;errorY=errorbar.verticalError;break;}errorDirection=this['calculate'+errorbar.type+'Value'](point,series,this.chart.requireInvertedAxis,errorX,errorY);symbolId=this.chart.element.id+'_Series_'+'_ErrorBarGroup_'+seriesIndex+'_Point_'+point.index;capId=this.chart.element.id+'_Series_'+'_ErrorBarCap_'+seriesIndex+'_Point_'+point.index;var shapeOption=new sf.svgbase.PathOption(symbolId,'',errorbar.width,errorbar.color||this.chart.themeStyle.errorBar,null,'',errorDirection[0]);var element=getElement$1(shapeOption.id);var previousDirection=element?element.getAttribute('d'):null;series.errorBarElement.appendChild(this.chart.renderer.drawPath(shapeOption));pathAnimation(element,errorDirection[0],redraw,previousDirection);var capOption=new sf.svgbase.PathOption(capId,'',errorBarCap.width,errorBarCap.color||this.chart.themeStyle.errorBar,null,'',errorDirection[1]);element=getElement$1(capOption.id);previousDirection=element?element.getAttribute('d'):null;appendChildElement(this.chart.enableCanvas,series.errorBarElement,this.chart.renderer.drawPath(capOption),redraw);pathAnimation(element,errorDirection[1],redraw,previousDirection);}}};// path calculation for error bar
ErrorBar.prototype.findLocation=function(point,series,isInverted,x1,y1){var errorbar=series.errorBar;var direction=errorbar.direction;var location=[];var yValue=series.type.indexOf('Stacking')>-1?series.stackedValues.endValues[point.index]:series.seriesType==='HighLow'||series.seriesType==='HighLowOpenClose'?series.points[point.index].high:point.yValue;var startPoint=getPoint(point.xValue+(direction==='Plus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Horizontal'||errorbar.mode==='Both')?x1=errorbar.horizontalPositiveError:x1:0),yValue+(direction==='Plus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Vertical'||errorbar.mode==='Both')?y1=errorbar.verticalPositiveError:y1:0),series.xAxis,series.yAxis,isInverted);location.push(startPoint);if(series.isRectSeries){var midPoint=point.symbolLocations[0];location.push(midPoint);}else{var midPoint=getPoint(point.xValue,point.yValue,series.xAxis,series.yAxis,isInverted);location.push(midPoint);}var endPoint=getPoint(point.xValue-(direction==='Minus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Horizontal'||errorbar.mode==='Both')?x1=errorbar.horizontalNegativeError:x1:0),yValue-(direction==='Minus'||direction==='Both'?errorbar.type==='Custom'&&(errorbar.mode==='Vertical'||errorbar.mode==='Both')?y1=errorbar.verticalNegativeError:y1:0),series.xAxis,series.yAxis,isInverted);location.push(endPoint);// calculate error height for datalabel position alignment
point.error=errorbar.mode==='Vertical'?errorbar.verticalError:errorbar.horizontalError;this.negativeHeight=errorbar.mode==='Vertical'||errorbar.mode==='Both'?isInverted?location[1].x-location[2].x:location[2].y-location[1].y:0;this.positiveHeight=errorbar.mode==='Vertical'||errorbar.mode==='Both'?isInverted?location[0].x-location[1].x:location[1].y-location[0].y:0;return this.getErrorDirection(location[0],location[1],location[2],series,isInverted);};//calculations for eror bar types
ErrorBar.prototype.calculateFixedValue=function(point,series,isInverted,errorX,errorY,xAxis,yAxis){var errorbar=series.errorBar;return this.findLocation(point,series,isInverted,errorX,errorY);};ErrorBar.prototype.calculatePercentageValue=function(point,series,isInverted,errorX,errorY,xAxis,yAxis){errorX=errorX/100*point.xValue;errorY=errorY/100*point.yValue;return this.findLocation(point,series,isInverted,errorX,errorY);};ErrorBar.prototype.calculateStandardDeviationValue=function(point,series,isInverted,errorX,errorY,xAxis,yAxis){var getMean=this.meanCalculation(series,series.errorBar.mode);errorX=errorX*(getMean.horizontalSquareRoot+getMean.horizontalMean);errorY=errorY*(getMean.verticalSquareRoot+getMean.verticalMean);return this.findLocation(point,series,isInverted,errorX,errorY);};ErrorBar.prototype.calculateStandardErrorValue=function(point,series,isInverted,errorX,errorY,xAxis,yAxis){var length=series.points.length;var getMean=this.meanCalculation(series,series.errorBar.mode);errorX=errorX*getMean.horizontalSquareRoot/Math.sqrt(length);errorY=errorY*getMean.verticalSquareRoot/Math.sqrt(length);return this.findLocation(point,series,isInverted,errorX,errorY);};ErrorBar.prototype.calculateCustomValue=function(point,series,isInverted,errorX,errorY,xAxis,yAxis){var errorbar=series.errorBar;return this.findLocation(point,series,isInverted,errorX,errorY);};ErrorBar.prototype.getHorizontalDirection=function(start,mid,end,direction,errorMode,capLength){var path='';var capDirection='';path+='M '+start.x+' '+mid.y+' L '+end.x+' '+mid.y;capDirection+=direction==='Plus'||direction==='Both'?'M '+start.x+' '+(mid.y-capLength)+' L '+start.x+' '+(mid.y+capLength):'';capDirection+=direction==='Minus'||direction==='Both'?'M '+end.x+' '+(mid.y-capLength)+' L '+end.x+' '+(mid.y+capLength):' ';return[path,capDirection];};ErrorBar.prototype.getVerticalDirection=function(start,mid,end,direction,errorMode,capLength){var path='';var capDirection='';path+='M '+mid.x+' '+start.y+' L '+mid.x+' '+end.y;capDirection+=direction==='Plus'||direction==='Both'?'M '+(mid.x-capLength)+' '+start.y+' L '+(mid.x+capLength)+' '+start.y:'';capDirection+=direction==='Minus'||direction==='Both'?'M '+(mid.x-capLength)+' '+end.y+' L '+(mid.x+capLength)+' '+end.y:'';return[path,capDirection];};ErrorBar.prototype.getBothDirection=function(start,mid,end,direction,errorMode,capLength){var capDirection='';var path='';var pathH=this.getHorizontalDirection(start,mid,end,direction,errorMode,capLength);var pathV=this.getVerticalDirection(start,mid,end,direction,errorMode,capLength);path=pathH[0].concat(pathV[0]);capDirection=pathH[1].concat(pathV[1]);return[path,capDirection];};ErrorBar.prototype.getErrorDirection=function(start,mid,end,series,isInverted){var direction=series.errorBar.direction;var mode=series.errorBar.mode;var capLength=series.errorBar.errorBarCap.length;var paths;var errorMode=mode;switch(mode){case'Both':errorMode=mode;break;case'Horizontal':errorMode=isInverted?'Vertical':mode;break;case'Vertical':errorMode=isInverted?'Horizontal':mode;break;}switch(errorMode){case'Horizontal':paths=this.getHorizontalDirection(start,mid,end,direction,errorMode,capLength);break;case'Vertical':paths=this.getVerticalDirection(start,mid,end,direction,errorMode,capLength);break;case'Both':paths=this.getBothDirection(start,mid,end,direction,errorMode,capLength);break;}return[paths[0],paths[1]];};// mean calculation for standard deviation and standard error
ErrorBar.prototype.meanCalculation=function(series,mode){var sumOfX=0;var sumOfY=0;var verticalMean=0;var horizontalMean=0;var length=series.points.length;switch(mode){case'Vertical':sumOfY=sum(series.yData);verticalMean=sumOfY/length;break;case'Horizontal':sumOfX=sum(series.xData);horizontalMean=sumOfX/length;break;case'Both':sumOfY=sum(series.yData);verticalMean=sumOfY/length;sumOfX=sum(series.xData);horizontalMean=sumOfX/length;}for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(mode==='Vertical'){sumOfY=sumOfY+Math.pow(point.yValue-verticalMean,2);}else if(mode==='Horizontal'){sumOfX=sumOfX+Math.pow(point.xValue-horizontalMean,2);}else{sumOfY=sumOfY+Math.pow(point.yValue-verticalMean,2);sumOfX=sumOfX+Math.pow(point.xValue-horizontalMean,2);}}var verStandardMean=sumOfY/(length-1);var verSquareRoot=Math.sqrt(sumOfY/(length-1));var horStandardMean=sumOfX/(length-1);var horSquareRoot=Math.sqrt(sumOfX/(length-1));return new Mean(verStandardMean,verSquareRoot,horStandardMean,horSquareRoot,verticalMean,horizontalMean);};ErrorBar.prototype.createElement=function(series,chart){var explodeValue=5;var transform=chart.chartAreaType==='Cartesian'?'translate('+series.clipRect.x+','+series.clipRect.y+')':'';var markerHeight=(series.marker.height+explodeValue)/2;var markerWidth=(series.marker.width+explodeValue)/2;if(chart.chartAreaType==='Cartesian'){var options=new RectOption(chart.element.id+'_ChartErrorBarClipRect_'+series.index,'transparent',{width:1,color:'Gray'},1,{x:-markerWidth,y:-markerHeight,width:series.clipRect.width+markerWidth*2,height:series.clipRect.height+markerHeight*2});series.errorBarElement=chart.renderer.createGroup({'id':chart.element.id+'ErrorBarGroup'+series.index,'transform':transform,'clip-path':'url(#'+chart.element.id+'_ChartErrorBarClipRect_'+series.index+')'});series.errorBarElement.appendChild(appendClipElement(chart.redraw,options,chart.renderer));}};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */ErrorBar.prototype.doErrorBarAnimation=function(series){var errorBarElements=series.errorBarElement.childNodes;if(!errorBarElements){return null;}var delay=series.animation.delay+series.animation.duration;var j=1;while(j<errorBarElements.length){for(var i=0;i<series.points.length;i++){if(!series.points[i].symbolLocations[0]){continue;}errorBarElements[j].style.visibility='hidden';templateAnimate(errorBarElements[j],delay,350,series.chart.requireInvertedAxis?'SlideLeftIn':'SlideBottomIn',false);}j++;}};/**
     * Get module name.
     */ErrorBar.prototype.getModuleName=function(){// Returns the module name
return'ErrorBar';};/**
     * To destroy the errorBar for series.
     *
     * @returns {void}
     * @private
     */ErrorBar.prototype.destroy=function(){// Destroy method performed here
};return ErrorBar;}();var __extends$58=undefined&&undefined.__extends||function(){var _extendStatics59=function extendStatics(d,b){_extendStatics59=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics59(d,b);};return function(d,b){_extendStatics59(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable jsdoc/require-returns */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable jsdoc/require-param */ /* eslint-disable valid-jsdoc */ /**
 * Chart legend
 */ /**
 * `Legend` module is used to render legend for the chart.
 */var Legend=/** @class */function(_super){__extends$58(Legend,_super);function Legend(chart){var _this=_super.call(this,chart)||this;_this.library=_this;_this.addEventListener();return _this;}/**
     * Binding events for legend module.
     */Legend.prototype.addEventListener=function(){if(this.chart.isDestroyed){return;}this.chart.on(sf.base.Browser.touchMoveEvent,this.mouseMove,this);this.chart.on('click',this.click,this);this.chart.on(sf.base.Browser.touchEndEvent,this.mouseEnd,this);};/**
     * UnBinding events for legend module.
     */Legend.prototype.removeEventListener=function(){if(this.chart.isDestroyed){return;}this.chart.off(sf.base.Browser.touchMoveEvent,this.mouseMove);this.chart.off('click',this.click);this.chart.off(sf.base.Browser.touchEndEvent,this.mouseEnd);};/**
     * To handle mosue move for legend module
     */Legend.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch){this.move(e);if(this.chart.highlightModule&&this.chart.highlightMode!=='None'){this.click(e);}}};/**
     * To handle mosue end for legend module
     */Legend.prototype.mouseEnd=function(e){if(this.chart.legendSettings.visible&&this.chart.isTouch){this.move(e);}};/**
     * Get the legend options.
     *
     * @returns {void}
     * @private
     */Legend.prototype.getLegendOptions=function(visibleSeriesCollection,chart){this.legendCollections=[];var seriesType;var fill;var colors=[];if(visibleSeriesCollection.length>1){this.legend.mode='Series';}for(var _i=0,visibleSeriesCollection_1=visibleSeriesCollection;_i<visibleSeriesCollection_1.length;_i++){var series=visibleSeriesCollection_1[_i];if(this.legend.mode==='Series'){if(series.category!=='Indicator'&&series.name!==''){seriesType=chart.chartAreaType==='PolarRadar'?series.drawType:series.type;// To set legend color when use pointColorMapping
fill=series.pointColorMapping&&series.points.length>0?series.points[0].interior?series.points[0].interior:series.interior:series.interior;this.legendCollections.push(new LegendOptions(series.name,fill,series.legendShape,series.category==='TrendLine'?this.chart.series[series.sourceIndex].trendlines[series.index].visible:series.visible,seriesType,series.legendImageUrl,series.marker.shape,series.marker.visible));}}else if(this.legend.mode==='Point'){var _loop_1=function _loop_1(points){seriesType=chart.chartAreaType==='PolarRadar'?series.drawType:series.type;fill=points.interior?points.interior:series.interior;if(this_1.legendCollections.filter(function(i){return i.text===points.x.toString();}).length===0){this_1.legendCollections.push(new LegendOptions(points.x.toString(),fill,series.legendShape,series.category==='TrendLine'?this_1.chart.series[series.sourceIndex].trendlines[series.index].visible:points.visible,seriesType,'',series.marker.shape,series.marker.visible));}};var this_1=this;for(var _a=0,_b=series.points;_a<_b.length;_a++){var points=_b[_a];_loop_1(points);}}else if(this.legend.mode==='Range'){for(var _c=0,_d=series.points;_c<_d.length;_c++){var points=_d[_c];seriesType=chart.chartAreaType==='PolarRadar'?series.drawType:series.type;fill=points.interior?points.interior:series.interior;var legendLabel='Others';if(colors.indexOf(fill)<0){colors.push(fill);if(chart.rangeColorSettings.length>=1&&chart.rangeColorSettings[0].colors.length===1){for(var _e=0,_f=chart.rangeColorSettings;_e<_f.length;_e++){var rangeMap=_f[_e];if(rangeMap.colors[0]===fill){legendLabel=rangeMap.label;}}this.legendCollections.push(new LegendOptions(legendLabel,fill,series.legendShape,series.category==='TrendLine'?this.chart.series[series.sourceIndex].trendlines[series.index].visible:points.visible,seriesType,'',series.marker.shape,series.marker.visible));}}}}else{if(this.legendCollections.length===0&&chart.rangeColorSettings.length>0){var startLabel=chart.rangeColorSettings[0].start.toString();var endLabel=chart.rangeColorSettings[chart.rangeColorSettings.length-1].end.toString();this.legendCollections.push(new LegendOptions(startLabel,series.interior,'Rectangle',true,seriesType,'',series.marker.shape,series.marker.visible));this.legendCollections.push(new LegendOptions(endLabel,series.interior,'Rectangle',true,seriesType,'',series.marker.shape,series.marker.visible));}}}};/** @private */Legend.prototype.getLegendBounds=function(availableSize,legendBounds,legend){this.calculateLegendTitle(legend,legendBounds);this.isTitle=legend.title?true:false;var padding=legend.padding;var titlePosition=legend.titlePosition;var extraHeight=0;var extraWidth=0;var arrowWidth=this.arrowWidth;var arrowHeight=this.arrowHeight;var verticalArrowSpace=this.isVertical&&!legend.enablePages?arrowHeight:0;var titleSpace=this.isTitle&&titlePosition==='Top'?this.legendTitleSize.height+this.fivePixel:0;titleSpace=this.isTitle&&this.isVertical&&titlePosition!=='Top'?this.legendTitleSize.height+this.fivePixel:titleSpace;if(!this.isVertical){extraHeight=!legend.height?availableSize.height/100*5:0;}else{extraWidth=!legend.width?availableSize.width/100*5:0;}legendBounds.height+=extraHeight;legendBounds.width+=extraWidth;var shapeWidth=legend.shapeWidth;var shapePadding=legend.shapePadding;var maximumWidth=0;var rowWidth=0;var legendWidth=0;var columnHeight=0;var rowCount=0;var titlePlusArrowSpace=0;var legendEventArgs;this.maxItemHeight=Math.max(sf.svgbase.measureText('MeasureText',legend.textStyle).height,legend.shapeHeight);var render=false;for(var _i=0,_a=this.legendCollections;_i<_a.length;_i++){var legendOption=_a[_i];if(regSub.test(legendOption.text)){legendOption.text=getUnicodeText(legendOption.text,regSub);}if(regSup.test(legendOption.text)){legendOption.text=getUnicodeText(legendOption.text,regSup);}legendEventArgs={fill:legendOption.fill,text:legendOption.text,shape:legendOption.shape,markerShape:legendOption.markerShape,name:legendRender,cancel:false};this.chart.trigger(legendRender,legendEventArgs);legendOption.render=!legendEventArgs.cancel;legendOption.text=legendEventArgs.text;legendOption.fill=legendEventArgs.fill;legendOption.shape=legendEventArgs.shape;legendOption.markerShape=legendEventArgs.markerShape;legendOption.textSize=sf.svgbase.measureText(legendOption.text,legend.textStyle);if(legendOption.render&&legendOption.text!==''){render=true;legendWidth=shapeWidth+shapePadding+legendOption.textSize.width+padding;rowWidth=rowWidth+legendWidth;if(!legend.enablePages&&!this.isVertical){titlePlusArrowSpace=this.isTitle&&titlePosition!=='Top'?this.legendTitleSize.width+this.fivePixel:0;titlePlusArrowSpace+=arrowWidth;}if(legendBounds.width<padding+rowWidth+titlePlusArrowSpace||this.isVertical){maximumWidth=Math.max(maximumWidth,rowWidth+padding+titlePlusArrowSpace-(this.isVertical?0:legendWidth));if(rowCount===0&&legendWidth!==rowWidth){rowCount=1;}rowWidth=this.isVertical?0:legendWidth;rowCount++;columnHeight=rowCount*(this.maxItemHeight+padding)+padding+titleSpace+verticalArrowSpace;}}}columnHeight=Math.max(columnHeight,this.maxItemHeight+padding+padding+titleSpace);this.isPaging=legendBounds.height<columnHeight;if(this.isPaging&&!legend.enablePages){if(this.isVertical){// eslint-disable-next-line no-self-assign
columnHeight=columnHeight;}else{columnHeight=this.maxItemHeight+padding+padding+(titlePosition==='Top'?titleSpace:0);}}this.totalPages=rowCount;if(!this.isPaging&&!this.isVertical){rowWidth+=this.isTitle&&titlePosition!=='Top'?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0;}if(render){this.setBounds(Math.max(rowWidth+padding,maximumWidth),columnHeight,legend,legendBounds);}else{this.setBounds(0,0,legend,legendBounds);}};/** @private */Legend.prototype.getRenderPoint=function(legendOption,start,textPadding,prevLegend,rect,count,firstLegend){var padding=this.legend.padding;var previousBound=prevLegend.location.x+textPadding+prevLegend.textSize.width;if(previousBound+(legendOption.textSize.width+textPadding)>rect.x+rect.width+this.legend.shapeWidth/2||this.isVertical){legendOption.location.x=start.x;legendOption.location.y=count===firstLegend?prevLegend.location.y:prevLegend.location.y+this.maxItemHeight+padding;}else{legendOption.location.x=count===firstLegend?prevLegend.location.x:previousBound;legendOption.location.y=prevLegend.location.y;}var availwidth=this.legendBounds.x+this.legendBounds.width-(legendOption.location.x+textPadding-this.legend.shapeWidth/2);legendOption.text=textTrim(+availwidth.toFixed(4),legendOption.text,this.legend.textStyle);};/** @private */Legend.prototype.LegendClick=function(index,event){var chart=this.chart;var seriesIndex=chart.legendSettings.mode==='Series'?index:0;var series=chart.visibleSeries[seriesIndex];var legend=this.legendCollections[index];var changeDetection='isProtectedOnChange';if(chart.legendSettings.mode==='Series'){var legendClickArgs={legendText:legend.text,legendShape:legend.shape,chart:chart.isBlazor?{}:chart,series:series,points:series.points,name:legendClick,cancel:false};this.chart.trigger(legendClick,legendClickArgs);series.legendShape=legendClickArgs.legendShape;if(series.fill!==null){chart.visibleSeries[index].interior=series.fill;}if(chart.legendSettings.toggleVisibility){if(series.category==='TrendLine'){if(!chart.series[series.sourceIndex].trendlines[series.index].visible){chart.series[series.sourceIndex].trendlines[series.index].visible=true;}else{chart.series[series.sourceIndex].trendlines[series.index].visible=false;}}else{series.chart[changeDetection]=true;this.changeSeriesVisiblity(series,series.visible);}legend.visible=series.category==='TrendLine'?chart.series[series.sourceIndex].trendlines[series.index].visible:series.visible;this.refreshLegendToggle(chart,series);}else if(chart.selectionModule){chart.selectionModule.legendSelection(chart,index,event);}else if(chart.highlightModule){chart.highlightModule.legendSelection(chart,index,event);}series.chart[changeDetection]=false;}else if(chart.legendSettings.mode==='Point'){var point=series.points[index];var legendClickArgs={legendText:legend.text,legendShape:legend.shape,chart:chart.isBlazor?{}:chart,series:series,points:[point],name:legendClick,cancel:false};this.chart.trigger(legendClick,legendClickArgs);if(chart.legendSettings.toggleVisibility){point.visible=!point.visible;var legendOption=this.legendCollections[index];legendOption.visible=point.visible;this.refreshLegendToggle(chart,series);}}else if(chart.legendSettings.mode==='Range'){var points=[];var legendOption=this.legendCollections[index];for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];if(legendOption.fill===(point.interior||series.interior)){points.push(point);}}var legendClickArgs={legendText:legend.text,legendShape:legend.shape,chart:chart.isBlazor?{}:chart,series:series,points:points,name:legendClick,cancel:false};this.chart.trigger(legendClick,legendClickArgs);if(chart.legendSettings.toggleVisibility){legendOption.visible=!legendOption.visible;for(var _b=0,points_1=points;_b<points_1.length;_b++){var point=points_1[_b];point.visible=!point.visible;}this.refreshLegendToggle(chart,series);}}};Legend.prototype.refreshLegendToggle=function(chart,series){var selectedDataIndexes=[];if(chart.selectionModule){selectedDataIndexes=sf.base.extend([],chart.selectionModule.selectedDataIndexes,null,true);}if(chart.svgObject.childNodes.length>0&&!chart.enableAnimation&&!chart.enableCanvas){while(chart.svgObject.lastChild){chart.svgObject.removeChild(chart.svgObject.lastChild);}sf.base.remove(chart.svgObject);}chart.animateSeries=false;chart.redraw=chart.enableAnimation;chart.rotatedDataLabelCollections=[];removeElement(sf.svgbase.getElement(chart.element.id+'_Secondary_Element').querySelectorAll('.ejSVGTooltip')[0]);blazorTemplatesReset(chart);this.redrawSeriesElements(series,chart);chart.removeSvg();chart.refreshAxis();series.refreshAxisLabel();this.refreshSeries(chart.visibleSeries);chart.markerRender.removeHighlightedMarker();chart.refreshBound();chart.trigger('loaded',{chart:chart});if(selectedDataIndexes.length>0){chart.selectionModule.selectedDataIndexes=selectedDataIndexes;chart.selectionModule.redrawSelection(chart,chart.selectionMode);}if(chart.highlightModule&&chart.highlightMode!=='None'){chart.highlightModule.redrawSelection(chart,chart.highlightMode);}chart.redraw=false;};Legend.prototype.changeSeriesVisiblity=function(series,visibility){series.visible=!visibility;if(this.isSecondaryAxis(series.xAxis)){series.xAxis.internalVisibility=series.xAxis.series.some(function(value){return value.visible;});}if(this.isSecondaryAxis(series.yAxis)){series.yAxis.internalVisibility=series.yAxis.series.some(function(value){return value.visible;});}};Legend.prototype.isSecondaryAxis=function(axis){return this.chart.axes.indexOf(axis)>-1;};Legend.prototype.redrawSeriesElements=function(series,chart){if(!chart.redraw){return null;}removeElement(chart.element.id+'_Series_'+(series.index===undefined?series.category:series.index)+'_DataLabelCollections');};Legend.prototype.refreshSeries=function(seriesCollection){for(var _i=0,seriesCollection_1=seriesCollection;_i<seriesCollection_1.length;_i++){var series=seriesCollection_1[_i];series.position=undefined;}};/**
     * To show the tooltip for the trimmed text in legend.
     *
     * @returns {void}
     */Legend.prototype.click=function(event){var _this=this;if(!this.chart.legendSettings.visible){return;}var pageX=this.chart.mouseX;var pageY=this.chart.mouseY;var legendRegion=[];var targetId=event.target.id;var legendItemsId=[this.legendID+'_text_',this.legendID+'_shape_marker_',this.legendID+'_shape_'];var seriesIndex;for(var _i=0,legendItemsId_1=legendItemsId;_i<legendItemsId_1.length;_i++){var id=legendItemsId_1[_i];if(targetId.indexOf(id)>-1){seriesIndex=parseInt(targetId.split(id)[1],10);this.LegendClick(seriesIndex,event);break;}}if(targetId.indexOf(this.legendID+'_pageup')>-1){this.changePage(event,true);}else if(targetId.indexOf(this.legendID+'_pagedown')>-1){this.changePage(event,false);}if(this.chart.enableCanvas&&this.pagingRegions.length){this.checkWithinBounds(pageX,pageY);}legendRegion=this.legendRegions.filter(function(region){return withInBounds(pageX,pageY+(_this.isPaging?(_this.currentPageNumber-1)*_this.translatePage(null,1,2):0),region.rect);});if(legendRegion.length&&this.chart.enableCanvas){this.LegendClick(legendRegion[0].index,event);}};/**
     * To check click position is within legend bounds
     */Legend.prototype.checkWithinBounds=function(pageX,pageY){var cRender=this.chart.renderer;var bounds=this.legendBounds;var borderWidth=this.chart.legendSettings.border.width;var canvasRect=new sf.svgbase.Rect(bounds.x,bounds.y,bounds.width,bounds.height);canvasRect.x=canvasRect.x-borderWidth/2;canvasRect.y=canvasRect.y-borderWidth/2;canvasRect.width=canvasRect.width+borderWidth;canvasRect.height=canvasRect.height+borderWidth;if(withInBounds(pageX,pageY,this.pagingRegions[0])){// pagedown calculations are performing here
if(--this.currentPageNumber>0){this.legendRegions=[];cRender.clearRect(canvasRect);cRender.canvasClip(new RectOption('legendClipPath','transparent',{width:0,color:''},null,canvasRect));this.renderLegend(this.chart,this.legend,bounds);cRender.canvasRestore();}else{++this.currentPageNumber;}return null;}if(withInBounds(pageX,pageY,this.pagingRegions[1])){// pageUp calculations are performing here
if(++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages){this.legendRegions=[];cRender.clearRect(canvasRect);cRender.canvasClip(new RectOption('legendClipPath','transpaent',{width:0,color:''},null,canvasRect));this.renderLegend(this.chart,this.legend,bounds);cRender.canvasRestore();}else{--this.currentPageNumber;}return null;}};/**
     * Get module name
     */Legend.prototype.getModuleName=function(){return'Legend';};/**
     * To destroy the Legend.
     *
     * @returns {void}
     * @private
     */Legend.prototype.destroy=function(){this.removeEventListener();};return Legend;}(BaseLegend);/**
 * Annotation Module handles the Annotation for chart and accumulation series.
 */var AnnotationBase=/** @class */function(){/**
     * Constructor for chart and accumulation annotation
     *
     * @param control
     */function AnnotationBase(control){this.control=control;}/**
     * Method to render the annotation for chart and accumulation series.
     *
     * @private
     * @param annotation
     * @param index
     */AnnotationBase.prototype.render=function(annotation,index){this.isChart=this.control.getModuleName()==='chart';this.annotation=annotation;var childElement=createTemplate(sf.base.createElement('div',{id:this.control.element.id+'_Annotation_'+index,styles:'position: absolute; z-index: 1'//by default z-index set for annotation elements
}),index,annotation.content,this.control);return childElement;};/**
     * Method to calculate the location for annotation - coordinate unit as pixel.
     *
     * @private
     * @param location
     */AnnotationBase.prototype.setAnnotationPixelValue=function(location){var rect=this.annotation.region==='Chart'?new sf.svgbase.Rect(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound;location.x=(typeof this.annotation.x!=='string'?typeof this.annotation.x==='number'?this.annotation.x:0:stringToNumber(this.annotation.x,rect.width))+rect.x;location.y=(typeof this.annotation.y==='number'?this.annotation.y:stringToNumber(this.annotation.y,rect.height))+rect.y;return true;};/**
     * Method to calculate the location for annotation - coordinate unit as point.
     *
     * @private
     * @param location
     */AnnotationBase.prototype.setAnnotationPointValue=function(location){var symbolLocation=new ChartLocation(0,0);if(this.isChart){var chart=this.control;var annotation=this.annotation;var xAxisName=annotation.xAxisName;var yAxisName=annotation.yAxisName;var isInverted=chart.requireInvertedAxis;var stockChart=this.control.stockChart;var xAxis=void 0;var yAxis=void 0;var xValue=void 0;for(var _i=0,_a=chart.axisCollections;_i<_a.length;_i++){var axis=_a[_i];if(xAxisName===axis.name||xAxisName==null&&axis.name==='primaryXAxis'){xAxis=axis;if(xAxis.valueType.indexOf('Category')>-1){var xAnnotation=xAxis.valueType==='DateTimeCategory'?annotation.x.getTime().toString():annotation.x;if(xAxis.labels.indexOf(xAnnotation)<0){return false;}else{xValue=xAxis.labels.indexOf(xAnnotation);}}else if(xAxis.valueType==='DateTime'){var option={skeleton:'full',type:'dateTime'};xValue=_typeof(this.annotation.x)==='object'||_typeof(new Date(this.annotation.x))==='object'?Date.parse(chart.intl.getDateParser(option)(chart.intl.getDateFormat(option)(new Date(sf.data.DataUtil.parse.parseJson({val:annotation.x}).val)))):0;}else{xValue=+annotation.x;}}else if(yAxisName===axis.name||yAxisName==null&&axis.name==='primaryYAxis'){yAxis=axis;}}if(xAxis&&yAxis&&withIn(xAxis.valueType==='Logarithmic'?logBase(xValue,xAxis.logBase):xValue,xAxis.visibleRange)&&withIn(yAxis.valueType==='Logarithmic'?logBase(+annotation.y,yAxis.logBase):+annotation.y,yAxis.visibleRange)){symbolLocation=getPoint(xValue,+annotation.y,xAxis,yAxis,isInverted);location.x=symbolLocation.x+(isInverted?yAxis.rect.x:xAxis.rect.x);// for stockchart, stockchart's toolbar height and title size is added for annotation content
location.y=symbolLocation.y+(isInverted?xAxis.rect.y:yAxis.rect.y)+(stockChart&&stockChart.enablePeriodSelector?stockChart.toolbarHeight+stockChart.titleSize.height:0);}else{return false;}return true;}else{return this.setAccumulationPointValue(location);}};/**
     * To process the annotation for accumulation chart
     *
     * @param annotation
     * @param index
     * @param parentElement
     */AnnotationBase.prototype.processAnnotation=function(annotation,index,parentElement){var chart=this.control;var location=new ChartLocation(0,0);var annotationElement=this.render(annotation,index);var annotationRendered=function annotationRendered(){annotationElement.style.transform='translate(-50%, -50%)';};annotationRendered.bind(location,this);if(this['setAnnotation'+annotation.coordinateUnits+'Value'](location)){this.setElementStyle(location,annotationElement,parentElement);}else if(this.control.redraw){removeElement(annotationElement.id);}sf.base.updateBlazorTemplate((this.control.element.id+'Annotation'+index).replace(/[^a-zA-Z0-9]/g,''),'ContentTemplate',chart.stockChart?chart.stockChart.annotations[index]:this.control.annotations[index],undefined,annotationRendered);};/**
     * Method to calculate the location for annotation - coordinate unit as point in accumulation chart.
     *
     * @private
     * @param location
     */AnnotationBase.prototype.setAccumulationPointValue=function(location){var accumulation=this.control;var point;for(var _i=0,_a=accumulation.visibleSeries[0].points;_i<_a.length;_i++){var accPoint=_a[_i];if(_typeof(accPoint.x)==='object'){if(Date.parse(accPoint.x)===Date.parse(this.annotation.x)&&accPoint.y===this.annotation.y){point=accPoint;break;}}else{if(accPoint.x==this.annotation.x&&accPoint.y==this.annotation.y){point=accPoint;break;}}}if(point&&point.visible){location.x=point.symbolLocation.x;location.y=point.symbolLocation.y;return true;}else{return false;}};/**
     * Method to set the element style for accumulation / chart annotation.
     *
     * @private
     * @param location
     * @param element
     * @param parentElement
     */AnnotationBase.prototype.setElementStyle=function(location,element,parentElement){var elementRect=measureElementRect(element,this.control.redraw);var argsData={cancel:false,name:annotationRender,content:element,location:location};this.control.trigger(annotationRender,argsData);if(!argsData.cancel){argsData.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,elementRect.width,argsData.location.x)+'px';argsData.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,elementRect.height,argsData.location.y)+'px';argsData.content.setAttribute('aria-label',this.annotation.description||'Annotation');appendElement(argsData.content,parentElement,this.control.redraw,true,'left','top');}};/**
     * Method to calculate the alignment value for annotation.
     *
     * @private
     * @param alignment
     * @param size
     * @param value
     */AnnotationBase.prototype.setAlignmentValue=function(alignment,size,value){switch(alignment){case'Top':case'Near':value-=size;break;case'Bottom':case'Far':value+=0;break;case'Middle':case'Center':value-=size/2;break;}return value;};return AnnotationBase;}();var __extends$59=undefined&&undefined.__extends||function(){var _extendStatics60=function extendStatics(d,b){_extendStatics60=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics60(d,b);};return function(d,b){_extendStatics60(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `ChartAnnotation` module handles the annotation for chart.
 */var ChartAnnotation=/** @class */function(_super){__extends$59(ChartAnnotation,_super);/**
     * Constructor for chart annotation.
     *
     * @private
     */function ChartAnnotation(control,annotations){var _this=_super.call(this,control)||this;_this.chart=control;_this.annotations=annotations;return _this;}/**
     * Method to render the annotation for chart
     *
     * @param {Element} element annotation element
     * @private
     */ChartAnnotation.prototype.renderAnnotations=function(element){var _this=this;this.annotations=this.chart.annotations;this.parentElement=redrawElement(this.chart.redraw,this.chart.element.id+'_Annotation_Collections')||sf.base.createElement('div',{id:this.chart.element.id+'_Annotation_Collections'});this.annotations.map(function(annotation,index){_this.processAnnotation(annotation,index,_this.parentElement);});appendElement(this.parentElement,element,this.chart.redraw);};/**
     * To destroy the annotation.
     *
     * @returns {void}
     * @private
     */ChartAnnotation.prototype.destroy=function(){// Destroy method performed here
};/**
     * Get module name.
     */ChartAnnotation.prototype.getModuleName=function(){// Returns te module name
return'Annotation';};return ChartAnnotation;}(AnnotationBase);var __extends$60=undefined&&undefined.__extends||function(){var _extendStatics61=function extendStatics(d,b){_extendStatics61=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics61(d,b);};return function(d,b){_extendStatics61(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `BoxAndWhiskerSeries` module is used to render the box and whisker series.
 */var BoxAndWhiskerSeries=/** @class */function(_super){__extends$60(BoxAndWhiskerSeries,_super);function BoxAndWhiskerSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render BoxAndWhisker series.
     *
     * @returns {void}
     * @private
     */BoxAndWhiskerSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var sideBySideInfo=this.getSideBySideInfo(series);var argsData;for(var _i=0,_a=series.points;_i<_a.length;_i++){var point=_a[_i];point.symbolLocations=[];point.regions=[];var centerRegion=void 0;if(point.visible&&withInRange(series.points[point.index-1],point,series.points[point.index+1],series)){this.findBoxPlotValues(point.y,point,series.boxPlotMode);//region to cover the top and bottom ticks
this.updateTipRegion(series,point,sideBySideInfo);//get middle rect
centerRegion=this.getRectangle(point.xValue+sideBySideInfo.start,point.upperQuartile,point.xValue+sideBySideInfo.end,point.lowerQuartile,series);point.regions.push(centerRegion);argsData=this.triggerEvent(series,point,series.interior,{color:!sf.base.isNullOrUndefined(series.border.color)&&series.border.color!=='transparent'?series.border.color:getSaturationColor(series.interior,-0.6),width:series.border.width?series.border.width:1});if(!argsData.cancel){this.renderBoxAndWhisker(series,point,argsData,this.getPathString(point,series,getPoint(point.xValue,point.median,xAxis,yAxis,isInverted),getPoint(point.xValue+sideBySideInfo.median,point.average,xAxis,yAxis,isInverted)),sideBySideInfo.median);}}}if(series.marker.visible){series.chart.markerRender.render(series);}};/**
     * update the tip region fo box plot
     *
     * @param {Series} series series
     * @param {Points} point point
     * @param {DoubleRange} sideBySideInfo sideBySideInfo
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.updateTipRegion=function(series,point,sideBySideInfo){var tipRegion=this.getRectangle(point.xValue+sideBySideInfo.median,point.maximum,point.xValue+sideBySideInfo.median,point.minimum,series);this.updateTipSize(series,point,tipRegion,series.chart.requireInvertedAxis);};/**
     * Update tip size to tip regions
     *
     * @param {Series} series Series
     * @param {Points} point Points
     * @param {Rect} region rect region
     * @param {boolean} isInverted isInverted
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.updateTipSize=function(series,point,region,isInverted){var borderWidth=series.border.width||1;if(!isInverted){region.x-=borderWidth/2;region.width=region.width||borderWidth;}else{region.y-=borderWidth/2;region.height=region.height||borderWidth;}point.regions.push(region);};/**
     * Calculation for path direction performed here
     *
     * @param {Points} point point
     * @param {Series} series series
     * @param {ChartLocation} median median
     * @param {ChartLocation} average average
     * @returns {string} direction
     */BoxAndWhiskerSeries.prototype.getPathString=function(point,series,median,average){var topRect=point.regions[0];var midRect=point.regions[1];var direction='';var center=series.chart.requireInvertedAxis?topRect.y+topRect.height/2:topRect.x+topRect.width/2;var midWidth=midRect.x+midRect.width;var midHeight=midRect.y+midRect.height;var topWidth=topRect.x+topRect.width;var topHeight=topRect.y+topRect.height;if(!series.chart.requireInvertedAxis){this.updateTipSize(series,point,{x:midRect.x,y:topRect.y,width:midWidth-midRect.x,height:0},true);this.updateTipSize(series,point,{x:midRect.x,y:topHeight,width:midWidth-midRect.x,height:0},true);direction+='M '+midRect.x+' '+topRect.y+' '+' L '+midWidth+' '+topRect.y;direction+=' M '+center+' '+topRect.y+' '+' L '+center+' '+midRect.y;direction+=' M '+midRect.x+' '+midRect.y+' '+' L '+midWidth+' '+midRect.y+' L '+midWidth+' '+midHeight+' L '+midRect.x+' '+midHeight+' Z';direction+=' M '+center+' '+midHeight+' L '+center+' '+topHeight;direction+=' M '+midRect.x+' '+topHeight+' L '+midWidth+' '+topHeight;direction+=' M '+midRect.x+' '+median.y+' L '+midWidth+' '+median.y;direction+=series.showMean?' M '+(average.x-5)+' '+(average.y-5)+' L '+(average.x+5)+' '+(average.y+5)+' M '+(average.x+5)+' '+(average.y-5)+' L '+(average.x-5)+' '+(average.y+5):'';}else{this.updateTipSize(series,point,{x:topRect.x,y:midRect.y,width:0,height:midHeight-midRect.y},false);this.updateTipSize(series,point,{x:topWidth,y:midRect.y,width:0,height:midHeight-midRect.y},true);direction+='M '+topRect.x+' '+midRect.y+' L '+topRect.x+' '+midHeight;direction+='M '+topRect.x+' '+center+' '+' L '+midRect.x+' '+center;direction+=' M '+midRect.x+' '+midRect.y+' '+' L '+midWidth+' '+midRect.y+' L '+midWidth+' '+midHeight+' L '+midRect.x+' '+midHeight+' Z';direction+=' M '+midWidth+' '+center+' L '+topWidth+' '+center;direction+=' M '+topWidth+' '+midRect.y+' L '+topWidth+' '+midHeight;direction+=' M '+median.x+' '+midRect.y+' '+' L '+median.x+' '+midHeight;direction+=series.showMean?'M '+(average.x+5)+' '+(average.y-5)+' L '+(average.x-5)+' '+(average.y+5)+'M '+(average.x-5)+' '+(average.y-5)+' L '+(average.x+5)+' '+(average.y+5):'';}return direction;};/**
     * Rendering for box and whisker append here.
     *
     * @param {Series} series series
     * @param {Points} point point
     * @param {IPointRenderEventArgs} argsData argsData
     * @param {string} direction path direction
     * @param {number} median median
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.renderBoxAndWhisker=function(series,point,argsData,direction,median){var location;var size;var symbolId=series.chart.element.id+'_Series_'+series.index+'_Point_'+point.index;var element=series.chart.renderer.drawPath(new sf.svgbase.PathOption(symbolId+'_BoxPath',argsData.fill,argsData.border.width,argsData.border.color,series.opacity,series.dashArray,direction));element.setAttribute('aria-label',point.x.toString()+':'+point.maximum.toString()+':'+point.minimum.toString()+':'+point.lowerQuartile.toString()+':'+point.upperQuartile.toString());var parentElement=series.chart.renderer.createGroup({'id':symbolId});parentElement.appendChild(element);for(var i=0;i<point.outliers.length;i++){location=getPoint(point.xValue+median,point.outliers[i],series.xAxis,series.yAxis,series.chart.requireInvertedAxis);size=new sf.svgbase.Size(series.marker.width,series.marker.height);point.symbolLocations.push(location);this.updateTipSize(series,point,{x:location.x-size.width/2,y:location.y-size.height/2,width:size.width,height:size.height},true);}series.seriesElement.appendChild(parentElement);};/**
     * To find the box plot values
     *
     * @param {number[]} yValues yValues
     * @param {Points} point point
     * @param {BoxPlotMode} mode mode
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.findBoxPlotValues=function(yValues,point,mode){var yCount=yValues.length;var quartile={average:sum(yValues)/yCount,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};if(mode==='Exclusive'){quartile.lowerQuartile=this.getExclusiveQuartileValue(yValues,yCount,0.25);quartile.upperQuartile=this.getExclusiveQuartileValue(yValues,yCount,0.75);quartile.median=this.getExclusiveQuartileValue(yValues,yCount,0.5);}else if(mode==='Inclusive'){quartile.lowerQuartile=this.getInclusiveQuartileValue(yValues,yCount,0.25);quartile.upperQuartile=this.getInclusiveQuartileValue(yValues,yCount,0.75);quartile.median=this.getInclusiveQuartileValue(yValues,yCount,0.5);}else{quartile.median=getMedian(yValues);this.getQuartileValues(yValues,yCount,quartile);}this.getMinMaxOutlier(yValues,yCount,quartile);point.minimum=quartile.minimum;point.maximum=quartile.maximum;point.lowerQuartile=quartile.lowerQuartile;point.upperQuartile=quartile.upperQuartile;point.median=quartile.median;point.outliers=quartile.outliers;point.average=quartile.average;};/**
     * to find the exclusive quartile values
     *
     * @param {number[]} yValues yValues
     * @param {number} count count
     * @param {number} percentile percentile
     * @returns {number} exclusive quartile value
     */BoxAndWhiskerSeries.prototype.getExclusiveQuartileValue=function(yValues,count,percentile){if(count===0){return 0;}else if(count===1){return yValues[0];}var value=0;var rank=percentile*(count+1);var integerRank=Math.floor(Math.abs(rank));var fractionRank=rank-integerRank;if(integerRank===0){value=yValues[0];}else if(integerRank>count-1){value=yValues[count-1];}else{value=fractionRank*(yValues[integerRank]-yValues[integerRank-1])+yValues[integerRank-1];}return value;};/**
     * to find the inclusive quartile values
     *
     * @param {number[]} yValues yValues
     * @param {number} count count
     * @param {number} percentile percentile
     * @returns {number} inclusive quartile value
     */BoxAndWhiskerSeries.prototype.getInclusiveQuartileValue=function(yValues,count,percentile){if(count===0){return 0;}else if(count===1){return yValues[0];}var value=0;var rank=percentile*(count-1);var integerRank=Math.floor(Math.abs(rank));var fractionRank=rank-integerRank;value=fractionRank*(yValues[integerRank+1]-yValues[integerRank])+yValues[integerRank];return value;};/**
     * To find the quartile values
     *
     * @param {number[]} yValues yValues
     * @param {number} count count
     * @param {IBoxPlotQuartile} quartile quartile
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.getQuartileValues=function(yValues,count,quartile){if(count===1){quartile.lowerQuartile=yValues[0];quartile.upperQuartile=yValues[0];return null;}var isEvenList=count%2===0;var halfLength=count/2;var lowerQuartileArray=yValues.slice(0,halfLength);var upperQuartileArray=yValues.slice(isEvenList?halfLength:halfLength+1,count);quartile.lowerQuartile=getMedian(lowerQuartileArray);quartile.upperQuartile=getMedian(upperQuartileArray);};/**
     * To find the min, max and outlier values
     *
     * @param {number[]} yValues yValues
     * @param {number} count count
     * @param {IBoxPlotQuartile} quartile quartile
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.getMinMaxOutlier=function(yValues,count,quartile){var interquartile=quartile.upperQuartile-quartile.lowerQuartile;var rangeIQR=1.5*interquartile;for(var i=0;i<count;i++){if(yValues[i]<quartile.lowerQuartile-rangeIQR){quartile.outliers.push(yValues[i]);}else{quartile.minimum=yValues[i];break;}}for(var i=count-1;i>=0;i--){if(yValues[i]>quartile.upperQuartile+rangeIQR){quartile.outliers.push(yValues[i]);}else{quartile.maximum=yValues[i];break;}}};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */BoxAndWhiskerSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * Get module name.
     *
     * @returns {string} module name
     */BoxAndWhiskerSeries.prototype.getModuleName=function(){return'BoxAndWhiskerSeries';/**
         * return the module name
         */};/**
     * To destroy the candle series.
     *
     * @returns {void}
     * @private
     */BoxAndWhiskerSeries.prototype.destroy=function(){/**
         * Destroys the candle series.
         */};return BoxAndWhiskerSeries;}(ColumnBase);var __extends$61=undefined&&undefined.__extends||function(){var _extendStatics62=function extendStatics(d,b){_extendStatics62=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics62(d,b);};return function(d,b){_extendStatics62(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `MultiColoredAreaSeries` module used to render the area series with multi color.
 */var MultiColoredAreaSeries=/** @class */function(_super){__extends$61(MultiColoredAreaSeries,_super);function MultiColoredAreaSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Area series.
     *
     * @returns {void}
     * @private
     */MultiColoredAreaSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var _this=this;var firstPoint;var startPoint=null;var direction='';var origin=Math.max(series.yAxis.visibleRange.min,0);var options=[];var startRegion;var previous;var rendered;var segments=this.sortSegments(series,series.segments);series.visiblePoints.map(function(point,i,seriesPoints){point.symbolLocations=[];point.regions=[];rendered=false;if(point.visible&&withInRange(seriesPoints[i-1],point,seriesPoints[i+1],series)){direction+=_this.getAreaPathDirection(point.xValue,origin,series,isInverted,getPoint,startPoint,'M');startPoint=startPoint||new ChartLocation(point.xValue,origin);firstPoint=getPoint(point.xValue,point.yValue,xAxis,yAxis,isInverted);if(previous&&_this.setPointColor(point,previous,series,series.segmentAxis==='X',segments)){rendered=true;startRegion=getPoint(startPoint.x,origin,xAxis,yAxis,isInverted);direction+='L'+' '+firstPoint.x+' '+firstPoint.y+' ';direction+='L'+' '+firstPoint.x+' '+startRegion.y+' ';_this.generatePathOption(options,series,previous,direction,'_Point_'+previous.index);direction='M'+' '+firstPoint.x+' '+startRegion.y+' '+'L'+' '+firstPoint.x+' '+firstPoint.y+' ';}else{direction+='L'+' '+firstPoint.x+' '+firstPoint.y+' ';_this.setPointColor(point,null,series,series.segmentAxis==='X',segments);}if(seriesPoints[i+1]&&!seriesPoints[i+1].visible&&series.emptyPointSettings.mode!=='Drop'){direction+=_this.getAreaEmptyDirection({'x':point.xValue,'y':origin},startPoint,series,isInverted,getPoint);startPoint=null;}previous=point;_this.storePointLocation(point,series,isInverted,getPoint);}});if(!sf.base.isNullOrUndefined(rendered)&&!rendered){direction=series.points.length>1?direction+this.getAreaPathDirection(previous.xValue,origin,series,isInverted,getPoint,null,'L'):'';this.generatePathOption(options,series,previous,direction,'');}this.applySegmentAxis(series,options,segments);this.renderMarker(series);};/**
     * To Store the path directions of the area
     */MultiColoredAreaSeries.prototype.generatePathOption=function(options,series,point,direction,id){options.push(new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+id,series.setPointColor(point,series.interior),series.border.width,series.border.color,series.opacity,series.dashArray,direction));};/**
     * To destroy the area series.
     *
     * @returns {void}
     * @private
     */MultiColoredAreaSeries.prototype.destroy=function(){/**
         * Destroy method calling here
         */};/**
     * Get module name
     */MultiColoredAreaSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'MultiColoredAreaSeries';};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */MultiColoredAreaSeries.prototype.doAnimation=function(series){this.doLinearAnimation(series,series.animation);};return MultiColoredAreaSeries;}(MultiColoredSeries);var __extends$62=undefined&&undefined.__extends||function(){var _extendStatics63=function extendStatics(d,b){_extendStatics63=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics63(d,b);};return function(d,b){_extendStatics63(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/* eslint-disable @typescript-eslint/no-inferrable-types */ /* eslint-disable valid-jsdoc */ /* eslint-disable jsdoc/require-param */ /**
 * `MultiColoredLineSeries` used to render the line series with multi color.
 */var MultiColoredLineSeries=/** @class */function(_super){__extends$62(MultiColoredLineSeries,_super);function MultiColoredLineSeries(){return _super!==null&&_super.apply(this,arguments)||this;}/**
     * Render Line Series.
     *
     * @returns {void}
     * @private
     */MultiColoredLineSeries.prototype.render=function(series,xAxis,yAxis,isInverted){var previous=null;var startPoint='M';var visiblePoints=this.enableComplexProperty(series);var options=[];var direction='';var segments=this.sortSegments(series,series.segments);for(var _i=0,visiblePoints_1=visiblePoints;_i<visiblePoints_1.length;_i++){var point=visiblePoints_1[_i];point.regions=[];if(point.visible&&withInRange(visiblePoints[point.index-1],point,visiblePoints[point.index+1],series)){direction+=this.getLineDirection(previous,point,series,isInverted,getPoint,startPoint);if(previous!=null){if(this.setPointColor(point,previous,series,series.segmentAxis==='X',segments)){options.push(new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index+'_Point_'+previous.index,'none',series.width,series.setPointColor(previous,series.interior),series.opacity,series.dashArray,direction));startPoint='M';direction='';}else{startPoint='L';}}else{this.setPointColor(point,null,series,series.segmentAxis==='X',segments);}previous=point;this.storePointLocation(point,series,isInverted,getPoint);}else{previous=series.emptyPointSettings.mode==='Drop'?previous:null;startPoint=series.emptyPointSettings.mode==='Drop'?startPoint:'M';point.symbolLocations=[];}}if(direction!==''){options.push(new sf.svgbase.PathOption(series.chart.element.id+'_Series_'+series.index,'none',series.width,series.setPointColor(visiblePoints[visiblePoints.length-1],series.interior),series.opacity,series.dashArray,direction));}this.applySegmentAxis(series,options,segments);this.renderMarker(series);};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */MultiColoredLineSeries.prototype.doAnimation=function(series){this.doLinearAnimation(series,series.animation);};/**
     * Get module name.
     */MultiColoredLineSeries.prototype.getModuleName=function(){/**
         * Returns the module name of the series
         */return'MultiColoredLineSeries';};/**
     * To destroy the line series.
     *
     * @returns {void}
     * @private
     */MultiColoredLineSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return MultiColoredLineSeries;}(MultiColoredSeries);/**
 * `MultiLevelLabel` module is used to render the multi level label in chart.
 */var MultiLevelLabel=/** @class */function(){/**
     * Constructor for the logerithmic module.
     *
     * @private
     */function MultiLevelLabel(chart){/** @private */this.xAxisPrevHeight=[];/** @private */this.xAxisMultiLabelHeight=[];/** @private */this.yAxisPrevHeight=[];/** @private */this.yAxisMultiLabelHeight=[];this.chart=chart;this.addEventListener();}/**
     * Binding events for multi level module.
     */MultiLevelLabel.prototype.addEventListener=function(){if(this.chart.isDestroyed){return;}this.chart.on('click',this.click,this);};/**
     * Finds multilevel label height
     *
     * @returns {void}
     */MultiLevelLabel.prototype.getMultilevelLabelsHeight=function(axis){var value=0;var multiLevelLabelsHeight=[];var prevHeight=[];var isVertical=axis.orientation==='Vertical';var axisValue=isVertical?axis.rect.height:axis.rect.width;var labelSize;var height;var padding=10;var gap;axis.multiLevelLabels.map(function(multiLevel,index){multiLevel.categories.map(function(categoryLabel){if(categoryLabel.text!==''&&categoryLabel.start!==null&&categoryLabel.end!==null){labelSize=sf.svgbase.measureText(categoryLabel.text,multiLevel.textStyle);height=isVertical?labelSize.width:labelSize.height;height+=2*multiLevel.border.width+(multiLevel.border.type==='CurlyBrace'?padding:0);gap=categoryLabel.maximumTextWidth!==null?categoryLabel.maximumTextWidth:valueToCoefficient(typeof categoryLabel.end==='string'?Number(new Date(categoryLabel.end)):categoryLabel.end,axis)*axisValue-valueToCoefficient(typeof categoryLabel.start==='string'?Number(new Date(categoryLabel.start)):categoryLabel.start,axis)*axisValue;if(labelSize.width>gap-padding&&gap>0&&multiLevel.overflow==='Wrap'&&!isVertical){height=height*textWrap(categoryLabel.text,gap-padding,multiLevel.textStyle).length;}multiLevelLabelsHeight[index]=!multiLevelLabelsHeight[index]?height:multiLevelLabelsHeight[index]<height?height:multiLevelLabelsHeight[index];}});prevHeight[index]=value;value+=multiLevelLabelsHeight[index]?multiLevelLabelsHeight[index]+padding:0;});axis.multiLevelLabelHeight=value+(axis.title!==''||this.chart.legendModule&&this.chart.legendSettings.visible?padding/2:0);if(isVertical){this.yAxisMultiLabelHeight=multiLevelLabelsHeight;this.yAxisPrevHeight=prevHeight;}else{this.xAxisMultiLabelHeight=multiLevelLabelsHeight;this.xAxisPrevHeight=prevHeight;}};/**
     * render x axis multi level labels
     *
     * @private
     * @returns {void}
     */MultiLevelLabel.prototype.renderXAxisMultiLevelLabels=function(axis,index,parent,axisRect){var _this=this;var x;var y;var padding=10;var startX;var pointIndex;var startY=(axis.labelPosition===axis.tickPosition?axis.majorTickLines.height:0)+axis.maxLabelSize.height+padding;var endX;var pathRect='';var start;var end;var labelSize;var isOutside=axis.labelPosition==='Outside';var gap;var anchor;var isInversed=axis.isInversed;var argsData;var opposedPosition=axis.opposedPosition;var scrollBarHeight=axis.scrollbarSettings.enable||isOutside&&sf.base.isNullOrUndefined(axis.crossesAt)?axis.scrollBarHeight:0;var clipY=opposedPosition&&!isOutside||!opposedPosition&&isOutside?axisRect.y+startY-axis.majorTickLines.width:axisRect.y-startY-axis.multiLevelLabelHeight;this.createClipRect(axisRect.x-axis.majorTickLines.width,clipY+scrollBarHeight,axis.multiLevelLabelHeight+padding,axisRect.width+2*axis.majorTickLines.width,this.chart.element.id+'_XAxis_Clippath_'+index,this.chart.element.id+'XAxisMultiLevelLabel'+index);axis.multiLevelLabels.map(function(multiLevel,level){pointIndex=0;_this.labelElement=_this.chart.renderer.createGroup({id:_this.chart.element.id+index+'_MultiLevelLabel'+level});multiLevel.categories.map(function(categoryLabel,i){pathRect='';start=typeof categoryLabel.start==='string'?Number(new Date(categoryLabel.start)):categoryLabel.start;end=typeof categoryLabel.end==='string'?Number(new Date(categoryLabel.end)):categoryLabel.end;argsData=_this.triggerMultiLabelRender(axis,categoryLabel.text,axis.multiLevelLabels[level].textStyle,axis.multiLevelLabels[level].alignment,categoryLabel.customAttributes);if(!argsData.cancel){startX=valueToCoefficient(start,axis)*axisRect.width;endX=valueToCoefficient(end,axis)*axisRect.width;endX=isInversed?[startX,startX=endX][0]:endX;labelSize=sf.svgbase.measureText(argsData.text,argsData.textStyle);gap=(categoryLabel.maximumTextWidth===null?endX-startX:categoryLabel.maximumTextWidth)-padding;x=startX+axisRect.x+padding;y=(opposedPosition&&!isOutside||!opposedPosition&&isOutside?startY+axisRect.y+labelSize.height/2+padding+_this.xAxisPrevHeight[level]:axisRect.y-startY+labelSize.height/2-_this.xAxisMultiLabelHeight[level]-_this.xAxisPrevHeight[level])+scrollBarHeight;if(argsData.alignment==='Center'){x+=(endX-startX-padding)/2;anchor='middle';}else if(argsData.alignment==='Far'){x=x+(endX-startX-padding)-multiLevel.border.width/2;anchor='end';}else{anchor='start';x+=multiLevel.border.width/2;}y=multiLevel.border.type==='CurlyBrace'?!opposedPosition&&isOutside||opposedPosition&&!isOutside?y+padding:y-padding/2:y;var options=new sf.svgbase.TextOption(_this.chart.element.id+index+'_Axis_MultiLevelLabel_Level_'+level+'_Text_'+i,x,y,anchor,argsData.text);if(multiLevel.overflow!=='None'){options.text=multiLevel.overflow==='Wrap'?textWrap(argsData.text,gap,argsData.textStyle):textTrim(gap,argsData.text,argsData.textStyle);options.x=options.x-padding/2;}textElement(_this.chart.renderer,options,argsData.textStyle,argsData.textStyle.color||_this.chart.themeStyle.axisLabel,_this.labelElement,false,_this.chart.redraw,true,null,null,null,null,null,_this.chart.enableCanvas);if(multiLevel.border.width>0&&multiLevel.border.type!=='WithoutBorder'){pathRect=_this.renderXAxisLabelBorder(level,endX-startX-padding,axis,startX,startY,labelSize,options,axisRect,argsData.alignment,pathRect,isOutside,opposedPosition,pointIndex);// fix for generating seperate rect
if(pathRect!==''){_this.createBorderElement(level,index,axis,pathRect,pointIndex);pointIndex++;}}if(!_this.chart.enableCanvas){_this.multiElements.appendChild(_this.labelElement);}}});});if(!this.chart.enableCanvas){parent.appendChild(this.multiElements);}};/**
     * render x axis multi level labels border
     *
     * @private
     * @returns {void}
     */MultiLevelLabel.prototype.renderXAxisLabelBorder=function(labelIndex,gap,axis,startX,startY,labelSize,textOptions,axisRect,alignment,path,isOutside,opposedPosition,categoryIndex){var padding=10;var padding1;var padding2;var value;var value1;var groupLabel=axis.multiLevelLabels[labelIndex];var categoryType=groupLabel.categories[categoryIndex].type;var width=gap+padding;var height=this.xAxisMultiLabelHeight[labelIndex]+padding;var scrollBarHeight=axis.labelPosition==='Outside'?axis.scrollBarHeight:0;var x=startX+axisRect.x;var y=!opposedPosition&&isOutside||opposedPosition&&!isOutside?startY+axisRect.y+this.xAxisPrevHeight[labelIndex]+scrollBarHeight:axisRect.y-startY-this.xAxisPrevHeight[labelIndex]-scrollBarHeight;var borderType=categoryType?categoryType:groupLabel.border.type;switch(borderType){case'WithoutTopandBottomBorder':case'Rectangle':case'WithoutTopBorder':height=!opposedPosition&&isOutside||opposedPosition&&!isOutside?height:-height;path+='M '+x+' '+y+' L '+x+' '+(y+height)+' M '+(x+width)+' '+y+' L '+(x+width)+' '+(y+height);path+=borderType!=='WithoutTopandBottomBorder'?' L'+' '+x+' '+(y+height)+' ':' ';path+=borderType==='Rectangle'?'M '+x+' '+y+' L '+(x+width)+' '+y:' ';break;case'Brace':if(alignment==='Near'){value=textOptions.x;value1=textOptions.x+labelSize.width+2;}else if(alignment==='Center'){value=textOptions.x-labelSize.width/2-2;value1=textOptions.x+labelSize.width/2+2;}else{value=textOptions.x-labelSize.width-2;value1=textOptions.x;}height=!opposedPosition&&isOutside||opposedPosition&&!isOutside?height:-height;path+='M '+x+' '+y+' L '+x+' '+(y+height/2)+' M '+x+' '+(y+height/2)+' L '+(value-2)+' '+(y+height/2)+' M '+value1+' '+(y+height/2)+' L '+(x+width)+' '+(y+height/2)+' M '+(x+width)+' '+(y+height/2)+' L '+(x+width)+' '+y;break;case'CurlyBrace':if(!opposedPosition&&isOutside||opposedPosition&&!isOutside){padding=10;padding1=15;padding2=5;}else{padding=-10;padding1=-15;padding2=-5;}if(alignment==='Center'){path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+5)+' '+(y+padding)+' '+(x+10)+' '+(y+padding)+' L '+(x+width/2-5)+' '+(y+padding)+' L '+(x+width/2)+' '+(y+padding1)+' L '+(x+width/2+5)+' '+(y+padding)+' L '+(x+width-10)+' '+(y+padding)+' C '+(x+width-10)+' '+(y+padding)+' '+(x+width)+' '+(y+padding2)+' '+(x+width)+' '+y;}else if(alignment==='Near'){path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+5)+' '+(y+padding)+' '+(x+10)+' '+(y+padding)+' L '+(x+15)+' '+(y+padding1)+' L '+(x+20)+' '+(y+padding)+' L '+(x+width-10)+' '+(y+padding)+' C '+(x+width-10)+' '+(y+padding)+' '+(x+width)+' '+(y+padding2)+' '+(x+width)+' '+y;}else{path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+5)+' '+(y+padding)+' '+(x+10)+' '+(y+padding)+' L '+(x+width-20)+' '+(y+padding)+' L '+(x+width-15)+' '+(y+padding1)+' L '+(x+width-10)+' '+(y+padding)+' L '+(x+width-10)+' '+(y+padding)+' C '+(x+width-10)+' '+(y+padding)+' '+(x+width)+' '+(y+padding2)+' '+(x+width)+' '+y;}break;}return path;};/**
     * render y axis multi level labels
     *
     * @private
     * @returns {void}
     */MultiLevelLabel.prototype.renderYAxisMultiLevelLabels=function(axis,index,parent,rect){var _this=this;var labelSize;var isOutside=axis.labelPosition==='Outside';var x;var y;var padding=10;var startX=(axis.tickPosition===axis.labelPosition?axis.majorTickLines.height:0)+axis.maxLabelSize.width+padding;var startY;var path='';var endY;var argsData;var pointIndex;var isInversed=axis.isInversed;var start;var end;var gap;var anchor='middle';var opposedPosition=axis.opposedPosition;var scrollBarHeight=isOutside&&sf.base.isNullOrUndefined(axis.crossesAt)?axis.scrollBarHeight:0;scrollBarHeight=scrollBarHeight*(opposedPosition?1:-1);var clipX=opposedPosition&&!isOutside||!opposedPosition&&isOutside?rect.x-axis.multiLevelLabelHeight-startX-padding:rect.x+startX;this.createClipRect(clipX+scrollBarHeight,rect.y-axis.majorTickLines.width,rect.height+2*axis.majorTickLines.width,axis.multiLevelLabelHeight+padding,this.chart.element.id+'_YAxis_Clippath_'+index,this.chart.element.id+'YAxisMultiLevelLabel'+index);axis.multiLevelLabels.map(function(multiLevel,level){_this.labelElement=_this.chart.renderer.createGroup({id:_this.chart.element.id+index+'_MultiLevelLabel'+level});pointIndex=0;multiLevel.categories.map(function(categoryLabel,i){path='';end=typeof categoryLabel.end==='string'?Number(new Date(categoryLabel.end)):categoryLabel.end;start=typeof categoryLabel.start==='string'?Number(new Date(categoryLabel.start)):categoryLabel.start;startY=valueToCoefficient(start,axis)*rect.height;endY=valueToCoefficient(end,axis)*rect.height;endY=isInversed?[startY,startY=endY][0]:endY;argsData=_this.triggerMultiLabelRender(axis,categoryLabel.text,multiLevel.textStyle,multiLevel.alignment,categoryLabel.customAttributes);if(!argsData.cancel){labelSize=sf.svgbase.measureText(argsData.text,argsData.textStyle);gap=endY-startY;x=rect.x-startX-_this.yAxisPrevHeight[level]-_this.yAxisMultiLabelHeight[level]/2-padding/2;y=rect.height+rect.y-startY-gap/2;if(opposedPosition){x=isOutside?rect.x+startX+padding/2+_this.yAxisMultiLabelHeight[level]/2+_this.yAxisPrevHeight[level]+scrollBarHeight:rect.x-startX-_this.yAxisMultiLabelHeight[level]/2-_this.yAxisPrevHeight[level]-padding/2;}else{x=isOutside?x+scrollBarHeight:rect.x+startX+padding/2+_this.yAxisMultiLabelHeight[level]/2+_this.yAxisPrevHeight[level];}if(argsData.alignment==='Center'){y+=labelSize.height/4;}else if(argsData.alignment==='Far'){y+=gap/2-labelSize.height/2;}else{y=y-gap/2+labelSize.height;}x=multiLevel.border.type==='CurlyBrace'?!opposedPosition&&isOutside||opposedPosition&&!isOutside?x-padding:x+padding:x;var options=new sf.svgbase.TextOption(_this.chart.element.id+index+'_Axis_MultiLevelLabel_Level_'+level+'_Text_'+i,x,y,anchor,argsData.text);options.text=multiLevel.overflow==='Trim'?textTrim(categoryLabel.maximumTextWidth===null?_this.yAxisMultiLabelHeight[level]:categoryLabel.maximumTextWidth,argsData.text,argsData.textStyle):options.text;textElement(_this.chart.renderer,options,argsData.textStyle,argsData.textStyle.color||_this.chart.themeStyle.axisLabel,_this.labelElement,_this.chart.redraw,true);if(multiLevel.border.width>0&&multiLevel.border.type!=='WithoutBorder'){path=_this.renderYAxisLabelBorder(level,gap,axis,endY,startX,startY,labelSize,options,rect,argsData.alignment,path,isOutside,opposedPosition,pointIndex);if(path!==''){_this.createBorderElement(level,index,axis,path,pointIndex);pointIndex++;}}if(!_this.chart.enableCanvas){_this.multiElements.appendChild(_this.labelElement);}}});});parent.appendChild(this.multiElements);};/**
     * render y axis multi level labels border
     *
     * @private
     * @returns {void}
     */MultiLevelLabel.prototype.renderYAxisLabelBorder=function(labelIndex,gap,axis,endY,startX,startY,labelSize,textOptions,rect,alignment,path,isOutside,opposedPosition,categoryIndex){var height=endY-startY;var padding=10;var padding1;var padding2;var groupLabel=axis.multiLevelLabels[labelIndex];var categoryType=groupLabel.categories[categoryIndex].type;var y=rect.y+rect.height-endY;var scrollBarHeight=isOutside&&sf.base.isNullOrUndefined(axis.crossesAt)?axis.scrollBarHeight:0;scrollBarHeight=scrollBarHeight*(opposedPosition?1:-1);var width=this.yAxisMultiLabelHeight[labelIndex]+padding;var x=(!opposedPosition&&isOutside||opposedPosition&&!isOutside?rect.x-startX-this.yAxisPrevHeight[labelIndex]:rect.x+startX+this.yAxisPrevHeight[labelIndex])+scrollBarHeight;var borderType=categoryType?categoryType:groupLabel.border.type;switch(borderType){case'WithoutTopandBottomBorder':case'Rectangle':case'WithoutTopBorder':width=!opposedPosition&&isOutside||opposedPosition&&!isOutside?-width:width;path+='M '+x+' '+y+' L '+(x+width)+' '+y+' M '+x+' '+(y+height)+' L '+(x+width)+' '+(y+height);path+=borderType!=='WithoutTopandBottomBorder'?' L'+' '+(x+width)+' '+y+' ':' ';path+=borderType==='Rectangle'?'M '+x+' '+(y+height)+'L'+' '+x+' '+y+' ':' ';break;case'Brace':width=!opposedPosition&&isOutside||opposedPosition&&!isOutside?width:-width;path+='M '+x+' '+y+' L '+(x-width/2)+' '+y+' L '+(x-width/2)+' '+(textOptions.y-labelSize.height/2-4)+' M '+(x-width/2)+' '+(textOptions.y+labelSize.height/4+2)+' L '+(x-width/2)+' '+(y+height)+' L '+x+' '+(y+height);break;case'CurlyBrace':if(!opposedPosition&&isOutside||opposedPosition&&!isOutside){padding=-10;padding1=-15;padding2=-5;}else{padding=10;padding1=15;padding2=5;}if(alignment==='Center'){path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+padding)+' '+y+' '+(x+padding)+' '+(y+10)+' L '+(x+padding)+' '+(y+(height-10)/2)+' L '+(x+padding1)+' '+(y+(height-10)/2+5)+' L '+(x+padding)+' '+(y+(height-10)/2+10)+' L '+(x+padding)+' '+(y+(height-10))+' C '+(x+padding)+' '+(y+(height-10))+' '+(x+padding2)+' '+(y+height)+' '+x+' '+(y+height);}else if(alignment==='Far'){path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+padding)+' '+y+' '+(x+padding)+' '+(y+10)+' L '+(x+padding)+' '+(y+height-20)+' '+' L '+(x+padding1)+' '+(y+(height-15))+' L '+(x+padding)+' '+(y+(height-10))+' L '+(x+padding)+' '+(y+(height-10))+' C '+(x+padding)+' '+(y+(height-10))+' '+(x+padding)+' '+(y+height)+' '+x+' '+(y+height);}else{path+='M '+x+' '+y+' C '+x+' '+y+' '+(x+padding)+' '+y+' '+(x+padding)+' '+(y+10)+' L '+(x+padding1)+' '+(y+15)+' L '+(x+padding)+' '+(y+20)+' L '+(x+padding)+' '+(y+(height-10))+' C '+(x+padding)+' '+(y+(height-10))+' '+(x+padding2)+' '+(y+height)+' '+x+' '+(y+height);}break;}return path;};/**
     * create cliprect
     *
     * @returns {void}
     * @private
     */MultiLevelLabel.prototype.createClipRect=function(x,y,height,width,clipId,axisId){this.multiElements=this.chart.renderer.createGroup({'id':axisId,'clip-path':'url(#'+clipId+')'});if(!this.chart.enableCanvas){this.multiElements.appendChild(appendClipElement(this.chart.redraw,{'id':clipId,'x':x,'y':y,'width':width,'height':height,'fill':'white','stroke-width':1,'stroke':'Gray'},this.chart.renderer));}};/**
     * create borer element
     *
     * @returns {void}
     * @private
     */MultiLevelLabel.prototype.createBorderElement=function(borderIndex,axisIndex,axis,path,pointIndex){var direction=path;var borderElement=this.chart.renderer.drawPath(new sf.svgbase.PathOption(this.chart.element.id+axisIndex+'_Axis_MultiLevelLabel_Rect_'+borderIndex+'_'+pointIndex,'Transparent',axis.multiLevelLabels[borderIndex].border.width,axis.multiLevelLabels[borderIndex].border.color||this.chart.themeStyle.axisLine,1,'',path));borderElement.setAttribute('style','pointer-events: none');appendChildElement(this.chart.enableCanvas,this.labelElement,borderElement,this.chart.redraw,true,'x','y',null,direction);};/**
     * Triggers the event.
     *
     * @returns {void}
     * @private
     */MultiLevelLabel.prototype.triggerMultiLabelRender=function(axis,text,textStyle,textAlignment,customAttributes){var argsData={cancel:false,name:axisMultiLabelRender,axis:axis,text:text,textStyle:textStyle,alignment:textAlignment,customAttributes:customAttributes};this.chart.trigger(axisMultiLabelRender,argsData);return argsData;};/**
     * Triggers the event.
     *
     * @returns {void}
     * @private
     */MultiLevelLabel.prototype.MultiLevelLabelClick=function(labelIndex,axisIndex){var level=parseInt(labelIndex.substr(0,1),10);var textElement$$1=parseInt(labelIndex.substr(7),10);var chart=this.chart;var axis=chart.axisCollections[axisIndex];var categories=axis.multiLevelLabels[level].categories;var text=categories[textElement$$1].text;var start=categories[textElement$$1].start;var end=categories[textElement$$1].end;var customAttributes=categories[textElement$$1].customAttributes;var multilevelclickArgs={axis:axis,level:level,text:text,customAttributes:customAttributes,start:start,end:end,name:multiLevelLabelClick,cancel:false};this.chart.trigger(multiLevelLabelClick,multilevelclickArgs);return multilevelclickArgs;};/**
     * To click the multi level label
     *
     * @returns {void}
     * @private
     */MultiLevelLabel.prototype.click=function(event){var targetId=event.target.id;var multiLevelID='_Axis_MultiLevelLabel_Level_';var textId;var elementId;var axisIndex;if(targetId.indexOf(multiLevelID)>-1){textId=targetId.split(multiLevelID)[1];elementId=targetId.split(multiLevelID)[0];axisIndex=parseInt(elementId.charAt(elementId.length-1),10);this.MultiLevelLabelClick(textId,axisIndex);}};/**
     * To get the module name for `MultiLevelLabel`.
     *
     * @private
     */MultiLevelLabel.prototype.getModuleName=function(){return'MultiLevelLabel';};/**
     * To destroy the `MultiLevelLabel` module.
     *
     * @private
     */MultiLevelLabel.prototype.destroy=function(){// destroy peform here
};return MultiLevelLabel;}();// eslint-disable-next-line jsdoc/require-param
/**
 * Create scrollbar svg.
 *
 * @returns {void}
 */function createScrollSvg(scrollbar,renderer){var rect=scrollbar.axis.rect;var isHorizontalAxis=scrollbar.axis.orientation==='Horizontal';var enablePadding=false;var markerHeight=5;var yMin;for(var _i=0,_a=scrollbar.axis.series;_i<_a.length;_i++){var tempSeries=_a[_i];if(tempSeries.marker.height>markerHeight){markerHeight=tempSeries.marker.height;}}for(var _b=0,_c=scrollbar.axis.series;_b<_c.length;_b++){var tempSeries=_c[_b];if(tempSeries.visible){// To avoid the console error, when the visibility of the series is false.
yMin=tempSeries.yMin.toString();enablePadding=tempSeries.yData.some(function(yData){return yData===yMin;});}if(enablePadding){break;}}scrollbar.svgObject=renderer.createSvg({id:scrollbar.component.element.id+'_'+'scrollBar_svg'+scrollbar.axis.name,width:scrollbar.isVertical?scrollbar.height:scrollbar.width,height:scrollbar.isVertical?scrollbar.width:scrollbar.height,style:'position: absolute;top: '+((scrollbar.axis.opposedPosition&&isHorizontalAxis?-16:enablePadding?markerHeight:0)+rect.y)+'px;left: '+((scrollbar.axis.opposedPosition&&!isHorizontalAxis?16:0)+rect.x-(scrollbar.isVertical?scrollbar.height:0))+'px;cursor:auto;'});scrollbar.elements.push(scrollbar.svgObject);}/**
 * Scrollbar elements renderer
 */var ScrollElements=/** @class */function(){/**
     * Constructor for scroll elements
     *
     * @param scrollObj
     * @param chart
     */function ScrollElements(chart){this.chartId=chart.element.id+'_';}/**
     * Render scrollbar elements.
     *
     * @returns {void}
     * @private
     */ScrollElements.prototype.renderElements=function(scroll,renderer){var scrollGroup=renderer.createGroup({id:this.chartId+'scrollBar_'+scroll.axis.name,transform:'translate('+(scroll.isVertical&&scroll.axis.isInversed?scroll.height:scroll.axis.isInversed?scroll.width:'0')+','+(scroll.isVertical&&scroll.axis.isInversed?'0':scroll.axis.isInversed?scroll.height:scroll.isVertical?scroll.width:'0')+') rotate('+(scroll.isVertical&&scroll.axis.isInversed?'90':scroll.isVertical?'270':scroll.axis.isInversed?'180':'0')+')'});var backRectGroup=renderer.createGroup({id:this.chartId+'scrollBar_backRect_'+scroll.axis.name});var thumbGroup=renderer.createGroup({id:this.chartId+'scrollBar_thumb_'+scroll.axis.name,transform:'translate(0,0)'});this.backRect(scroll,renderer,backRectGroup);this.thumb(scroll,renderer,thumbGroup);this.renderCircle(scroll,renderer,thumbGroup);this.arrows(scroll,renderer,thumbGroup);this.thumbGrip(scroll,renderer,thumbGroup);scrollGroup.appendChild(backRectGroup);scrollGroup.appendChild(thumbGroup);return scrollGroup;};/**
     * Method to render back rectangle of scrollbar
     *
     * @param scroll
     * @param renderer
     * @param parent
     * @param renderer
     * @param parent
     */ScrollElements.prototype.backRect=function(scroll,renderer,parent){var style=scroll.scrollbarThemeStyle;var backRectEle=renderer.drawRectangle(new RectOption(this.chartId+'scrollBarBackRect_'+scroll.axis.name,style.backRect,{width:1,color:style.backRect},1,new sf.svgbase.Rect(0,0,scroll.width,scroll.height),0,0));parent.appendChild(backRectEle);};/**
     * Method to render arrows
     *
     * @param scroll
     * @param renderer
     * @param parent
     * @param renderer
     * @param parent
     */ScrollElements.prototype.arrows=function(scroll,renderer,parent){var style=scroll.scrollbarThemeStyle;var option=new sf.svgbase.PathOption(this.chartId+'scrollBar_leftArrow_'+scroll.axis.name,style.arrow,1,style.arrow,1,'','');this.leftArrowEle=renderer.drawPath(option);option.id=this.chartId+'scrollBar_rightArrow_'+scroll.axis.name;this.rightArrowEle=renderer.drawPath(option);this.setArrowDirection(this.thumbRectX,this.thumbRectWidth,scroll.height);parent.appendChild(this.leftArrowEle);parent.appendChild(this.rightArrowEle);};/**
     * Methods to set the arrow width
     *
     * @param thumbRectX
     * @param thumbRectWidth
     * @param height
     */ScrollElements.prototype.setArrowDirection=function(thumbRectX,thumbRectWidth,height){var circleRadius=8;var leftDirection='M '+(thumbRectX-circleRadius/2+1)+' '+height/2+' '+'L '+(thumbRectX-circleRadius/2+6)+' '+11+' '+'L '+(thumbRectX-circleRadius/2+6)+' '+5+' Z';var rightDirection='M '+(thumbRectX+thumbRectWidth+circleRadius/2-0.5)+' '+height/2+' '+'L '+(thumbRectX+thumbRectWidth+circleRadius/2-6)+' '+11.5+' '+'L '+(thumbRectX+thumbRectWidth+circleRadius/2-6)+' '+4.5+' Z';this.leftArrowEle.setAttribute('d',leftDirection);this.rightArrowEle.setAttribute('d',rightDirection);};/**
     * Method to render thumb
     *
     * @param scroll
     * @param renderer
     * @param parent
     */ScrollElements.prototype.thumb=function(scroll,renderer,parent){scroll.startX=this.thumbRectX;var style=scroll.scrollbarThemeStyle;this.slider=renderer.drawRectangle(new RectOption(this.chartId+'scrollBarThumb_'+scroll.axis.name,style.thumb,{width:1,color:''},1,new sf.svgbase.Rect(this.thumbRectX,0,this.thumbRectWidth,scroll.height)));parent.appendChild(this.slider);};/**
     *  Method to render circles
     *
     * @param scroll
     * @param renderer
     * @param parent
     */ScrollElements.prototype.renderCircle=function(scroll,renderer,parent){var style=scroll.scrollbarThemeStyle;var option=new CircleOption(this.chartId+'scrollBar_leftCircle_'+scroll.axis.name,style.circle,{width:1,color:style.circle},1,this.thumbRectX,scroll.height/2,8);var scrollShadowEle='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"'+'id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>'+'<feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>'+'<feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite>'+'<feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1">'+'</feColorMatrix></filter>';var defElement=renderer.createDefs();var shadowGroup=renderer.createGroup({id:this.chartId+scroll.axis.name+'_thumb_shadow'});defElement.innerHTML=scrollShadowEle;shadowGroup.innerHTML='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+'scrollBar_leftCircle_'+scroll.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+'scrollBar_rightCircle_'+scroll.axis.name+'"></use>';this.leftCircleEle=renderer.drawCircle(option);option.id=this.chartId+'scrollBar_rightCircle_'+scroll.axis.name;option.cx=this.thumbRectX+this.thumbRectWidth;this.rightCircleEle=renderer.drawCircle(option);parent.appendChild(defElement);parent.appendChild(this.leftCircleEle);parent.appendChild(this.rightCircleEle);parent.appendChild(shadowGroup);};/**
     * Method to render grip elements
     *
     * @param scroll
     * @param renderer
     * @param parent
     */ScrollElements.prototype.thumbGrip=function(scroll,renderer,parent){var sidePadding=0;var topPadding=0;var gripWidth=14;var gripCircleDiameter=2;var padding=gripWidth/2-gripCircleDiameter;var style=scroll.scrollbarThemeStyle;var option=new CircleOption(this.chartId+'scrollBar_gripCircle0'+'_'+scroll.axis.name,style.grip,{width:1,color:style.grip},1,0,0,1);this.gripCircle=renderer.createGroup({id:this.chartId+'scrollBar_gripCircle_'+scroll.axis.name,transform:'translate('+(this.thumbRectX+this.thumbRectWidth/2+(scroll.isVertical?1:-1)*padding)+','+(scroll.isVertical?'10':'5')+') rotate('+(scroll.isVertical?'180':'0')+')'});for(var i=1;i<=6;i++){option.id=this.chartId+'scrollBar_gripCircle'+i+'_'+scroll.axis.name;option.cx=sidePadding;option.cy=topPadding;this.gripCircle.appendChild(renderer.drawCircle(option));sidePadding=i===3?0:sidePadding+5;topPadding=i>=3?5:0;}parent.appendChild(this.gripCircle);};return ScrollElements;}();/* eslint-disable @typescript-eslint/ban-types */ /* eslint-disable @typescript-eslint/no-inferrable-types */ /**
 * Scrollbar Base
 */var ScrollBar=/** @class */function(){/**
     * Constructor for creating scrollbar
     *
     * @param component
     * @param axis
     */function ScrollBar(component,axis){/** @private */this.scrollRange={max:null,min:null,interval:null,delta:null};this.component=component;this.elements=[];this.scrollElements=new ScrollElements(component);this.axis=axis;this.mouseMoveListener=this.scrollMouseMove.bind(this);this.mouseUpListener=this.scrollMouseUp.bind(this);this.animateDuration=500;this.isPointer=sf.base.Browser.isPointer;this.browserName=sf.base.Browser.info.name;}/**
     * To Mouse x and y position
     *
     * @param e
     */ScrollBar.prototype.getMouseXY=function(e){var pageX;var pageY;var touchArg;if(e.type.indexOf('touch')>-1){touchArg=e;pageX=touchArg.changedTouches[0].clientX;pageY=touchArg.changedTouches[0].clientY;}else{pageX=e.clientX;pageY=e.clientY;}var svgRect=getElement$1(this.component.element.id+'_scrollBar_svg'+this.axis.name).getBoundingClientRect();this.mouseX=pageX-Math.max(svgRect.left,0);this.mouseY=pageY-Math.max(svgRect.top,0);};/**
     * Method to bind events for scrollbar svg object
     *
     * @param element
     * @returns {void}
     */ScrollBar.prototype.wireEvents=function(element){sf.base.EventHandler.add(element,sf.base.Browser.touchStartEvent,this.scrollMouseDown,this);sf.base.EventHandler.add(element,sf.base.Browser.touchMoveEvent,this.scrollMouseMove,this);sf.base.EventHandler.add(element,sf.base.Browser.touchEndEvent,this.scrollMouseUp,this);sf.base.EventHandler.add(element,'mousewheel',this.scrollMouseWheel,this);window.addEventListener('mousemove',this.mouseMoveListener,false);window.addEventListener('mouseup',this.mouseUpListener,false);};/**
     * Method to remove events for srcollbar svg object
     *
     * @param element
     */ScrollBar.prototype.unWireEvents=function(element){sf.base.EventHandler.remove(element,sf.base.Browser.touchStartEvent,this.scrollMouseDown);sf.base.EventHandler.remove(element,sf.base.Browser.touchMoveEvent,this.scrollMouseMove);sf.base.EventHandler.remove(element,sf.base.Browser.touchEndEvent,this.scrollMouseUp);sf.base.EventHandler.remove(element,'mousewheel',this.scrollMouseWheel);window.removeEventListener('mousemove',this.mouseMoveListener,false);window.removeEventListener('mouseup',this.mouseUpListener,false);};/**
     * Handles the mouse down on scrollbar
     *
     * @param e
     */ScrollBar.prototype.scrollMouseDown=function(e){var id=e.target.id;var elem=this.scrollElements;this.getMouseXY(e);this.isResizeLeft=this.isExist(id,'_leftCircle_')||this.isExist(id,'_leftArrow_');this.isResizeRight=this.isExist(id,'_rightCircle_')||this.isExist(id,'_rightArrow_');//  this.previousXY = this.isVertical ? this.mouseY : this.mouseX;
this.previousXY=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX;this.previousWidth=elem.thumbRectWidth;this.previousRectX=elem.thumbRectX;this.startZoomPosition=this.axis.zoomPosition;this.startZoomFactor=this.axis.zoomFactor;this.startRange=this.axis.visibleRange;this.scrollStarted=true;this.component.trigger(scrollStart,this.getArgs(scrollStart));if(this.isExist(id,'scrollBarThumb_')){this.isThumbDrag=true;this.svgObject.style.cursor='-webkit-grabbing';}else if(this.isExist(id,'scrollBarBackRect_')){var currentX=this.moveLength(this.previousXY,this.previousRectX);elem.thumbRectX=this.isWithIn(currentX)?currentX:elem.thumbRectX;this.positionThumb(elem.thumbRectX,elem.thumbRectWidth);this.setZoomFactorPosition(elem.thumbRectX,elem.thumbRectWidth,false);if(this.isLazyLoad){var thumbMove=elem.thumbRectX>this.previousRectX?'RightMove':'LeftMove';var args=this.calculateLazyRange(elem.thumbRectX,elem.thumbRectWidth,thumbMove);if(args){this.component.trigger(scrollEnd,args);}}}/**
         * Customer issue
         * Task ID - EJ2-28898
         * Issue: While element's height is smaller than chart'height, html scroll bar presents. On that case while moving chart scrollbar,
         * html scrollbar goes up due to chart's svg removed from the dom when zoomFactor and zoomPosition chnaged
         * Fix: Only for scrolling purpose, height for element is set to chart's available height
         */if(this.component.element.style.height===''){this.isCustomHeight=true;this.component.element.style.height=this.component.availableSize.height+'px';}};/**
     * To check the matched string
     *
     * @param id
     * @param match
     */ScrollBar.prototype.isExist=function(id,match){return id.indexOf(match)>-1;};/**
     * To check current poisition is within scrollbar region
     *
     * @param currentX
     */ScrollBar.prototype.isWithIn=function(currentX){var circleRadius=8;return currentX-circleRadius>=0&&currentX+this.scrollElements.thumbRectWidth+circleRadius<=this.width;};/**
     * Method to find move length of thumb
     *
     * @param mouseXY
     * @param thumbX
     * @param circleRadius
     */ScrollBar.prototype.moveLength=function(mouseXY,thumbX,circleRadius){if(circleRadius===void 0){circleRadius=8;}var moveLength=10/100*(this.width-circleRadius*2);if(mouseXY<thumbX){moveLength=thumbX-(thumbX-moveLength>circleRadius?moveLength:circleRadius);}else{moveLength=thumbX+(thumbX+this.scrollElements.thumbRectWidth+moveLength<this.width-circleRadius?moveLength:circleRadius);}return moveLength;};/**
     * Method to calculate zoom factor and position
     *
     * @param currentX
     * @param currentWidth
     */ScrollBar.prototype.setZoomFactorPosition=function(currentX,currentWidth,isRequire){if(isRequire===void 0){isRequire=true;}this.isScrollUI=true;var axis=this.axis;var circleRadius=8;var circleWidth=1;var currentScrollWidth=currentX+currentWidth+circleRadius+circleWidth;var currentZPWidth=circleRadius+circleWidth/2;this.zoomPosition=(currentX-(currentX-currentZPWidth<=0?currentZPWidth:0))/(this.isVertical?axis.rect.height:this.width);this.zoomFactor=(currentWidth+(currentScrollWidth>=this.width?circleRadius+circleWidth:0))/(this.isVertical?axis.rect.height:this.width);axis.zoomPosition=this.zoomPosition<0?0:this.zoomPosition>0.9?1:this.zoomPosition;axis.zoomFactor=isRequire?this.zoomFactor:axis.zoomFactor;};/**
     * Handles the mouse move on scrollbar
     *
     * @param e
     */ScrollBar.prototype.scrollMouseMove=function(e){var target=e.target;var elem=this.scrollElements;this.getMouseXY(e);this.setCursor(target);this.setTheme(target);//let mouseXY: number = this.isVertical ? this.mouseY : this.mouseX;
var mouseXY=this.isVertical&&this.axis.isInversed?this.width-this.mouseY:this.isVertical?this.mouseY:this.mouseX;var range=this.axis.visibleRange;var zoomPosition=this.zoomPosition;var zoomFactor=this.zoomFactor;var moveLength=this.previousRectX-elem.thumbRectX;var thumbMove=moveLength<0?'RightMove':'LeftMove';var args;if(this.isLazyLoad&&(this.isThumbDrag||this.isResizeLeft||this.isResizeRight)){args=this.calculateLazyRange(elem.thumbRectX,elem.thumbRectWidth,thumbMove);}var currentRange=args?args.currentRange:null;if(this.isThumbDrag){this.component.isScrolling=this.isThumbDrag;mouseXY=this.isVertical||this.axis.isInversed?this.width-mouseXY:mouseXY;var currentX=elem.thumbRectX+(mouseXY-this.previousXY);if(mouseXY>=currentX+elem.thumbRectWidth){this.setCursor(target);}else{this.svgObject.style.cursor='-webkit-grabbing';}if(mouseXY>=0&&mouseXY<=currentX+elem.thumbRectWidth){elem.thumbRectX=this.isWithIn(currentX)?currentX:elem.thumbRectX;this.positionThumb(elem.thumbRectX,elem.thumbRectWidth);this.previousXY=mouseXY;this.setZoomFactorPosition(currentX,elem.thumbRectWidth,false);}this.component.trigger(scrollChanged,this.getArgs(scrollChanged,range,zoomPosition,zoomFactor,currentRange));}else if(this.isResizeLeft||this.isResizeRight){this.resizeThumb();this.component.trigger(scrollChanged,this.getArgs(scrollChanged,range,zoomPosition,zoomFactor,currentRange));}};/**
     * Handles the mouse wheel on scrollbar
     *
     * @param e
     */ScrollBar.prototype.scrollMouseWheel=function(e){var svgRect=getElement$1(this.component.element.id+'_scrollBar_svg'+this.axis.name).getBoundingClientRect();this.mouseX=e.clientX-Math.max(svgRect.left,0);this.mouseY=e.clientY-Math.max(svgRect.top,0);var origin=0.5;var elem=this.scrollElements;var axis=this.axis;var direction=this.browserName==='mozilla'&&!this.isPointer?-e.detail/3>0?1:-1:e['wheelDelta']/120>0?1:-1;var cumulative=Math.max(Math.max(1/minMax(axis.zoomFactor,0,1),1)+0.25*direction,1);var range=this.axis.visibleRange;var zoomPosition=this.zoomPosition;var zoomFactor=this.zoomFactor;var args;if(cumulative>=1){origin=axis.orientation==='Horizontal'?this.mouseX/axis.rect.width:1-this.mouseY/axis.rect.height;origin=origin>1?1:origin<0?0:origin;this.zoomFactor=cumulative===1?1:minMax(1/cumulative,0,1);this.zoomPosition=cumulative===1?0:axis.zoomPosition+(axis.zoomFactor-this.zoomFactor)*origin;}elem.thumbRectX=this.isWithIn(this.zoomPosition*this.width)?this.zoomPosition*this.width:elem.thumbRectX;this.isScrollUI=true;this.positionThumb(elem.thumbRectX,elem.thumbRectWidth);if(this.isLazyLoad){this.setZoomFactorPosition(elem.thumbRectX,elem.thumbRectWidth);}axis.zoomFactor=this.zoomFactor;axis.zoomPosition=this.zoomPosition;if(this.isLazyLoad){args=this.calculateMouseWheelRange(elem.thumbRectX,elem.thumbRectWidth);if(args){if(args.currentRange.minimum!==args.previousAxisRange.minimum&&args.currentRange.maximum!==args.previousAxisRange.maximum){this.component.trigger(scrollEnd,args);this.isScrollEnd=false;}}}if(!this.isLazyLoad){this.component.trigger(scrollChanged,this.getArgs(scrollChanged,range,zoomPosition,zoomFactor));}};/**
     * Handles the mouse up on scrollbar
     *
     * @param e
     */ScrollBar.prototype.scrollMouseUp=function(){var args;this.startX=this.scrollElements.thumbRectX;var circleRadius=8;var circleWidth=1;var currentScrollWidth=this.startX+this.scrollElements.thumbRectWidth+circleRadius+circleWidth;var currentZPWidth=circleRadius+circleWidth/2;if((this.isResizeLeft||this.isResizeRight)&&!this.isLazyLoad){this.axis.zoomFactor=currentScrollWidth>=this.width-1&&this.startX-currentZPWidth<=0?1:this.zoomFactor;}if(this.isLazyLoad){var moveLength=this.previousRectX-this.startX;if((moveLength>0||moveLength<0)&&this.isThumbDrag){var thumbMove=moveLength<0?'RightMove':'LeftMove';if(thumbMove==='RightMove'){this.startX=this.startX+Math.abs(moveLength)<this.width-circleRadius?this.startX:this.width-circleRadius-this.scrollElements.thumbRectWidth;}else{this.startX=this.startX+this.scrollElements.thumbRectWidth-Math.abs(moveLength)>circleRadius?this.startX:circleRadius;}args=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth,thumbMove);if(args){this.component.trigger(scrollEnd,args);this.scrollStarted=false;}}if(this.isResizeLeft||this.isResizeRight){args=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth);if(args){this.component.trigger(scrollEnd,args);this.scrollStarted=false;}}}this.isThumbDrag=false;this.isResizeLeft=false;this.isResizeRight=false;this.isScrollEnd=false;this.component.isScrolling=false;if(this.scrollStarted&&!this.isLazyLoad){this.component.trigger(scrollEnd,this.getArgs(scrollChanged,this.startRange,this.startZoomPosition,this.startZoomFactor));this.scrollStarted=false;}/**
         * Customer issue
         * Task ID - EJ2-28898
         * Chart's height setted is removed here.
         */if(this.isCustomHeight){this.component.element.style.height=null;}};ScrollBar.prototype.calculateMouseWheelRange=function(scrollThumbX,scrollThumbWidth){var zoomFactor;var zoomPosition;var args;var range=this.scrollRange;var previousRange=this.getStartEnd(this.previousStart,this.previousEnd,false);var circleRadius=8;if(scrollThumbX+scrollThumbWidth+circleRadius<=this.width){zoomPosition=(scrollThumbX-circleRadius)/this.width;zoomFactor=scrollThumbWidth/this.width;}var currentStart=range.min+zoomPosition*range.delta;var currentEnd=currentStart+zoomFactor*range.delta;if(currentEnd){args={axis:this.axis,currentRange:this.getStartEnd(currentStart,currentEnd,true),previousAxisRange:previousRange};}return args;};/**
     * Range calculation for lazy loading
     *
     * @param scrollThumbX
     * @param scrollThumbWidth
     * @param thumbMove
     * @param scrollThumbX
     * @param scrollThumbWidth
     * @param thumbMove
     * @param scrollThumbX
     * @param scrollThumbWidth
     * @param thumbMove
     */ScrollBar.prototype.calculateLazyRange=function(scrollThumbX,scrollThumbWidth,thumbMove){var currentScrollWidth=scrollThumbWidth;var zoomFactor;var zoomPosition;var currentStart;var currentEnd;var args;var range=this.scrollRange;var previousRange=this.getStartEnd(this.previousStart,this.previousEnd,false);var circleRadius=8;var circleWidth=16;if(this.isResizeRight||thumbMove==='RightMove'){currentScrollWidth=this.isResizeRight?currentScrollWidth+circleWidth:currentScrollWidth;zoomFactor=(currentScrollWidth+circleRadius)/this.width;zoomPosition=thumbMove==='RightMove'?(scrollThumbX+circleRadius)/this.width:this.axis.zoomPosition;currentStart=thumbMove==='RightMove'?range.min+zoomPosition*range.delta:this.previousStart;currentEnd=currentStart+zoomFactor*range.delta;}else if(this.isResizeLeft||thumbMove==='LeftMove'){zoomPosition=(scrollThumbX-circleRadius)/this.width;zoomFactor=currentScrollWidth/this.width;currentStart=range.min+zoomPosition*range.delta;currentStart=currentStart>=range.min?currentStart:range.min;currentEnd=thumbMove==='LeftMove'?currentStart+zoomFactor*range.delta:this.previousEnd;}else if(this.isThumbDrag){zoomPosition=thumbMove==='RightMove'?(scrollThumbX+circleRadius)/this.width:(scrollThumbX-circleRadius)/this.width;zoomFactor=this.scrollElements.thumbRectWidth/this.width;currentStart=range.min+zoomPosition*range.delta;currentStart=currentStart>=range.min?currentStart:range.min;currentEnd=currentStart+zoomFactor*range.delta;}if(currentEnd){args={axis:this.component.isBlazor?{}:this.axis,currentRange:this.getStartEnd(currentStart,currentEnd,true),previousAxisRange:previousRange};}return args;};/**
     * Get start and end values
     *
     * @param start
     * @param end
     * @param isCurrentStartEnd
     * @param start
     * @param end
     * @param isCurrentStartEnd
     * @param start
     * @param end
     * @param isCurrentStartEnd
     */ScrollBar.prototype.getStartEnd=function(start,end,isCurrentStartEnd){var valueType=this.valueType;if((valueType==='DateTime'||valueType==='DateTimeCategory')&&isCurrentStartEnd){this.previousStart=start;this.previousEnd=end;}else if(isCurrentStartEnd){this.previousStart=Math.round(start);this.previousEnd=Math.ceil(end);}switch(valueType){case'Double':case'Category':case'Logarithmic':start=Math.round(start);end=Math.ceil(end);break;case'DateTime':case'DateTimeCategory':start=new Date(start);end=new Date(end);break;}return{minimum:start,maximum:end};};/**
     * To render scroll bar
     *
     * @param isScrollExist
     * @private
     */ScrollBar.prototype.render=function(isScrollExist){if(this.component.zoomModule||isScrollExist&&this.axis.scrollbarSettings.enable){this.getDefaults();}this.getTheme();this.removeScrollSvg();createScrollSvg(this,this.component.svgRenderer);this.wireEvents(this.svgObject);this.svgObject.appendChild(this.scrollElements.renderElements(this,this.component.svgRenderer));return this.svgObject;};/**
     * Theming for scrollabr
     *
     * @returns {void}
     */ScrollBar.prototype.getTheme=function(){this.scrollbarThemeStyle=getScrollbarThemeColor(this.component.theme);};/**
     * Method to remove existing scrollbar
     *
     * @returns {void}
     */ScrollBar.prototype.removeScrollSvg=function(){if(document.getElementById(this.component.element.id+'_scrollBar_svg'+this.axis.name)){sf.base.remove(document.getElementById(this.component.element.id+'_scrollBar_svg'+this.axis.name));}};/**
     * Method to set cursor fpr scrollbar
     *
     * @param target
     */ScrollBar.prototype.setCursor=function(target){var id=target.id;this.svgObject.style.cursor=id.indexOf('scrollBarThumb_')>-1||id.indexOf('_gripCircle')>-1?'-webkit-grab':id.indexOf('Circle_')>-1||id.indexOf('Arrow_')>-1?this.isVertical?'ns-resize':'ew-resize':'auto';};/**
     * Method to set theme for sollbar
     *
     * @param target
     */ScrollBar.prototype.setTheme=function(target){var id=target.id;var isLeftHover=id.indexOf('_leftCircle_')>-1||id.indexOf('_leftArrow_')>-1;var isRightHover=id.indexOf('_rightCircle_')>-1||id.indexOf('_rightArrow_')>-1;var style=this.scrollbarThemeStyle;var leftArrowEle=this.scrollElements.leftArrowEle;var rightArrowEle=this.scrollElements.rightArrowEle;var leftCircleEle=this.scrollElements.leftCircleEle;var rightCircleEle=this.scrollElements.rightCircleEle;var isAxis=this.isCurrentAxis(target,leftArrowEle);leftCircleEle.style.fill=isLeftHover&&isAxis?style.circleHover:style.circle;rightCircleEle.style.fill=isRightHover&&isAxis?style.circleHover:style.circle;leftCircleEle.style.stroke=isLeftHover&&isAxis?style.circleHover:style.circle;rightCircleEle.style.stroke=isRightHover&&isAxis?style.circleHover:style.circle;if(this.component.theme==='HighContrastLight'){leftArrowEle.style.fill=isLeftHover&&isAxis?style.arrowHover:style.arrow;leftArrowEle.style.stroke=isLeftHover&&isAxis?style.arrowHover:style.arrow;rightArrowEle.style.fill=isRightHover&&isAxis?style.arrowHover:style.arrow;rightArrowEle.style.stroke=isRightHover&&isAxis?style.arrowHover:style.arrow;leftCircleEle.style.stroke=isLeftHover&&isAxis?style.circleHover:style.circle;rightCircleEle.style.stroke=isRightHover&&isAxis?style.circleHover:style.circle;}};/**
     * To check current axis
     *
     * @param target
     * @param ele
     */ScrollBar.prototype.isCurrentAxis=function(target,ele){return target.id.split('_')[2]===ele.id.split('_')[2];};/**
     * Method to resize thumb
     *
     * @param e
     */ScrollBar.prototype.resizeThumb=function(){var currentWidth;var circleRadius=8;var padding=5;var gripWidth=14;var minThumbWidth=circleRadius*2+padding*2+gripWidth;var thumbX=this.previousRectX;// let mouseXY: number = this.isVertical ? this.mouseY : this.mouseX;
var mouseXY=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX;var diff=Math.abs(this.previousXY-mouseXY);if(this.isResizeLeft&&mouseXY>=0){var currentX=thumbX+(mouseXY>this.previousXY?diff:-diff);currentWidth=currentX-circleRadius>=0?this.previousWidth+(mouseXY>this.previousXY?-diff:diff):this.previousWidth;currentX=currentX-circleRadius>=0?currentX:thumbX;if(currentWidth>=minThumbWidth&&mouseXY<currentX+currentWidth){this.scrollElements.thumbRectX=this.previousRectX=currentX;this.scrollElements.thumbRectWidth=this.previousWidth=currentWidth;this.previousXY=mouseXY;this.positionThumb(currentX,currentWidth);this.setZoomFactorPosition(currentX,currentWidth);}}else if(this.isResizeRight){currentWidth=mouseXY>=minThumbWidth+this.scrollElements.thumbRectX&&mouseXY<=this.width-circleRadius?mouseXY-this.scrollElements.thumbRectX:this.previousWidth;this.scrollElements.thumbRectWidth=this.previousWidth=currentWidth;this.previousXY=mouseXY;this.positionThumb(this.startX,currentWidth);this.setZoomFactorPosition(this.startX,currentWidth);if(!this.isLazyLoad){this.setZoomFactorPosition(this.startX,currentWidth);}}};/**
     * Method to position the scrollbar thumb
     *
     * @param currentX
     * @param currentWidth
     */ScrollBar.prototype.positionThumb=function(currentX,currentWidth){var elem=this.scrollElements;var gripWidth=14;var gripCircleDiameter=2;var padding=gripWidth/2-gripCircleDiameter;elem.slider.setAttribute('x',currentX.toString());elem.slider.setAttribute('width',currentWidth.toString());elem.leftCircleEle.setAttribute('cx',currentX.toString());elem.rightCircleEle.setAttribute('cx',(currentX+currentWidth).toString());elem.setArrowDirection(currentX,currentWidth,this.height);elem.gripCircle.setAttribute('transform','translate('+(currentX+currentWidth/2+(this.isVertical?1:-1)*padding)+','+(this.isVertical?'10':'5')+') rotate('+(this.isVertical?'180':'0')+')');};/**
     * Method to get default values
     *
     * @returns {void}
     */ScrollBar.prototype.getDefaults=function(){var axis=this.axis;var circleRadius=8;var padding=5;var gripWidth=14;var minThumbWidth=circleRadius*2+padding*2+gripWidth;if(this.axis.scrollbarSettings.enable){this.isLazyLoad=true;this.getLazyDefaults(axis);}this.isVertical=axis.orientation==='Vertical';this.zoomFactor=this.isLazyLoad?this.zoomFactor:axis.zoomFactor;this.zoomPosition=this.isLazyLoad?this.zoomPosition:axis.zoomPosition;var currentWidth=this.zoomFactor*(this.isVertical?axis.rect.height:axis.rect.width);currentWidth=currentWidth>minThumbWidth?currentWidth:minThumbWidth;this.scrollX=axis.rect.x;this.scrollY=axis.rect.y;this.width=this.isVertical?axis.rect.height:axis.rect.width;this.height=16;var currentX=this.zoomPosition*(this.isVertical?axis.rect.height:this.width);var minThumbX=this.width-minThumbWidth-circleRadius;this.scrollElements.thumbRectX=currentX>minThumbX?minThumbX:currentX<circleRadius?circleRadius:currentX;this.scrollElements.thumbRectWidth=currentWidth+this.scrollElements.thumbRectX<this.width-circleRadius*2?currentWidth:this.width-this.scrollElements.thumbRectX-circleRadius;};/**
     * Lazy load default values
     *
     * @param axis
     */ScrollBar.prototype.getLazyDefaults=function(axis){var start;var end;var valueType=axis.valueType;var scrollbarSettings=axis.scrollbarSettings;var range=axis.scrollbarSettings.range;var visibleRange=axis.visibleRange;var pointsLength=axis.scrollbarSettings.pointsLength;this.valueType=valueType=(!scrollbarSettings.range.minimum||!scrollbarSettings.range.maximum)&&scrollbarSettings.pointsLength?'Double':valueType;var option={skeleton:'full',type:'dateTime'};var dateParser=this.component.intl.getDateParser(option);var dateFormatter=this.component.intl.getDateFormat(option);switch(valueType){case'Double':case'Category':case'Logarithmic':start=range.minimum?range.minimum:pointsLength?0:visibleRange.min;end=range.maximum?range.maximum:pointsLength?pointsLength-1:visibleRange.max;break;case'DateTime':case'DateTimeCategory':start=range.minimum?Date.parse(dateParser(dateFormatter(range.minimum))):visibleRange.min;end=range.maximum?Date.parse(dateParser(dateFormatter(range.maximum))):visibleRange.max;break;}start=Math.min(start,visibleRange.min);end=Math.max(end,visibleRange.max);var zoomFactor=(visibleRange.max-visibleRange.min)/(end-start);var zoomPosition=(visibleRange.min-start)/(end-start);this.zoomFactor=range.minimum||range.maximum?zoomFactor:this.axis.maxPointLength/axis.scrollbarSettings.pointsLength;this.zoomPosition=range.minimum||range.maximum?zoomPosition:axis.zoomPosition;this.scrollRange.min=start;this.scrollRange.max=end;this.scrollRange.delta=end-start;this.previousStart=visibleRange.min;this.previousEnd=visibleRange.max;};/**
     * Method to get log range
     *
     * @param axis
     */ScrollBar.prototype.getLogRange=function(axis){var range=axis.scrollbarSettings.range;var start=logBase(range.minimum,axis.logBase);var end=logBase(range.maximum,axis.logBase);start=isFinite(start)?start:range.minimum;end=isFinite(start)?end:range.maximum;return{minimum:Math.floor(start/1),maximum:Math.ceil(end/1)};};/**
     * Method for injecting scrollbar module
     *
     * @param axis
     * @param component
     */ScrollBar.prototype.injectTo=function(axis,component){axis.zoomingScrollBar=new ScrollBar(component,axis);};/**
     * Method to destroy scrollbar
     *
     * @returns {void}
     */ScrollBar.prototype.destroy=function(){var _this=this;if(this.axes){this.axes.map(function(axis){axis.zoomingScrollBar.destroy();});}else{this.elements.map(function(element){_this.unWireEvents(element);sf.base.remove(element.firstChild);});this.elements=[];}};/**
     * Method to get scrollbar module name
     *
     * @returns {string}
     */ScrollBar.prototype.getModuleName=function(){return'ScrollBar';};ScrollBar.prototype.getArgs=function(eventName,range,zoomPosition,zoomFactor,currentRanges){var scrollArgs={axis:this.component.isBlazor?{}:this.axis,name:eventName,range:this.axis.visibleRange,zoomFactor:this.axis.zoomFactor,zoomPosition:this.axis.zoomPosition,previousRange:range,previousZoomFactor:zoomFactor,previousZoomPosition:zoomPosition,currentRange:currentRanges};return scrollArgs;};return ScrollBar;}();var __extends$63=undefined&&undefined.__extends||function(){var _extendStatics64=function extendStatics(d,b){_extendStatics64=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p];}};return _extendStatics64(d,b);};return function(d,b){_extendStatics64(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();/**
 * `Pareto series` module used to render the Pareto series.
 */var ParetoSeries=/** @class */function(_super){__extends$63(ParetoSeries,_super);function ParetoSeries(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.paretoAxes=[];return _this;}/**
     * Defines the Line initialization
     */ParetoSeries.prototype.initSeries=function(targetSeries,chart){var series=new Series(chart,'series',targetSeries.properties,true);series.name='Pareto';series.yAxisName=targetSeries.yAxisName+'_CumulativeAxis';series.category='Pareto';targetSeries.category='Pareto';series.type='Line';series.interior=chart.themeStyle.errorBar;chart.visibleSeries.push(series);this.initAxis(targetSeries,series,chart);};/**
     * Defines the Axis initialization for Line
     */ParetoSeries.prototype.initAxis=function(paretoSeries,targetSeries,chart){var isExist=this.paretoAxes.some(function(currentAxis){return currentAxis.name===targetSeries.yAxisName;});if(!isExist){var secondaryAxis=paretoSeries.yAxisName?chart.axes.filter(function(axis){return axis.name===paretoSeries.yAxisName;})[0]:chart.primaryYAxis;var newAxis=new Axis(chart,'axis',{name:targetSeries.yAxisName,majorGridLines:{width:0},majorTickLines:secondaryAxis.majorTickLines,lineStyle:secondaryAxis.lineStyle,minimum:0,maximum:100,rowIndex:secondaryAxis.rowIndex,opposedPosition:true,labelFormat:'{value}%'});this.paretoAxes.push(newAxis);}};/**
     * Render Pareto series.
     *
     * @returns {void}
     * @private
     */ParetoSeries.prototype.render=function(series){series.chart.columnSeriesModule.render(series);};/**
     * To perform the cumulative calculation for pareto series.
     */ParetoSeries.prototype.performCumulativeCalculation=function(json,series){var data=json;var sum=0;var count=0;var length=data.length;for(var i=0;i<length;i++){sum+=data[i][series.yName];}for(var i=0;i<length;i++){count=count+data[i][series.yName];data[i][series.yName]=Math.round(count/sum*100);}return data;};/**
     * Animates the series.
     *
     * @param  {Series} series - Defines the series to animate.
     * @returns {void}
     */ParetoSeries.prototype.doAnimation=function(series){this.animate(series);};/**
     * Get module name.
     */ParetoSeries.prototype.getModuleName=function(){return'ParetoSeries';/**
         * return the module name
         */};/**
     * To destroy the pareto series.
     *
     * @returns {void}
     * @private
     */ParetoSeries.prototype.destroy=function(){/**
         * Destroy method performed here
         */};return ParetoSeries;}(ColumnBase);/**
 * `ExportModule` module is used to print and export the rendered chart.
 */var Export=/** @class */function(){/**
     * Constructor for export module.
     *
     * @private
     */function Export(chart){this.chart=chart;}/**
     * Handles the export method for chart control.
     */Export.prototype["export"]=function(type,fileName,orientation,controls,width,height,isVertical,header,footer){var exportChart=new ExportUtils(this.chart);controls=controls?controls:[this.chart];var argsData={cancel:false,name:beforeExport,width:width,height:height};this.chart.trigger(beforeExport,argsData);if(!argsData.cancel){exportChart["export"](type,fileName,orientation,controls,width=argsData.width,height=argsData.height,isVertical,header,footer);}};/**
     * To get data url for charts.
     */Export.prototype.getDataUrl=function(chart){var exportUtil=new ExportUtils(chart);return exportUtil.getDataUrl(chart);};/**
     * Get module name.
     */Export.prototype.getModuleName=function(){// Returns the module name
return'Export';};/**
     * To destroy the chart.
     *
     * @returns {void}
     * @private
     */Export.prototype.destroy=function(){// Destroy method performed here
};return Export;}();/**
 * Chart component exported items
 */ /**
 * Financial chart exports
 */StockChart.Inject(sf.charts.LineSeries,sf.charts.ColumnSeries,sf.charts.SplineSeries,sf.charts.SplineAreaSeries,sf.charts.StripLine,sf.charts.AreaSeries,sf.charts.Tooltip,sf.charts.Crosshair,sf.charts.DateTime,sf.charts.Zoom,sf.charts.DataLabel,sf.charts.Selection,sf.charts.ChartAnnotation,sf.charts.HiloSeries,sf.charts.HiloOpenCloseSeries,sf.charts.CandleSeries,sf.charts.SmaIndicator,sf.charts.TmaIndicator,sf.charts.EmaIndicator,sf.charts.AccumulationDistributionIndicator,sf.charts.MacdIndicator,sf.charts.AtrIndicator,sf.charts.RsiIndicator,sf.charts.MomentumIndicator,sf.charts.StochasticIndicator,sf.charts.BollingerBands,sf.charts.Trendlines,sf.charts.RangeTooltip,sf.charts.Export);exports.StockChart=StockChart;exports.StockChartFont=StockChartFont;exports.StockChartBorder=StockChartBorder;exports.StockChartArea=StockChartArea;exports.StockMargin=StockMargin;exports.StockChartStripLineSettings=StockChartStripLineSettings;exports.StockEmptyPointSettings=StockEmptyPointSettings;exports.StockChartConnector=StockChartConnector;exports.StockSeries=StockSeries;exports.StockChartIndicator=StockChartIndicator;exports.StockChartAxis=StockChartAxis;exports.StockChartRow=StockChartRow;exports.StockChartTrendline=StockChartTrendline;exports.StockChartAnnotationSettings=StockChartAnnotationSettings;exports.StockChartIndexes=StockChartIndexes;exports.StockEventsSettings=StockEventsSettings;exports.RangeColorSetting=RangeColorSetting;exports.CrosshairSettings=CrosshairSettings$1;exports.ZoomSettings=ZoomSettings$1;exports.Chart=Chart$1;exports.Row=Row;exports.Column=Column;exports.MajorGridLines=MajorGridLines;exports.MinorGridLines=MinorGridLines;exports.AxisLine=AxisLine;exports.MajorTickLines=MajorTickLines;exports.MinorTickLines=MinorTickLines;exports.CrosshairTooltip=CrosshairTooltip;exports.Axis=Axis;exports.VisibleLabels=VisibleLabels;exports.Double=Double;exports.DateTime=DateTime;exports.Category=Category;exports.Logarithmic=Logarithmic;exports.DateTimeCategory=DateTimeCategory;exports.NiceInterval=NiceInterval;exports.StripLine=StripLine;exports.Connector=Connector;exports.Font=Font;exports.Border=Border;exports.Offset=Offset;exports.ChartArea=ChartArea;exports.Margin=Margin;exports.ContainerPadding=ContainerPadding;exports.Animation=Animation$1;exports.Indexes=Indexes;exports.CornerRadius=CornerRadius;exports.Index=Index;exports.EmptyPointSettings=EmptyPointSettings;exports.DragSettings=DragSettings;exports.TooltipSettings=TooltipSettings;exports.Periods=Periods;exports.PeriodSelectorSettings=PeriodSelectorSettings;exports.LineSeries=LineSeries;exports.ColumnSeries=ColumnSeries;exports.AreaSeries=AreaSeries;exports.BarSeries=BarSeries;exports.PolarSeries=PolarSeries;exports.RadarSeries=RadarSeries;exports.StackingBarSeries=StackingBarSeries;exports.CandleSeries=CandleSeries;exports.StackingColumnSeries=StackingColumnSeries;exports.StepLineSeries=StepLineSeries;exports.StepAreaSeries=StepAreaSeries;exports.StackingAreaSeries=StackingAreaSeries;exports.StackingStepAreaSeries=StackingStepAreaSeries;exports.StackingLineSeries=StackingLineSeries;exports.ScatterSeries=ScatterSeries;exports.RangeColumnSeries=RangeColumnSeries;exports.WaterfallSeries=WaterfallSeries;exports.HiloSeries=HiloSeries;exports.HiloOpenCloseSeries=HiloOpenCloseSeries;exports.RangeAreaSeries=RangeAreaSeries;exports.BubbleSeries=BubbleSeries;exports.SplineSeries=SplineSeries;exports.HistogramSeries=HistogramSeries;exports.SplineAreaSeries=SplineAreaSeries;exports.TechnicalIndicator=TechnicalIndicator;exports.SmaIndicator=SmaIndicator;exports.EmaIndicator=EmaIndicator;exports.TmaIndicator=TmaIndicator;exports.AccumulationDistributionIndicator=AccumulationDistributionIndicator;exports.AtrIndicator=AtrIndicator;exports.MomentumIndicator=MomentumIndicator;exports.RsiIndicator=RsiIndicator;exports.StochasticIndicator=StochasticIndicator;exports.BollingerBands=BollingerBands;exports.MacdIndicator=MacdIndicator;exports.Trendlines=Trendlines;exports.sort=sort;exports.isBreakLabel=isBreakLabel;exports.getVisiblePoints=getVisiblePoints;exports.rotateTextSize=rotateTextSize;exports.removeElement=removeElement;exports.logBase=logBase;exports.showTooltip=showTooltip;exports.inside=inside;exports.withIn=withIn;exports.logWithIn=logWithIn;exports.withInRange=withInRange;exports.sum=sum;exports.subArraySum=subArraySum;exports.subtractThickness=subtractThickness;exports.subtractRect=subtractRect;exports.degreeToLocation=degreeToLocation;exports.degreeToRadian=degreeToRadian;exports.getRotatedRectangleCoordinates=getRotatedRectangleCoordinates;exports.isRotatedRectIntersect=isRotatedRectIntersect;exports.getAngle=getAngle;exports.subArray=subArray;exports.valueToCoefficient=valueToCoefficient;exports.TransformToVisible=TransformToVisible;exports.indexFinder=indexFinder;exports.CoefficientToVector=CoefficientToVector;exports.valueToPolarCoefficient=valueToPolarCoefficient;exports.Mean=Mean;exports.PolarArc=PolarArc;exports.createTooltip=createTooltip;exports.createZoomingLabels=createZoomingLabels;exports.withInBounds=withInBounds;exports.getValueXByPoint=getValueXByPoint;exports.getValueYByPoint=getValueYByPoint;exports.findClipRect=findClipRect;exports.firstToLowerCase=firstToLowerCase;exports.getTransform=getTransform;exports.getMinPointsDelta=getMinPointsDelta;exports.getAnimationFunction=getAnimationFunction;exports.linear=linear;exports.markerAnimate=markerAnimate;exports.animateRectElement=animateRectElement;exports.pathAnimation=pathAnimation;exports.appendClipElement=appendClipElement;exports.triggerLabelRender=triggerLabelRender;exports.setRange=setRange;exports.isZoomSet=isZoomSet;exports.getActualDesiredIntervalsCount=getActualDesiredIntervalsCount;exports.templateAnimate=templateAnimate;exports.drawSymbol=drawSymbol;exports.calculateShapes=calculateShapes;exports.getRectLocation=getRectLocation;exports.minMax=minMax;exports.getElement=getElement$1;exports.getTemplateFunction=getTemplateFunction;exports.accReactTemplate=accReactTemplate;exports.chartReactTemplate=chartReactTemplate;exports.createTemplate=createTemplate;exports.getFontStyle=getFontStyle;exports.measureElementRect=measureElementRect;exports.findlElement=findlElement;exports.getPoint=getPoint;exports.appendElement=appendElement;exports.appendChildElement=appendChildElement;exports.getDraggedRectLocation=getDraggedRectLocation;exports.checkBounds=checkBounds;exports.getLabelText=getLabelText;exports.stopTimer=stopTimer;exports.isCollide=isCollide;exports.isOverlap=isOverlap;exports.containsRect=containsRect;exports.calculateRect=calculateRect;exports.convertToHexCode=convertToHexCode;exports.componentToHex=componentToHex;exports.convertHexToColor=convertHexToColor;exports.colorNameToHex=colorNameToHex;exports.getSaturationColor=getSaturationColor;exports.getMedian=getMedian;exports.calculateLegendShapes=calculateLegendShapes;exports.textTrim=textTrim;exports.lineBreakLabelTrim=lineBreakLabelTrim;exports.stringToNumber=stringToNumber;exports.redrawElement=redrawElement;exports.animateRedrawElement=animateRedrawElement;exports.textElement=textElement;exports.calculateSize=calculateSize;exports.createSvg=createSvg;exports.getTitle=getTitle;exports.titlePositionX=titlePositionX;exports.textWrap=textWrap;exports.getUnicodeText=getUnicodeText;exports.blazorTemplatesReset=blazorTemplatesReset;exports.CustomizeOption=CustomizeOption;exports.StackValues=StackValues;exports.RectOption=RectOption;exports.ImageOption=ImageOption;exports.CircleOption=CircleOption;exports.PolygonOption=PolygonOption;exports.ChartLocation=ChartLocation;exports.LabelLocation=LabelLocation;exports.Thickness=Thickness;exports.ColorValue=ColorValue;exports.PointData=PointData;exports.AccPointData=AccPointData;exports.ControlPoints=ControlPoints;exports.getColorByValue=getColorByValue;exports.getGradientColor=getGradientColor;exports.getPercentageColor=getPercentageColor;exports.getPercentage=getPercentage;exports.Crosshair=Crosshair;exports.Tooltip=Tooltip$1;exports.Zoom=Zoom;exports.Selection=Selection;exports.DataEditing=DataEditing;exports.Highlight=Highlight;exports.DataLabel=DataLabel;exports.ErrorBar=ErrorBar;exports.DataLabelSettings=DataLabelSettings;exports.MarkerSettings=MarkerSettings;exports.Points=Points;exports.Trendline=Trendline;exports.ErrorBarCapSettings=ErrorBarCapSettings;exports.ChartSegment=ChartSegment;exports.ErrorBarSettings=ErrorBarSettings;exports.SeriesBase=SeriesBase;exports.Series=Series;exports.Legend=Legend;exports.ChartAnnotation=ChartAnnotation;exports.ChartAnnotationSettings=ChartAnnotationSettings;exports.LabelBorder=LabelBorder;exports.MultiLevelCategories=MultiLevelCategories;exports.StripLineSettings=StripLineSettings;exports.MultiLevelLabels=MultiLevelLabels;exports.ScrollbarSettingsRange=ScrollbarSettingsRange;exports.ScrollbarSettings=ScrollbarSettings;exports.BoxAndWhiskerSeries=BoxAndWhiskerSeries;exports.MultiColoredAreaSeries=MultiColoredAreaSeries;exports.MultiColoredLineSeries=MultiColoredLineSeries;exports.MultiColoredSeries=MultiColoredSeries;exports.MultiLevelLabel=MultiLevelLabel;exports.ScrollBar=ScrollBar;exports.ParetoSeries=ParetoSeries;exports.Export=Export;return exports;};sf.charts=sf.base.extend({},sf.charts,sfstockchart({}));

/***/ })

/******/ });